(self["webpackChunkfrondend"]=self["webpackChunkfrondend"]||[]).push([[443],{5399:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=function(){var e=this;e._self._c;return e._m(0)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"about"},[t("h1",[e._v("This is an about page")])])}],o=i(1001),s={},a=(0,o.Z)(s,n,r,!1,null,null,null),c=a.exports},966:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("PageHeader"),t("div",{staticClass:"container"},[t("div",{staticClass:"content"},[e._m(0),t("div",{staticClass:"section2 section1"},[e._m(1),t("div",{staticClass:"items-wrap"},e._l(e.obj,(function(i,n){return t("div",{key:n,staticClass:"li"},[t("div",{staticClass:"left"},[t("img",{attrs:{src:i.imgurl,alt:""}})]),t("div",{staticClass:"right"},[t("div",{staticClass:"name"},[e._v(e._s(i.name))]),t("div",{staticClass:"context"},[e._v(e._s(i.text))])])])})),0)]),t("div",{staticClass:"section3"},[e._m(2),t("div",{staticClass:"right"},["1"!=this.userInfo.isagency?t("div",{staticClass:"name"},[e._v("支付金额 "),e._m(3)]):e._e(),t("div",{staticClass:"btn",on:{click:e.hanldBuy}},[e._v(" 升级维护中 ")])])])])])],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"section1"},[t("div",{staticClass:"section-title"},[t("div",{staticClass:"icon"}),e._v(" 服务介绍 ")]),t("div",{staticClass:"desc"},[e._v(" 无需写代码，专业团队规范运营，自带售后部门，无需熟悉使用教程，开通后就可以拥有自己的网站去推广引流，当一个新副业！ ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"section-title"},[t("div",{staticClass:"icon"}),e._v(" 功能特性 ")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"paylogo"},[t("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/bsLuElJnYSyLnSOLjKth.png",alt:""}})])},function(){var e=this,t=e._self._c;return t("span",[e._v("￥5.00 "),t("span",{staticClass:"_spen"},[e._v("￥10.00")])])}],o=(i(7658),i(8848)),s={name:"agencydesc",data(){return{userInfo:{},obj:[{imgurl:i(25),name:"大使推广收益",text:"一键分享自己专属长链"},{imgurl:i(3001),name:"专业团队规范运营",text:"全程专人帮扶，科学专业运营，可完全放心开通入驻。"},{imgurl:i(3120),name:"自带售后客服",text:"无需自己管理，光影提供免费客服团队帮你全新处理售后问题"},{imgurl:i(8870),name:"沟通群",text:"开通代理后，可加入内部沟通群，实时了解最新学习动态。"}]}},mounted(){localStorage.getItem("tooltoken")&&this.getUserInfo()},methods:{showTip(){o.Z.success("正在升级，敬请期待")},hanldBuy(){this.$router.push({name:"useradmin"})}}},a=s,c=i(1001),l=(0,c.Z)(a,n,r,!1,null,"82433324",null),u=l.exports},5542:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("PageHeader"),t("div",{staticClass:"container"},e._l(e.ctxlist,(function(i,n){return t("div",{key:n,staticClass:"box",on:{click:function(t){return e.target(i)}}},[t("div",{staticClass:"left"},[t("van-image",{attrs:{"lazy-load":"",src:i.logo,alt:""}})],1),t("div",{staticClass:"right"},[t("p",{staticClass:"p1"},[e._v(e._s(i.name))]),t("p",{staticClass:"p4"},[e._v(e._s(e.transformT(i.createtime)))])])])})),0),t("Footer")],1)},r=[],o=i(3657),s={name:"caregory",data(){return{ctxlist:[]}},computed:{transformT(){return function(e){let t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),a=t.getSeconds().toString().padStart(2,"0");return`${i}/${n}/${r} ${o}:${s}:${a}`}}},mounted(){this.getCtxlist()},methods:{getCtxlist(){(0,o._x)().then((e=>{200==e.code&&(this.ctxlist=e.result)}))},target(e){this.$router.replace({name:"home",query:{ctxid:e.id}})}}},a=s,c=i(1001),l=(0,c.Z)(a,n,r,!1,null,"b8a21328",null),u=l.exports},2837:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"page-left"},[e._m(0),t("div",{staticClass:"form-wrap"},[t("van-form",{attrs:{"label-align":"top"},on:{submit:e.onSubmit}},[t("van-cell-group",{attrs:{inset:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.loginType,expression:"loginType == 1"}]},[t("van-field",{attrs:{name:"邮箱",label:"",type:"email",placeholder:"邮箱 一键注册登录",rules:[{required:!0,message:"请填写邮箱"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.loginType,expression:"loginType == 2"}]},[t("van-field",{attrs:{name:"手机号",label:"",type:"email",placeholder:"手机号 一键注册登录",rules:[{required:!0,message:"请填写手机号"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("div",{staticClass:"vercode"},[t("div",{staticClass:"vercode-ipt"},[t("van-field",{attrs:{name:"验证码",label:"",placeholder:"验证码",rules:[{required:!0,message:"请填写验证码"}]},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),t("div",{staticClass:"getCode",on:{click:e.getCode}},[e._v(e._s(e.time>0?`${e.time}秒`:"获取验证码"))])])]),t("div",{staticClass:"radio-wrap"},[t("div",{staticClass:"radio",class:{selected:e.checked},on:{click:e.adiochange}}),t("div",{staticClass:"text",on:{click:function(t){return e.target(1)}}},[e._v("已阅读用户隐协议")])]),t("div",{staticClass:"submitBtn",on:{click:e.onSubmit}},[e._v(" 提交 ")])],1)],1),t("div",{staticClass:"login-form-item"},[e._v(" 邮箱一键登录 ")]),t("div",{staticClass:"text-small"},[e._v(" Copyright© 2022 高智网 ")])]),t("div",{staticClass:"page-right"})])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[e._v(" 欢迎使用 "),t("span",[e._v("高智网")])]),t("div",{staticClass:"text"},[e._v("欢迎使用高智网")])])}],o=i(4471);function s(e){return new Promise((t=>{(0,o.Z)({url:"/getEmailCode",method:"post",data:e}).then((e=>{t(e.data)}))}))}function a(e){return new Promise((t=>{(0,o.Z)({url:"/getvertify",method:"post",data:e}).then((e=>{t(e.data)}))}))}function c(e){return new Promise((t=>{(0,o.Z)({url:"/register",method:"post",data:e}).then((e=>{t(e)}))}))}var l=i(8848);const u="MySecretKeyCtx",h=i(8082);var d={name:"HelloWorld",data(){return{username:"",password:"123123@&@",code:"",checked:!0,time:0,loginType:1,params:{}}},mounted(){let e=this.$route;this.params=e.query,console.log("params===>>>",this.params),this.params.Invitationcode&&this.decrypt()},methods:{getCode(){if(!(this.time>0)){if(1==this.loginType){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,t=e.test(this.username);if(!t)return void l.Z.fail("输入的邮箱的格式不正确");s({email:this.username}).then((e=>{if(console.log(e),-1==e.code&&l.Z.fail(e.message),200==e.code){this.time=300;let e=setInterval((()=>{this.time-=1,this.time<=0&&clearInterval(e)}),1e3);l.Z.clear(),l.Z.success("验证码发送成功")}}))}if(2==this.loginType){const e=/^1\d{10}$/,t=e.test(this.username);if(!t)return void l.Z.fail("输入的手机号的格式不正确");a({phone:this.username}).then((e=>{if(console.log(e),200==e.code){this.time=300;let e=setInterval((()=>{this.time-=1,this.time<=0&&clearInterval(e)}),1e3);l.Z.clear(),l.Z.success("验证码发送成功")}}))}}},adiochange(e){checked.value=!checked.value},onSubmit(e){console.log("submit",e),this.checked&&c({email:this.username,password:this.password,code:this.code}).then((e=>{console.log(e);let t=e.headers["x-access-token"];t?(localStorage.setItem("tooltoken",t),this.getUserInfo(),this.$router.replace({name:"home",query:{ctxid:localStorage.getItem("ctxid")}})):l.Z.fail(e.data.message)}))},changType(e){this.loginType=e},decrypt(){const e=h.AES.decrypt(this.params.Invitationcode,u),t=e.toString(h.enc.Utf8);this.Invitationcode=t,localStorage.setItem("Invitationcode",this.Invitationcode)},target(e){window.open(`${location.host}/vhtml?id=${e}`)}}},f=d,p=i(1001),g=(0,p.Z)(f,n,r,!1,null,"9b3e890e",null),v=g.exports},5535:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("PageHeader"),t("div",{staticClass:"container"},[t("div",{staticClass:"title2"},[e._v("我的订单")]),t("div",{staticClass:"keyWrap"},[t("div",{staticClass:"items-wrap"},[t("div",{staticClass:"table-wrap"},[t("div",{staticClass:"li header"},[t("div",{staticClass:"td",staticStyle:{width:"40px"}},[e._v("序号")]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v("订单号")]),t("div",{staticClass:"td",staticStyle:{width:"220px"}},[e._v("Key")]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v("视频加速次数")]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v("实付金额/元")]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v("剩余加速次数")]),t("div",{staticClass:"td",staticStyle:{width:"120px"}},[e._v("适用平台")]),t("div",{staticClass:"td",staticStyle:{width:"170px"}},[e._v("订单时间")]),e.isShowSpecialTd?t("div",{staticClass:"td",staticStyle:{width:"190px"}},[e._v("其它")]):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderList.length,expression:"!orderList.length"}],staticClass:"noData"},[e._v(" 您还没订单 ")]),e._l(e.orderList,(function(i,n){return e.orderList.length&&e.canShow(i)?t("div",{key:n,staticClass:"li"},[t("div",{staticClass:"td",staticStyle:{width:"40px"}},[e._v(e._s(n+1))]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v(e._s(i.orderid))]),t("div",{staticClass:"td",staticStyle:{width:"220px"},style:{"font-weight":i.toolkey?550:400,color:i.toolkey?"#006eff":"#606266"}},[2==i.status?t("span",[-1==i.canuse?t("span",[e._v("分站开通成功")]):t("span",[e._v(e._s("-"==i.toolkey?"审核通过":i.toolkey))])]):e._e(),1==i.status?t("span",[e._v(e._s("审核中"))]):e._e(),2==i.status&&-1!=i.canuse&&"-"!=i.toolkey?t("span",{staticClass:"copy",on:{click:function(t){return e.setClipdata(i.toolkey)}}},[e._v("复制")]):e._e()]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v(e._s(i.count))]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v(e._s(0==i.balance?"-":i.price))]),t("div",{staticClass:"td",staticStyle:{width:"100px"}},[e._v(e._s(1==i.status?"-":i.balance))]),t("div",{staticClass:"td special",staticStyle:{width:"120px"}},[e._v(e._s(e.transCanuse(i.canuse)))]),t("div",{staticClass:"td",staticStyle:{width:"170px"}},[e._v(e._s(e.transformT(i.createtime)))]),e.isShowSpecialTd?t("div",{staticClass:"td specail2",staticStyle:{width:"190px"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:i.canShowOtherTd,expression:"item.canShowOtherTd"}]},[t("a",{attrs:{href:"https://k16kfjgxwbn.feishu.cn/share/base/form/shrcneg70W5wHYaNEfbBUBk9vGh",target:"_blank"}},[e._v("申请退款")]),e._v("     "),t("a",{attrs:{href:"https://k16kfjgxwbn.feishu.cn/share/base/query/shrcnR7a78MRJtujQ4BvQ2aETjg",target:"_blank"}},[e._v("退款查询")])])]):e._e(),t("div")]):e._e()}))],2)])]),e.orderList.length?t("div",{staticClass:"payTip"},[e._v("订单为系统自动审核，最慢5-10分钟审核完成后刷新一下页面")]):e._e()]),t("div",{staticClass:"kefu-wrap"},[t("Kefu")],1)],1)},r=[],o=i(2322),s=i(8848),a=i(3657),c=i(1147),l={name:"myorder",data(){return{orderList:[],token:"",userinfo:"",Internetcourse:[],isShowSpecialTd:!1,isShowAfterSalesService:!1}},components:{Kefu:o.Z},computed:{transCanuse(){return function(e){let t="";if("2037"==e)return t="全平台",t;if("-1"==e)return t="开通分站",t;for(var i in this.Internetcourse)if(this.Internetcourse[i].id==e)return t=this.Internetcourse[i].name,t}},transformT(){return function(e){let t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),a=t.getSeconds().toString().padStart(2,"0");return`${i}/${n}/${r} ${o}:${s}:${a}`}},getDiscontMoney(){return function(){let e=this.currentObj.originalprice,t=this.currentObj.price,i=e?(e-t).toFixed(1):"";return i}},getcountdown(){return function(e){let t=new Date(e),i=new Date;var n=Math.round(t-i);let r=n;return r}},canShow(){return function(e){let t=!0,i=(new Date).getTime(),n=new Date(e.createtime).getTime();return(i-n)/1e3/60/60/24>7&&2==e.canuse&&(t=!1),(i-n)/1e3/60/60/24>7&&2!=e.status&&(t=!1),parseInt(e.balance)<1&&(t=!1),t}}},mounted(){this.token=localStorage.getItem("tooltoken"),this.token&&(this.getCtxlist(),this.userinfo=JSON.parse(localStorage.getItem("userinfo")))},methods:{getCtxlist(){(0,a._x)().then((async e=>{200==e.code&&(this.Internetcourse=e.result);let t=await(0,c.DT)(1);this.isShowAfterSalesService=t.data,this.getOrder()}))},getOrder(){(0,c.uz)().then((e=>{if(200==e.code){let t=(new Date).getTime();this.orderList=e.data,this.isShowAfterSalesService&&(this.orderList=this.orderList.map((e=>{let i=Object.assign({},e),n=new Date(e.createtime).getTime();return(t-n)/1e3/60/60/24<7&&2==e.status&&e.balance>e.count-11&&(i.canShowOtherTd=!0,this.isShowSpecialTd=!0),i})))}403==e.code&&(s.Z.fail("登录已过期，请点击立即购买重新登录"),localStorage.removeItem("tooltoken"))}))},setClipdata(e){try{navigator.clipboard.writeText(e),s.Z.success("复制成功")}catch(t){const i=document.createElement("textarea");i.setAttribute("readonly","readonly"),i.value=e,document.body.appendChild(i),i.select(),document.execCommand("copy")&&(document.execCommand("copy"),s.Z.success("复制成功")),document.body.removeChild(i)}}}},u=l,h=i(1001),d=(0,h.Z)(u,n,r,!1,null,"65e163d8",null),f=d.exports},8066:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("PageHeader"),t("div",{staticClass:"container"},[t("div",{staticClass:"section2"},[t("div",{staticClass:"top"},[t("div",{staticClass:"title"},[t("div",{staticClass:"left"},[e._v("我的专属邀请链接")]),t("div",{staticClass:"right",on:{click:function(t){return e.setClipdata(e.userurl)}}},[e._v("一键复制")])]),t("div",{staticClass:"userurl"},[e._v(e._s(e.userurl))])]),t("div",{staticClass:"table"},[t("div",{staticClass:"title"},[t("div",{staticClass:"name"},[e._v("我的邀请")]),t("div",{staticClass:"right",on:{click:e.getMoney}},[e._v("立即提现")])]),e._m(0)]),e._m(1)])])],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[t("div",{staticClass:"li thead"},[t("div",{staticClass:"td td1"},[e._v("邀请用户账号")]),t("div",{staticClass:"td"},[e._v("购买金额")]),t("div",{staticClass:"td"},[e._v("奖励金额")]),t("div",{staticClass:"td"},[e._v("奖励加速次数")])]),t("div",{staticClass:"nodata"},[e._v(" 暂无邀请记录 ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"bottom"},[t("div",{staticClass:"name"},[e._v("邀请规则")]),t("div",{staticClass:"wrap"},[t("div",{staticClass:"li"},[e._v("1、将你的专属链接分享至好友，好友通过你的链接购买后，即可立即获取奖励;")]),t("div",{staticClass:"li"},[e._v("2、每推荐1位新用户，联系客服后赠送50%加速次数或人民币订单金额的25%，两者选一;")]),t("div",{staticClass:"li"},[e._v("3、若好友通过链接购买后无法显示，将购买记录发给客服即可")])])])}],o=(i(7658),i(8848)),s=i(5348);const a="MySecretKeyCtx",c=i(8082);var l={name:"user",data(){return{userinfo:"",userurl:"",Invitationcode:""}},computed:{transformT(){return function(e){let t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),a=t.getSeconds().toString().padStart(2,"0");return`${i}/${n}/${r} ${o}:${s}:${a}`}}},mounted(){let e=localStorage.getItem("userinfo");e?(this.userinfo=JSON.parse(e),this.generateRandomString()):this.$router.push("/login")},methods:{getMoney(){o.Z.fail("暂无邀请记录")},generateRandomString(){this.Invitationcode=this.encrypt(this.userinfo.email,a),this.userurl=`${location.host}/login?Invitationcode=${this.Invitationcode}`;let e=this.decrypt(this.Invitationcode,a);console.log("result",e)},encrypt(e,t){const i=c.AES.encrypt(e,t).toString();return i},decrypt(e,t){const i=c.AES.decrypt(e,t),n=i.toString(c.enc.Utf8);return n},openPayConfirm(){s.Z.confirm({title:"提示",confirmButtonText:"确认",cancelButtonText:"取消",confirmButtonColor:"#086de1",message:"确认要退出登录吗？"}).then((()=>{localStorage.clear(),location.reload()})).catch((()=>{}))},setClipdata(e){try{navigator.clipboard.writeText(e),o.Z.success("复制成功")}catch(t){const i=document.createElement("textarea");i.setAttribute("readonly","readonly"),i.value=e,document.body.appendChild(i),i.select(),document.execCommand("copy")&&(document.execCommand("copy"),o.Z.success("复制成功")),document.body.removeChild(i)}}}},u=l,h=i(1001),d=(0,h.Z)(u,n,r,!1,null,"3c94921f",null),f=d.exports},1202:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("li",{staticClass:"suggest"},[t("strong",{staticClass:"suggest_title"},[e._v("不好！你好像迷路了，请检查以下域名是否正确：")]),t("p",{staticClass:"url",attrs:{id:"url"}},[e._v(e._s(e.url))])])])},r=[],o={name:"null404",data(){return{url:""}},mounted(){this.url=window.location.host}},s=o,a=i(1001),c=(0,a.Z)(s,n,r,!1,null,"2e423166",null),l=c.exports},3098:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"header"},[e._m(0),t("div",{staticClass:"left"},[t("div",{staticClass:"item1"},[t("img",{attrs:{src:i(6553),alt:""}}),t("span",{on:{click:e.openPayConfirm}},[e._v("返回首页")])])])]),t("div",{staticClass:"container"},[t("div",{staticClass:"section section1"},[t("div",{staticClass:"title"},[t("div",{staticClass:"left"},[e._v("支付金额")]),t("div",{staticClass:"right",on:{click:e.openPayConfirm}},[e._v("退出支付")])]),t("div",{staticClass:"num"},[t("div",{staticClass:"money"},[e._v(" ￥ "),t("span",[e._v(e._s(e.currentObj.price||""))])]),e.currentObj.text2?t("div",{staticClass:"desc"},[e._v("("+e._s(e.currentObj.text2)+")")]):e._e()]),t("div",{staticClass:"info"},[t("div",{staticClass:"li"},[t("span",[e._v("支付类型：")]),e._v(e._s(-1==e.currentObj.id?"分站开通":"网课加速支付"))]),t("div",{staticClass:"li"},[t("span",[e._v("用户账号：")]),e._v(e._s(e.userinfo.email))]),e._m(1)])]),t("div",{staticClass:"section section2"},[e._m(2),t("div",{staticClass:"code-wrap"},[t("div",{staticClass:"tip"},[t("div",{staticClass:"text"},[e._v("距离二维码过期还剩")]),t("div",{staticClass:"time"},[t("van-count-down",{attrs:{time:e.time},on:{finish:e.finish}})],1)]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"zfb-code_info"},[t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:e.currentObj.zfbimg,alt:""}})]),e._m(3)])])]),t("div",{staticClass:"back"},[t("span",{staticClass:"pay",on:{click:e.hidepopup2}},[e._v("支付已完成？")]),t("span",{staticClass:"nopay",on:{click:e.handleBack}},[e._v("再考虑考虑")])])])])])},r=[function(){var e=this,t=e._self._c;return t("h1",{staticClass:"right"},[t("img",{attrs:{src:i(6949),alt:""}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"li"},[t("span",[e._v("支付方式：")]),e._v("支付宝")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"paylogo"},[t("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/bsLuElJnYSyLnSOLjKth.png",alt:""}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"contxt"},[t("div",{staticClass:"left"},[t("img",{attrs:{src:"https://t16img.yangkeduo.com/mms_static/2019-05-21/7e5db98c-2ed1-47af-a12f-041c8ddb4ac2.png",alt:""}})]),t("div",{staticClass:"right"},[t("div",{staticClass:"p"},[e._v("请使用支付宝“扫一扫”")]),t("div",{staticClass:"p"},[e._v("扫描二维码支付")])])])}],o=i(1147),s=i(5348),a=i(8848),c={name:"pay",data(){return{currentObj:{},userinfo:"",time:3e5}},mounted(){this.userinfo=JSON.parse(localStorage.getItem("userinfo")),this.userinfo||this.$router.replace("/login"),this.currentObj=this.$route.params,"{}"!=JSON.stringify(this.currentObj)&&localStorage.setItem("orderdata",JSON.stringify(this.currentObj)),this.currentObj.createDate=new Date,this.currentObj.id?this.getCountTime():(this.currentObj=JSON.parse(localStorage.getItem("orderdata")),this.openPayConfirm()),console.log("this.currentObj===>>",this.currentObj)},methods:{handleBack(){let e=localStorage.getItem("ctxid");e?this.$router.replace({name:"home",query:{ctxid:e}}):this.backHome()},getCountTime(){let e=new Date,t=this.currentObj.createDate;var i=Math.round((e-t)/1e3);this.time=3e5-i},openPayConfirm(){s.Z.confirm({title:"提示",confirmButtonText:"已支付",cancelButtonText:"未支付",confirmButtonColor:"#086de1",message:"是否已完成支付？"}).then((()=>{this.hidepopup2()})).catch((()=>{this.handleBack()}))},hidepopup2(){(0,o.OR)({price:this.currentObj.price.toString(),count:this.currentObj.count,canuse:this.currentObj.canuse,parentid:this.currentObj.parentid,type:this.currentObj.type}).then((e=>{200==e.code?(this.$router.replace({path:"/myorder"}),localStorage.removeItem("orderdata"),localStorage.removeItem("parentid")):a.Z.fail(e.message?e.message:"创建创建失败，请稍后重试，或联系下面客服")}))},finish(){this.openPayConfirm()}}},l=c,u=i(1001),h=(0,u.Z)(l,n,r,!1,null,"0639eef8",null),d=h.exports},5403:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("PageHeader"),t("div",{staticClass:"container"},[t("div",{staticClass:"section"},[t("div",{staticClass:"li",on:{click:function(t){return e.$navTo({name:"myorder"})}}},[e._m(0),t("div",{staticClass:"desc"},[e._v("可查询个人订单，剩余加速次数")])]),t("div",{staticClass:"li",on:{click:e.openPayConfirm}},[e._m(1),t("div",{staticClass:"desc"},[e._v("点击退出登录，可切换账号")])])]),t("van-overlay",{attrs:{show:e.isShow},on:{click:function(t){e.isShow=!1}}},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[e._v(" 微信账号 ")]),t("div",{staticClass:"desc"},[e._v(" 由于微信联系较多，添加时（备注 我要投诉） ")]),t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:"http://123.249.73.192:7003/image/ctx/schoolimg/tousuwx.jpg",alt:""}})])])])])],1)],1)},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"name"},[t("img",{attrs:{src:i(83),alt:""}}),e._v(" 我的订单 ")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"name"},[t("img",{attrs:{src:i(1935),alt:""}}),e._v(" 退出登录 ")])}],o=(i(7658),i(8848)),s=i(5348),a={name:"user",data(){return{userinfo:"",isShow:!1}},mounted(){this.userinfo=localStorage.getItem("userinfo")?JSON.parse(localStorage.getItem("userinfo")):{}},methods:{showTip(){o.Z.success("正在完善，敬请期待")},target(e){this.$router.push(e)},openPayConfirm(){s.Z.confirm({title:"提示",confirmButtonText:"确认",cancelButtonText:"取消",confirmButtonColor:"#086de1",message:"确认要退出登录吗？"}).then((()=>{localStorage.clear(),this.$store.commit("SetUserInfo",{}),this.$router.replace("/"),setTimeout((()=>{location.reload()}),1500)})).catch((()=>{}))}}},c=a,l=i(1001),u=(0,l.Z)(c,n,r,!1,null,"1333ef64",null),h=u.exports},3402:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"wrap",domProps:{innerHTML:e._s(e.content)}})])},r=[],o=i(4471);function s(e){return new Promise((t=>{(0,o.Z)({method:"get",url:"/argument?id="+e}).then((e=>{t(e.data)}))}))}var a={name:"vhtml",data(){return{url:"",content:""}},mounted(){document.title="用户协议",console.log(this.$route.query.id);let e=this.$route.query.id;s(e).then((e=>{this.content=e.result[0].content}))},methods:{}},c=a,l=i(1001),u=(0,l.Z)(c,n,r,!1,null,"c03e9434",null),h=u.exports},6273:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return mr}});var n={};i.r(n),i.d(n,{ABORT:function(){return ke},AFTER_DEFINITION_CHANGE:function(){return Ue},AUTOPLAY_PREVENTED:function(){return xe},AUTOPLAY_STARTED:function(){return Se},BEFORE_DEFINITION_CHANGE:function(){return He},BUFFER_CHANGE:function(){return Ce},CANPLAY:function(){return ae},CANPLAY_THROUGH:function(){return ce},COMPLETE:function(){return Ee},CSS_FULLSCREEN_CHANGE:function(){return Be},DEFINITION_CHANGE:function(){return Fe},DESTROY:function(){return Ie},DOWNLOAD_SPEED_CHANGE:function(){return Le},DURATION_CHANGE:function(){return le},EMPTIED:function(){return ve},ENDED:function(){return ee},ENTER_PLAYER:function(){return De},ERROR:function(){return ie},FPS_STUCK:function(){return nt},FULLSCREEN_CHANGE:function(){return Me},LEAVE_PLAYER:function(){return Re},LOADED_DATA:function(){return he},LOADED_METADATA:function(){return de},LOADING:function(){return Oe},LOAD_START:function(){return ge},MINI_STATE_CHANGE:function(){return Ne},PAUSE:function(){return te},PIP_CHANGE:function(){return Ke},PLAY:function(){return J},PLAYER_BLUR:function(){return we},PLAYER_FOCUS:function(){return _e},PLAYING:function(){return $},PLAYNEXT:function(){return Ye},PROGRESS:function(){return pe},RATE_CHANGE:function(){return fe},READY:function(){return be},REPLAY:function(){return Ae},RESET:function(){return qe},RETRY:function(){return We},ROTATE:function(){return Ve},SCREEN_SHOT:function(){return Ge},SEEKED:function(){return re},SEEKING:function(){return ne},SEI_PARSED:function(){return je},SHORTCUT:function(){return Qe},SOURCE_ERROR:function(){return Je},SOURCE_SUCCESS:function(){return $e},STALLED:function(){return ye},STATS_EVENTS:function(){return it},SUSPEND:function(){return me},SWITCH_SUBTITLE:function(){return et},TIME_UPDATE:function(){return oe},URL_CHANGE:function(){return Pe},URL_NULL:function(){return Te},USER_ACTION:function(){return Ze},VIDEO_EVENTS:function(){return tt},VIDEO_RESIZE:function(){return ze},VOLUME_CHANGE:function(){return ue},WAITING:function(){return se},XGLOG:function(){return Xe}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("PageHeader"),e._m(0)],1)},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{attrs:{id:"mse"}})])}];i(7658);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function h(e,t,i){return t&&u(e.prototype,t),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,i){return t=I(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function k(e){var t=v();return function(){var i,n=p(e);if(t){var r=p(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return m(this,i)}}function C(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=p(e),null===e)break;return e}function _(){return _="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=C(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},_.apply(this,arguments)}function w(e){return b(e)||T(e)||S(e)||E()}function b(e){if(Array.isArray(e))return x(e)}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e,t){if(e){if("string"===typeof e)return x(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if("object"!==typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function I(e){var t=A(e,"string");return"symbol"===typeof t?t:String(t)}var P=i(7058),L=i.n(P),R="undefined"!==typeof window&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,D={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},O="%c[xgplayer]",M={config:{debug:R?3:0},logInfo:function(e){for(var t,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.config.debug>=3&&(t=console).log.apply(t,[O,D.info,e].concat(n))},logWarn:function(e){for(var t,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.config.debug>=1&&(t=console).warn.apply(t,[O,D.warn,e].concat(n))},logError:function(e){var t;if(!(this.config.debug<1)){for(var i=this.config.debug>=2?"trace":"error",n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console)[i].apply(t,[O,D.error,e].concat(r))}}};function B(e){e.logInfo=M.logInfo.bind(e),e.logWarn=M.logWarn.bind(e),e.logError=M.logError.bind(e)}var N=function(){function e(t){l(this,e),this.bufferedList=t}return h(e,[{key:"start",value:function(e){return this.bufferedList[e].start}},{key:"end",value:function(e){return this.bufferedList[e].end}},{key:"length",get:function(){return this.bufferedList.length}}]),e}(),F={};function H(e,t){for(var i=0,n=t.length;i<n;i++)if(e.indexOf(t[i])>-1)return!0;return!1}function U(e){var t=c(e);return null!==e&&("object"===t||"function"===t)}function j(e,t,i){var n,r,o,s,a,c,l=0,u=!1,h=!1,d=!0,f=!t&&0!==t&&"function"===typeof window.requestAnimationFrame;if("function"!==typeof e)throw new TypeError("Expected a function");function p(t){var i=n,o=r;return n=r=void 0,l=t,s=e.apply(o,i),s}function g(e,t){return f?(window.cancelAnimationFrame(a),window.requestAnimationFrame(e)):setTimeout(e,t)}function v(e){if(f)return window.cancelAnimationFrame(e);clearTimeout(e)}function y(e){return l=e,a=g(C,t),u?p(e):s}function m(e){var i=e-c,n=e-l,r=t-i;return h?Math.min(r,o-n):r}function k(e){var i=e-c,n=e-l;return void 0===c||i>=t||i<0||h&&n>=o}function C(){var e=Date.now();if(k(e))return _(e);a=g(C,m(e))}function _(e){return a=void 0,d&&n?p(e):(n=r=void 0,s)}function w(){void 0!==a&&v(a),l=0,n=c=r=a=void 0}function b(){return void 0===a?s:_(Date.now())}function T(){return void 0!==a}function S(){for(var e=Date.now(),i=k(e),o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if(n=l,r=this,c=e,i){if(void 0===a)return y(c);if(h)return a=g(C,t),p(c)}return void 0===a&&(a=g(C,t)),s}return t=+t||0,U(i)&&(u=!!i.leading,h="maxWait"in i,o=h?Math.max(+i.maxWait||0,t):o,d="trailing"in i?!!i.trailing:d),S.cancel=w,S.flush=b,S.pending=T,S}function W(e,t,i){var n=!0,r=!0;if("function"!==typeof e)throw new TypeError("Expected a function");return U(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),j(e,t,{leading:n,trailing:r,maxWait:t})}function z(){var e=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return"zh-cn"===e&&(e="zh"),e}function K(e,t,i){if(e){var n=e.getAttribute(i);return!(!n||n!==t||"VIDEO"!==e.tagName&&"AUDIO"!==e.tagName)}}F.createDom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=document.createElement(e);return r.className=n,r.innerHTML=t,Object.keys(i).forEach((function(t){var n=t,o=i[t];"video"===e||"audio"===e||"live-video"===e?o&&r.setAttribute(n,o):r.setAttribute(n,o)})),r},F.createDomFromHtml=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{var n=document.createElement("div");n.innerHTML=e;var r=n.children;return n=null,r.length>0?(r=r[0],i&&F.addClass(r,i),t&&Object.keys(t).forEach((function(e){r.setAttribute(e,t[e])})),r):null}catch(o){return M.logError("util.createDomFromHtml",o),null}},F.hasClass=function(e,t){if(!e||!t)return!1;try{return Array.prototype.some.call(e.classList,(function(e){return e===t}))}catch(n){var i=e.className&&"object"===c(e.className)?e.getAttribute("class"):e.className;return i&&!!i.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},F.addClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.add(t)}))}catch(i){F.hasClass(e,t)||(e.className&&"object"===c(e.className)?e.setAttribute("class",e.getAttribute("class")+" "+t):e.className+=" "+t)}},F.removeClass=function(e,t){if(e&&t)try{t.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach((function(t){t&&e.classList.remove(t)}))}catch(i){F.hasClass(e,t)&&t.split(/\s+/g).forEach((function(t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className&&"object"===c(e.className)?e.setAttribute("class",e.getAttribute("class").replace(i," ")):e.className=e.className.replace(i," ")}))}},F.toggleClass=function(e,t){e&&t.split(/\s+/g).forEach((function(t){F.hasClass(e,t)?F.removeClass(e,t):F.addClass(e,t)}))},F.classNames=function(){for(var e=arguments,t=[],i=function(i){"String"===F.typeOf(e[i])?t.push(e[i]):"Object"===F.typeOf(e[i])&&Object.keys(e[i]).map((function(n){e[i][n]&&t.push(n)}))},n=0;n<arguments.length;n++)i(n);return t.join(" ")},F.findDom=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,i=arguments.length>1?arguments[1]:void 0;try{e=t.querySelector(i)}catch(n){M.logError("util.findDom",n),0===i.indexOf("#")&&(e=t.getElementById(i.slice(1)))}return e},F.getCss=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,!1)[t]},F.padStart=function(e,t,i){var n=String(i),r=t>>0,o=Math.ceil(r/n.length),s=[],a=String(e);while(o--)s.push(n);return s.join("").substring(0,r-a.length)+a},F.format=function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=F.padStart(Math.floor(e/3600),2,0),i=F.padStart(Math.floor((e-3600*t)/60),2,0),n=F.padStart(Math.floor(e-3600*t-60*i),2,0);return("00"===t?[i,n]:[t,i,n]).join(":")},F.event=function(e){if(e.touches){var t=e.touches[0]||e.changedTouches[0];e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop}e._target=e.target||e.srcElement},F.typeOf=function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},F.deepCopy=function(e,t){if("Object"===F.typeOf(t)&&"Object"===F.typeOf(e))return Object.keys(t).forEach((function(i){"Object"!==F.typeOf(t[i])||t[i]instanceof Node?"Array"===F.typeOf(t[i])?e[i]="Array"===F.typeOf(e[i])?e[i].concat(t[i]):t[i]:e[i]=t[i]:void 0===e[i]||void 0===e[i]?e[i]=t[i]:F.deepCopy(e[i],t[i])})),e},F.deepMerge=function(e,t){return Object.keys(t).map((function(i){var n;"Array"===F.typeOf(t[i])&&"Array"===F.typeOf(e[i])?"Array"===F.typeOf(e[i])&&(n=e[i]).push.apply(n,w(t[i])):F.typeOf(e[i])!==F.typeOf(t[i])||null===e[i]||"Object"!==F.typeOf(e[i])||t[i]instanceof window.Node?null!==t[i]&&(e[i]=t[i]):F.deepMerge(e[i],t[i])})),e},F.getBgImage=function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var i=document.createElement("a");return i.href=t.replace(/url\("|"\)/g,""),i.href},F.copyDom=function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},F.setInterval=function(e,t,i,n){e._interval[t]||(e._interval[t]=window.setInterval(i.bind(e),n))},F.clearInterval=function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},F.setTimeout=function(e,t,i){e._timers||(e._timers=[]);var n=setTimeout((function(){t(),F.clearTimeout(e,n)}),i);return e._timers.push(n),n},F.clearTimeout=function(e,t){var i=e._timers;if("Array"===F.typeOf(i)){for(var n=0;n<i.length;n++)if(i[n]===t){i.splice(n,1),clearTimeout(t);break}}else clearTimeout(t)},F.clearAllTimers=function(e){var t=e._timers;"Array"===F.typeOf(t)&&(t.map((function(e){clearTimeout(e)})),e._timerIds=[])},F.createImgBtn=function(e,t,i,n){var r,o,s,a=F.createDom("xg-".concat(e),"",{},"xgplayer-".concat(e,"-img"));(a.style.backgroundImage='url("'.concat(t,'")'),i&&n)&&(["px","rem","em","pt","dp","vw","vh","vm","%"].every((function(e){return!(i.indexOf(e)>-1&&n.indexOf(e)>-1)||(r=parseFloat(i.slice(0,i.indexOf(e)).trim()),o=parseFloat(n.slice(0,n.indexOf(e)).trim()),s=e,!1)})),a.style.width="".concat(r).concat(s),a.style.height="".concat(o).concat(s),a.style.backgroundSize="".concat(r).concat(s," ").concat(o).concat(s),a.style.margin="start"===e?"-".concat(o/2).concat(s," auto auto -").concat(r/2).concat(s):"auto 5px auto 5px");return a},F.Hex2RGBA=function(e,t){var i=[];if(/^\#[0-9A-F]{3}$/i.test(e)){var n="#";e.replace(/[0-9A-F]/gi,(function(e){n+=e+e})),e=n}return/^#[0-9A-F]{6}$/i.test(e)?(e.replace(/[0-9A-F]{2}/gi,(function(e){i.push(parseInt(e,16))})),"rgba(".concat(i.join(","),", ").concat(t,")")):"rgba(255, 255, 255, 0.1)"},F.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},F.checkIsFunction=function(e){return e&&"function"===typeof e},F.checkIsObject=function(e){return null!==e&&"object"===c(e)},F.hide=function(e){e.style.display="none"},F.show=function(e,t){e.style.display=t||"block"},F.isUndefined=function(e){if("undefined"===typeof e||null===e)return!0},F.isNotNull=function(e){return!(void 0===e||null===e)},F.setStyleFromCsstext=function(e,t){if(t)if("String"===F.typeOf(t)){var i=t.replace(/\s+/g,"").split(";");i.map((function(t){if(t){var i=t.split(":");i.length>1&&(e.style[i[0]]=i[1])}}))}else Object.keys(t).map((function(i){e.style[i]=t[i]}))},F.filterStyleFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],i=e.style.cssText;if(!i)return{};var n=i.replace(/\s+/g,"").split(";"),r={},o={};return n.map((function(e){if(e){var i=e.split(":");i.length>1&&(H(i[0],t)?r[i[0]]=i[1]:o[i[0]]=i[1])}})),e.setAttribute("style",""),Object.keys(o).map((function(t){e.style[t]=o[t]})),r},F.getStyleFromCsstext=function(e){var t=e.style.cssText;if(!t)return{};var i=t.replace(/\s+/g,"").split(";"),n={};return i.map((function(e){if(e){var t=e.split(":");t.length>1&&(n[t[0]]=t[1])}})),n},F.preloadImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e){var n=new window.Image;n.onload=function(e){n=null,t&&t(e)},n.onerror=function(e){n=null,i&&i(e)},n.src=e}},F.stopPropagation=function(e){e&&e.stopPropagation()},F.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},F.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},F.checkTouchSupport=function(){return"ontouchstart"in window},F.getBuffered2=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=[],n=0;n<e.length;n++)i.push({start:e.start(n)<.5?0:e.start(n),end:e.end(n)});i.sort((function(e,t){var i=e.start-t.start;return i||t.end-e.end}));var r=[];if(t)for(var o=0;o<i.length;o++){var s=r.length;if(s){var a=r[s-1].end;i[o].start-a<t?i[o].end>a&&(r[s-1].end=i[o].end):r.push(i[o])}else r.push(i[o])}else r=i;return new N(r)},F.getEventPos=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.touches&&e.touches.length>0&&(e=e.touches[0]),{x:e.x/t,y:e.y/t,clientX:e.clientX/t,clientY:e.clientY/t,offsetX:e.offsetX/t,offsetY:e.offsetY/t,pageX:e.pageX/t,pageY:e.pageY/t}},F.requestAnimationFrame=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t)return t(e)},F.getHostFromUrl=function(e){if("String"!==F.typeOf(e))return"";var t=e.split("/"),i="";return t.length>3&&t[2]&&(i=t[2]),i},F.cancelAnimationFrame=function(e){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;t&&t(e)},F.isMSE=function(e){return!!(e&&e instanceof HTMLMediaElement)&&(/^blob/.test(e.currentSrc)||/^blob/.test(e.src))},F.isBlob=function(e){return"string"===typeof e&&/^blob/.test(e)},F.generateSessionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new Date).getTime();try{e=parseInt(e)}catch(n){e=0}t+=e,window.performance&&"function"===typeof window.performance.now&&(t+=parseInt(window.performance.now()));var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?i:3&i|8).toString(16)}));return i},F.createEvent=function(e){var t;return"function"===typeof window.Event?t=new Event(e):(t=document.createEvent("Event"),t.initEvent(e,!0,!0)),t},F.adjustTimeByDuration=function(e,t,i){return t&&e&&(e>t||i&&e<t)?t:e},F.createPositionBar=function(e,t){var i=F.createDom("xg-bar","",{"data-index":-1},e);return t.appendChild(i),i},F.getTransformStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,scale:1,rotate:0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i={scale:"".concat(e.scale||1),translate:"".concat(e.x||0,"%, ").concat(e.y||0,"%"),rotate:"".concat(e.rotate||0,"deg")},n=Object.keys(i);return n.forEach((function(e){var n=new RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),r="".concat(e,"(").concat(i[e],")");n.test(t)?(n.lastIndex=-1,t=t.replace(n,r)):t+="".concat(r," ")})),t},F.convertDeg=function(e){return Math.abs(e)<=1?360*e:e%360},F.getIndexByTime=function(e,t){var i=t.length,n=-1;if(i<1)return n;if(e<=t[0].end||i<2)n=0;else if(e>t[i-1].end)n=i-1;else for(var r=1;r<i;r++)if(e>t[r-1].end&&e<=t[r].end){n=r;break}return n},F.getOffsetCurrentTime=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=-1;if(n=i>=0&&i<t.length?i:F.getIndexByTime(e,t),n<0)return-1;var r=t.length,o=t[n],s=o.start,a=o.end,c=o.cTime,l=o.offset;return e<s?c:e>=s&&e<=a?e-l:e>a&&n>=r-1?a:-1},F.getCurrentTimeByOffset=function(e,t){var i=-1;if(!t||t.length<0)return e;for(var n=0;n<t.length;n++)if(e<=t[n].duration){i=n;break}if(-1!==i){var r=t[i].start;return i-1<0?r+e:r+(e-t[i-1].duration)}return e};var V={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},G=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],Y={get device(){var e=Y.os;return e.isPc?"pc":"mobile"},get browser(){if("undefined"===typeof navigator)return"";var e=navigator.userAgent.toLowerCase(),t={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(t).filter((function(i){return t[i].test(e)})))[0]},get os(){if("undefined"===typeof navigator)return{};var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),i=/(?:SymbianOS)/.test(e)||t,n=/(?:Android)/.test(e),r=/(?:Firefox)/.test(e),o=/(?:iPad|PlayBook)/.test(e)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,s=o||n&&!/(?:Mobile)/.test(e)||r&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!s,c=!a&&!n&&!i&&!s;return{isTablet:s,isPhone:a,isIpad:o,isIos:a||o,isAndroid:n,isPc:c,isSymbian:i,isWindowsPhone:t,isFireFox:r}},get osVersion(){if("undefined"===typeof navigator)return 0;var e=navigator.userAgent,t="";t=/(?:iPhone)|(?:iPad|PlayBook)/.test(e)?V.ios:V.android;var i=t?t.exec(e):[];if(i&&i.length>=3){var n=i[2].split(".");return n.length>0?parseInt(n[0]):0}return 0},get isWeixin(){if("undefined"===typeof navigator)return!1;var e=/(micromessenger)\/([\d.]+)/,t=e.exec(navigator.userAgent.toLocaleLowerCase());return!!t},isSupportMP4:function(){var e={isSupport:!1,mime:""};if("undefined"===typeof document)return e;if(this.supportResult)return this.supportResult;var t=document.createElement("video");return"function"===typeof t.canPlayType&&G.map((function(i){"probably"===t.canPlayType('video/mp4; codecs="'.concat(i,'"'))&&(e.isSupport=!0,e.mime+="||".concat(i))})),this.supportResult=e,t=null,e},isMSESupport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if("undefined"===typeof MediaSource||!MediaSource)return!1;try{return MediaSource.isTypeSupported(e)}catch(t){return this._logger.error(e,t),!1}},isHevcSupported:function(){return!("undefined"===typeof MediaSource||!MediaSource.isTypeSupported)&&(MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"'))},probeConfigSupported:function(e){var t={supported:!1,smooth:!1,powerEfficient:!1};if(!e||"undefined"===typeof navigator)return Promise.resolve(t);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(e);var i=e.video||{},n=e.audio||{};try{var r=MediaSource.isTypeSupported(i.contentType),o=MediaSource.isTypeSupported(n.contentType);return Promise.resolve({supported:r&&o,smooth:!1,powerEfficient:!1})}catch(s){return Promise.resolve(t)}}},Q="3.0.15",X={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},Z={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},q=h((function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};l(this,e);var n=t&&t.i18n?t.i18n.ERROR_TYPES:null;if(t.media){var r=i.mediaError?i.mediaError:t.media.error||{},o=t.duration,s=t.currentTime,a=t.ended,c=t.src,u=t.currentSrc,h=t.media,d=h.readyState,f=h.networkState,p=i.errorCode||r.code;Z[p]&&(p=Z[p]);var g={playerVersion:Q,currentTime:s,duration:o,ended:a,readyState:d,networkState:f,src:c||u,errorType:i.errorType,errorCode:p,message:i.errorMessage||r.message,mediaError:r,originError:i.originError?i.originError.stack:"",host:F.getHostFromUrl(c||u)};return i.ext&&Object.keys(i.ext).map((function(e){g[e]=i.ext[e]})),g}if(arguments.length>1){for(var v={playerVersion:Q,domain:document.domain},y=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],m=0;m<arguments.length;m++)v[y[m]]=arguments[m];return v.ex=n?(n[arguments[0]]||{}).msg:"",v}})),J="play",$="playing",ee="ended",te="pause",ie="error",ne="seeking",re="seeked",oe="timeupdate",se="waiting",ae="canplay",ce="canplaythrough",le="durationchange",ue="volumechange",he="loadeddata",de="loadedmetadata",fe="ratechange",pe="progress",ge="loadstart",ve="emptied",ye="stalled",me="suspend",ke="abort",Ce="bufferedChange",_e="focus",we="blur",be="ready",Te="urlNull",Se="autoplay_started",xe="autoplay_was_prevented",Ee="complete",Ae="replay",Ie="destroy",Pe="urlchange",Le="download_speed_change",Re="leaveplayer",De="enterplayer",Oe="loading",Me="fullscreen_change",Be="cssFullscreen_change",Ne="mini_state_change",Fe="definition_change",He="before_definition_change",Ue="after_definition_change",je="SEI_PARSED",We="retry",ze="video_resize",Ke="pip_change",Ve="rotate",Ge="screenShot",Ye="playnext",Qe="shortcut",Xe="xglog",Ze="user_action",qe="reset",Je="source_error",$e="source_success",et="switch_subtitle",tt=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],it={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},nt="fps_stuck";function rt(e,t){this&&this.emit&&("error"===e?this.errorHandler(e,t.error):this.emit(e,t))}function ot(e,t){return function(i,n){var r={player:t,eventName:e,originalEvent:i,detail:i.detail||{},timeStamp:i.timeStamp,currentTime:t.currentTime,duration:t.duration,paused:t.paused,ended:t.ended,isInternalOp:!!t._internalOp[i.type],muted:t.muted,volume:t.volume,host:F.getHostFromUrl(t.currentSrc),vtype:t.vtype};if(t.removeInnerOP(i.type),"timeupdate"===e&&(t._currentTime=t.media&&t.media.currentTime),"ratechange"===e){var o=t.media?t.media.playbackRate:0;if(o&&t._rate===o)return;t._rate=t.media&&t.media.playbackRate}if("durationchange"===e&&(t._duration=t.media.duration),"volumechange"===e&&(r.isMutedChange=t._lastMuted!==t.muted,t._lastMuted=t.muted),"error"===e&&(r.error=n||t.video.error),t.mediaEventMiddleware[e]){var s=rt.bind(t,e,r);try{t.mediaEventMiddleware[e].call(t,r,s)}catch(a){throw rt.call(t,e,r),a}}else rt.call(t,e,r)}}var st=function(e){f(i,e);var t=k(i);function i(e){var n;l(this,i),n=t.call(this,e),n._hasStart=!1,n._currentTime=0,n._duration=0,n._internalOp={},n._lastMuted=!1,n.vtype="MP4",n._rate=-1,n.mediaConfig=Object.assign({},{controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"x5-playsinline":e.playsinline,"webkit-playsinline":e.playsinline,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:0|e.tabindex,mediaType:e.mediaType||"video","data-index":-1},e.videoConfig,e.videoAttributes);var r=e["x5-video-player-type"]||e.x5VideoPlayerType;return Y.isWeixin&&Y.os.isAndroid&&r&&(n.mediaConfig["x5-video-player-type"]=r,delete n.mediaConfig.playsinline,delete n.mediaConfig["webkit-playsinline"],delete n.mediaConfig["x5-playsinline"]),e.loop&&(n.mediaConfig.loop="loop"),e.autoplayMuted&&!Object.prototype.hasOwnProperty.call(n.mediaConfig,"muted")&&(n.mediaConfig.muted=!0),n.media=F.createDom(n.mediaConfig.mediaType,"",n.mediaConfig,""),e.defaultPlaybackRate&&(n.media.defaultPlaybackRate=n.media.playbackRate=e.defaultPlaybackRate),"Number"===F.typeOf(e.volume)&&(n.volume=e.volume),e.autoplayMuted&&(n.media.muted=!0,n._lastMuted=!0),e.autoplay&&(n.media.autoplay=!0),n._interval={},n.mediaEventMiddleware={},n.attachVideoEvents(),n}return h(i,[{key:"setEventsMiddleware",value:function(e){var t=this;Object.keys(e).map((function(i){t.mediaEventMiddleware[i]=e[i]}))}},{key:"removeEventsMiddleware",value:function(e){var t=this;Object.keys(e).map((function(e){delete t.mediaEventMiddleware[e]}))}},{key:"attachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers||(this._evHandlers=tt.map((function(t){var i="on".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));return"function"===typeof e[i]&&e.on(t,e[i]),d({},t,ot(t,e))}))),this._evHandlers.forEach((function(e){var i=Object.keys(e)[0];t.addEventListener(i,e[i],!1)}))}},{key:"detachVideoEvents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.media;this._evHandlers.forEach((function(e){var i=Object.keys(e)[0];t.removeEventListener(i,e[i],!1)})),this._evHandlers.forEach((function(t){var i=Object.keys(t)[0],n="on".concat(i.charAt(0).toUpperCase()).concat(i.slice(1));"function"===typeof e[n]&&e.off(i,e[n])})),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,t){var i=this;e.removeAttribute("src"),e.load(),t.forEach((function(e,t){i.media.appendChild(F.createDom("source","",{src:"".concat(e.src),type:"".concat(e.type||""),"data-index":t+1}))}));var n=e.children;if(n){this._videoSourceCount=n.length,this._videoSourceIndex=n.length,this._vLoadeddata=function(e){i.emit($e,{src:e.target.currentSrc,host:F.getHostFromUrl(e.target.currentSrc)})};for(var r=null,o=0;o<this._evHandlers.length;o++)if("error"===Object.keys(this._evHandlers[o])[0]){r=this._evHandlers[o];break}!this._sourceError&&(this._sourceError=function(e){var t=parseInt(e.target.getAttribute("data-index"),10);if(i._videoSourceIndex--,0===i._videoSourceIndex||t>=i._videoSourceCount){var n={code:4,message:"sources_load_error"};r?r.error(e,n):i.errorHandler("error",n)}var o=X[4];i.emit(Je,new q(i,{errorType:o,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:e.target.src}))});for(var s=0;s<n.length;s++)n[s].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var t=e.children;if(t&&0!==t.length&&this._sourceError){for(var i=0;i<t.length;i++)t[i].removeEventListener("error",this._sourceError);while(t.length>0)e.removeChild(t[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.media&&(this.media.error||t)){var i=this.media.error||t,n=i.code?X[i.code]:"other",r=i.message;this.media.currentSrc||(r="empty_src",i={code:6,message:r}),this.emit(e,new q(this,{errorType:n,errorCode:i.code,errorMessage:i.message||"",mediaError:i}))}}},{key:"destroy",value:function(){for(var e in this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null,this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){var e=this.media?this.media.play():null;return e}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return!!this.media&&this.media.canPlayType(e)}},{key:"getBufferedRange",value:function(e){var t=[0,0];if(!this.media)return t;e||(e=this.media.buffered);var i=this.media.currentTime;if(e)for(var n=0,r=e.length;n<r;n++)if(t[0]=e.start(n),t[1]=e.end(n),t[0]<=i&&i<=t[1])break;return t[0]-i<=0&&i-t[1]<=0?t:[0,0]}},{key:"autoplay",get:function(){return!!this.media&&this.media.autoplay},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?F.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var t=this.media.buffered;if(!t||0===t.length)return e;for(var i=0;i<t.length;i++)if((t.start(i)<=this.currentTime||t.start(i)<.1)&&t.end(i)>=this.currentTime)return{start:t.start(i),end:t.end(i)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?void 0!==this.media.currentTime?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return!!this.media&&this.media.defaultMuted},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return!!this.media&&this.media.ended}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){var e=this.media.error;if(!e)return"";var t=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return t[this.media.error.code-1]}},{key:"loop",get:function(){return!!this.media&&this.media.loop},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return!!this.media&&this.media.muted},set:function(e){this.media&&this.media.muted!==e&&(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return!this.media||this.media.paused}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){this.media&&e!==1/0&&(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return!!this.media&&this.media.preload},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return!!this.media&&this.media.seekable}},{key:"seeking",get:function(){return!!this.media&&this.media.seeking}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){this.media&&(this.emit(Pe,e),this.emit(se),this._currentTime=0,this._duration=0,F.isMSE(this.media)?this.onWaiting():(this._detachSourceEvents(this.media),"Array"===F.typeOf(e)?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()))}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e!==1/0&&this.media&&(this.media.volume=e)}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(n=_(p(i.prototype),"emit",this)).call.apply(n,[this,e,t].concat(o))}},{key:"on",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(n=_(p(i.prototype),"on",this)).call.apply(n,[this,e,t].concat(o))}},{key:"once",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(n=_(p(i.prototype),"once",this)).call.apply(n,[this,e,t].concat(o))}},{key:"off",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];(n=_(p(i.prototype),"off",this)).call.apply(n,[this,e,t].concat(o))}},{key:"offAll",value:function(){_(p(i.prototype),"removeAllListeners",this).call(this)}}]),i}(L()),at=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};l(this,e),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=t}return h(e,[{key:"openDB",value:function(e){var t=this,i=this,n=this.myDB.version||1,r=i.indexedDB.open(i.myDB.name,n);r.onerror=function(e){},r.onsuccess=function(n){t.myDB.db=n.target.result,e.call(i)},r.onupgradeneeded=function(e){var t=e.target.result;e.target.transaction,t.objectStoreNames.contains(i.myDB.ojstore.name)||t.createObjectStore(i.myDB.ojstore.name,{keyPath:i.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var e=this;e.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(e,t){for(var i,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)i=n.add(t[r]),i.onerror=function(){},i.onsuccess=function(){}}},{key:"putData",value:function(e,t){for(var i,n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=0;r<t.length;r++)i=n.put(t[r]),i.onerror=function(){},i.onsuccess=function(){}}},{key:"getDataByKey",value:function(e,t,i){var n=this,r=this.myDB.db.transaction(e,"readwrite").objectStore(e),o=r.get(t);o.onerror=function(){i.call(n,null)},o.onsuccess=function(e){var t=e.target.result;i.call(n,t)}}},{key:"deleteData",value:function(e,t){var i=this.myDB.db.transaction(e,"readwrite").objectStore(e);i.delete(t)}},{key:"clearData",value:function(e){var t=this.myDB.db.transaction(e,"readwrite").objectStore(e);t.clear()}}]),e}(),ct=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],lt=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],ut=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],ht="data-xgplayerid";function dt(e,t,i){for(var n=arguments.length,r=new Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];var s=t.call.apply(t,[e].concat(r));i&&"function"===typeof i&&(s&&s.then?s.then((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.call.apply(i,[e].concat(n))})):i.call.apply(i,[e].concat(r)))}function ft(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[e]&&(this.__hooks[e]=null),function(){var n=arguments,r=this;if(i.pre)try{var o;(o=i.pre).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))}catch(c){throw c.message="[pluginName: ".concat(this.pluginName,":").concat(e,":pre error] >> ").concat(c.message),c}if(this.__hooks&&this.__hooks[e])try{var s,a=(s=this.__hooks[e]).call.apply(s,[this,this].concat(Array.prototype.slice.call(arguments)));a?a.then?a.then((function(e){!1!==e&&dt.apply(void 0,[r,t,i.next].concat(w(n)))})).catch((function(e){throw e})):dt.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments))):void 0===a&&dt.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments)))}catch(c){throw c.message="[pluginName: ".concat(this.pluginName,":").concat(e,"] >> ").concat(c.message),c}else dt.apply(void 0,[this,t,i.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function pt(e,t){var i=this.__hooks;if(i)return i.hasOwnProperty(e)?(i&&(i[e]=t),!0):(console.warn("has no supported hook which name [".concat(e,"]")),!1)}function gt(e,t){var i=this.__hooks;i&&delete i[e]}function vt(e){if(this.plugins&&this.plugins[e.toLowerCase()]){for(var t=this.plugins[e.toLowerCase()],i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.useHooks&&t.useHooks.apply(t,n)}}function yt(e){if(this.plugins&&this.plugins[e.toLowerCase()]){var t=this.plugins[e.toLowerCase()];if(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.removeHooks&&t.removeHooks.apply(t,n)}}}function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.__hooks={},t&&t.map((function(t){e.__hooks[t]=null})),Object.defineProperty(e,"hooks",{get:function(){return e.__hooks&&Object.keys(e.__hooks).map((function(t){if(e.__hooks[t])return t}))}})}function kt(e){e.__hooks=null}function Ct(e,t,i){for(var n=arguments.length,r=new Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];if(!e.__hooks||!e.__hooks[t])return i.call.apply(i,[e,e].concat(r));var s,a=(s=e.__hooks[t]).call.apply(s,[e,e].concat(r));if(a&&a.then)a.then((function(t){return!1===t?null:i.call.apply(i,[e,e].concat(r))})).catch((function(e){console.warn("[runHooks]".concat(t," reject"),e.message)}));else if(!1!==a)return i.call.apply(i,[e,e].concat(r))}function _t(e,t){M.logError("[".concat(e,"] event or callback cant be undefined or null when call ").concat(t))}var wt=function(){function e(t){l(this,e),F.checkIsFunction(this.beforeCreate)&&this.beforeCreate(t),mt(this),this.__args=t,this.__events={},this.__onceEvents={},this.config=t.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(t)}return h(e,[{key:"beforeCreate",value:function(e){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(e){this.player=e.player,this.playerConfig=e.player&&e.player.config,this.pluginName=e.pluginName?e.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=e.player&&e.player.logger}},{key:"updateLang",value:function(e){e||(e=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var e=F.checkTouchSupport()?"touch":"mouse";return!this.playerConfig||"touch"!==this.playerConfig.domEventType&&"mouse"!==this.playerConfig.domEventType||(e=this.playerConfig.domEventType),e}},{key:"on",value:function(e,t){var i=this;e&&t&&this.player?"string"===typeof e?(this.__events[e]=t,this.player.on(e,t)):Array.isArray(e)&&e.forEach((function(e){i.__events[e]=t,i.player.on(e,t)})):_t(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(e,t){var i=this;e&&t&&this.player?"string"===typeof e?(this.__onceEvents[e]=t,this.player.once(e,t)):Array.isArray(e)&&e.forEach((function(n){i.__onceEvents[n]=t,i.player.once(e,t)})):_t(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(e,t){var i=this;e&&t&&this.player?"string"===typeof e?(delete this.__events[e],this.player.off(e,t)):Array.isArray(e)&&e.forEach((function(n){delete i.__events[e],i.player.off(n,t)})):_t(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var e=this;["__events","__onceEvents"].forEach((function(t){Object.keys(e[t]).forEach((function(i){e[t][i]&&e.off(i,e[t][i]),i&&delete e[t][i]}))})),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(e){var t;if(this.player){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];(t=this.player).emit.apply(t,[e].concat(n))}}},{key:"emitUserAction",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.player){var n=a(a({},i),{},{pluginName:this.pluginName});this.player.emitUserAction(e,t,n)}}},{key:"hook",value:function(e,t){return ft.call.apply(ft,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return pt.call.apply(pt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return gt.call.apply(gt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.player)return i&&(t.pluginName=i),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player?this.player.getPlugin(e):null}},{key:"__destroy",value:function(){var e=this,t=this.player,i=this.pluginName;this.offAll(),F.clearAllTimers(this),F.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map((function(t){e[t]=null})),t.unRegisterPlugin(i),kt(this)}}],[{key:"defineGetterOrSetter",value:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&Object.defineProperty(e,i,t[i])}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),e}(),bt=i(7414),Tt=i.n(bt),St={CONTROLS:"controls",ROOT:"root"},xt={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};function Et(e){return!!e&&(e.indexOf&&/^(?:http|data:|\/)/.test(e))}function At(e,t){return"object"===c(e)&&e.class&&"string"===typeof e.class?"".concat(t," ").concat(e.class):t}function It(e,t){return"object"===c(e)&&e.attr&&"object"===c(e.attr)&&Object.keys(e.attr).map((function(i){t[i]=e.attr[i]})),t}function Pt(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=null;if(e instanceof window.Element)return F.addClass(e,i),Object.keys(n).map((function(t){e.setAttribute(t,n[t])})),e;if(Et(e)||Et(e.url))return n.src=Et(e)?e:e.url||"",o=F.createDom(e.tag||"img","",n,"xg-img ".concat(i)),o;if("function"===typeof e)try{return o=e(),o instanceof window.Element?(F.addClass(o,i),Object.keys(n).map((function(e){o.setAttribute(e,n[e])})),o):(M.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(r,"] is a function mast return an Element Object")),null)}catch(s){return M.logError("Plugin named [".concat(r,"]:createIcon"),s),null}return"string"===typeof e?F.createDomFromHtml(e,n,i):(M.logWarn("warn>>icons.".concat(t," in config of plugin named [").concat(r,"] is invalid")),null)}function Lt(e,t){var i=t.config.icons||t.playerConfig.icons;Object.keys(e).map((function(n){var r=e[n],o=r&&r.class?r.class:"",s=r&&r.attr?r.attr:{},a=null;i&&i[n]&&(o=At(i[n],o),s=It(i[n],s),a=Pt(i[n],n,o,s,t.pluginName)),!a&&r&&(a=Pt(r.icon?r.icon:r,s,o,{},t.pluginName)),t.icons[n]=a}))}function Rt(e,t){Object.keys(e).map((function(i){Object.defineProperty(t.langText,i,{get:function(){var n=t.lang,r=t.i18n;return r[i]?r[i]:e[i]&&e[i][n]||""}})}))}var Dt=function(e){f(i,e);var t=k(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,i),e=t.call(this,n),e.__delegates=[],e}return h(i,[{key:"__init",value:function(e){if(_(p(i.prototype),"__init",this).call(this,e),e.root){var t=e.root,n=null;this.icons={},this.root=null,this.parent=null;var r=this.registerIcons()||{};Lt(r,this),this.langText={};var o=this.registerLanguageTexts()||{};Rt(o,this);var s="";try{s=this.render()}catch(l){throw M.logError("Plugin:".concat(this.pluginName,":render"),l),new Error("Plugin:".concat(this.pluginName,":render:").concat(l.message))}if(s)n=i.insert(s,t,e.index),n.setAttribute("data-index",e.index);else{if(!e.tag)return;n=F.createDom(e.tag,"",e.attr,e.name),n.setAttribute("data-index",e.index),t.appendChild(n)}this.root=n,this.parent=t;var a=this.config.attr||{},c=this.config.style||{};this.setAttr(a),this.setStyle(c),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var t=this.children();t&&"object"===c(t)&&Object.keys(t).length>0&&Object.keys(t).map((function(i){var n,r,o=i,s=t[o],a={root:e.root};"function"===typeof s?(n=e.config[o]||{},r=s):"object"===c(s)&&"function"===typeof s.plugin&&(n=s.options?F.deepCopy(e.config[o]||{},s.options):e.config[o]||{},r=s.plugin),a.config=n,void 0!==n.index&&(a.index=n.index),n.root&&(a.root=n.root),e.registerPlugin(r,a,o)}))}}},{key:"updateLang",value:function(e){function t(e,i){for(var n=0;n<e.children.length;n++)e.children[n].children.length>0?t(e.children[n],i):i(e.children[n])}e||(e=this.lang);var i=this.root,n=this.i18n,r=this.langText;i&&t(i,(function(t){var i=t.getAttribute&&t.getAttribute("lang-key");if(i){var o=n[i.toUpperCase()]||r[i];o&&(t.innerHTML="function"===typeof o?o(e):o)}}))}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this.i18n||{},n=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var r=i[t]||n[t]||"";r&&(e.innerHTML=r)}},{key:"plugins",value:function(){return this._children}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.root=t.root||this.root;var r=_(p(i.prototype),"registerPlugin",this).call(this,e,t,n);return this._children.push(r),r}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,n){var r=this;if(arguments.length<3&&"function"===typeof t)Array.isArray(e)?e.forEach((function(e){r.bindEL(e,t)})):this.bindEL(e,t);else{var o=i.delegate.call(this,this.root,e,t,n);this.__delegates=this.__delegates.concat(o)}}},{key:"unbind",value:function(e,t){var i=this;if(arguments.length<3&&"function"===typeof t)Array.isArray(e)?e.forEach((function(e){i.unbindEL(e,t)})):this.unbindEL(e,t);else for(var n="".concat(e,"_").concat(t),r=0;r<this.__delegates.length;r++)if(this.__delegates[r].key===n){this.__delegates[r].destroy(),this.__delegates.splice(r,1);break}}},{key:"setStyle",value:function(e,t){var i=this;if(this.root)return"String"===F.typeOf(e)?this.root.style[e]=t:void("Object"===F.typeOf(e)&&Object.keys(e).map((function(t){i.root.style[t]=e[t]})))}},{key:"setAttr",value:function(e,t){var i=this;if(this.root)return"String"===F.typeOf(e)?this.root.setAttribute(e,t):void("Object"===F.typeOf(e)&&Object.keys(e).map((function(t){i.root.setAttribute(t,e[t])})))}},{key:"setHtml",value:function(e,t){this.root&&(this.root.innerHTML=e,"function"===typeof t&&t())}},{key:"bindEL",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"===typeof t&&this.root.addEventListener(e,t,i)}},{key:"unbindEL",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.root&&"on".concat(e)in this.root&&"function"===typeof t&&this.root.removeEventListener(e,t,i)}},{key:"show",value:function(e){if(this.root){this.root.style.display=void 0!==e?e:"block";var t=window.getComputedStyle(this.root,null),i=t.getPropertyValue("display");"none"===i&&(this.root.style.display="block")}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!t||!(t instanceof window.Element))return null;try{return"string"===typeof e?this.find(e).appendChild(t):e.appendChild(t)}catch(i){return M.logError("Plugin:appendChild",i),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,t=this.player;this.__delegates.map((function(e){e.destroy()})),this.__delegates=[],this._children instanceof Array&&(this._children.map((function(e){t.unRegisterPlugin(e.pluginName)})),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),_(p(i.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map((function(t){e[t]=null}))}}],[{key:"insert",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.children.length,r=Number(i),o=e instanceof window.Node;if(n){for(var s=0,a=null,c="";s<n;s++){a=t.children[s];var l=Number(a.getAttribute("data-index"));if(l>=r){c="beforebegin";break}l<r&&(c="afterend")}return o?"afterend"===c?t.appendChild(e):t.insertBefore(e,a):a.insertAdjacentHTML(c,e),"afterend"===c?t.children[t.children.length-1]:t.children[s]}return o?t.appendChild(e):t.insertAdjacentHTML("beforeend",e),t.children[t.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[];if(e instanceof window.Node&&"function"===typeof n)if(Array.isArray(i))i.forEach((function(i){var s=Tt()(e,t,i,n,r);s.key="".concat(t,"_").concat(i),o.push(s)}));else{var s=Tt()(e,t,i,n,r);s.key="".concat(t,"_").concat(i),o.push(s)}return o}},{key:"ROOT_TYPES",get:function(){return St}},{key:"POSITIONS",get:function(){return xt}}]),i}(wt),Ot=function(){function e(){var t=this;if(l(this,e),d(this,"__trigger",(function(e){var i=(new Date).getTime();t.timeStamp=i;for(var n=0;n<e.length;n++)t.__runHandler(e[n].target)})),this.__handlers=[],this.timeStamp=0,this.observer=null,window.ResizeObserver)try{this.observer=new window.ResizeObserver(W(this.__trigger,100,{trailing:!0})),this.timeStamp=(new Date).getTime()}catch(i){console.error(i)}}return h(e,[{key:"addObserver",value:function(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var i=e.getAttribute(ht),n=this.__handlers,r=-1,o=0;o<n.length;o++)n[o]&&e===n[o].target&&(r=o);r>-1?this.__handlers[r].handler=t:this.__handlers.push({target:e,handler:t,playerId:i})}}},{key:"unObserver",value:function(e){var t=-1;this.__handlers.map((function(i,n){e===i.target&&(t=n)}));try{this.observer&&this.observer.unobserve(e)}catch(i){}this.observer&&this.observer.unobserve(e),t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(e){for(var t=this.__handlers,i=0;i<t.length;i++)if(t[i]&&e===t[i].target){try{t[i].handler(e)}catch(n){console.error(n)}return!0}return!1}}]),e}(),Mt=null;function Bt(e,t){return Mt||(Mt=new Ot),Mt.addObserver(e,t),Mt}function Nt(e,t){Mt.unObserver(e,t)}var Ft={pluginGroup:{},init:function(e){var t=e._pluginInfoId;t||(t=(new Date).getTime(),e._pluginInfoId=t),!e.config.closeResizeObserver&&Bt(e.root,(function(){e.resize()})),this.pluginGroup[t]={_originalOptions:e.config||{},_plugins:{}}},formatPluginInfo:function(e,t){var i=null,n=null;return e.plugin&&"function"===typeof e.plugin?(i=e.plugin,n=e.options):(i=e,n={}),t&&(n.config=t||{}),{PLUFGIN:i,options:n}},checkPluginIfExits:function(e,t){for(var i=0;i<t.length;i++)if(e.toLowerCase()===t[i].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(e,t){for(var i=Object.keys(t),n=null,r=0;r<i.length;r++)if(e.toLowerCase()===i[r].toLowerCase()){n=t[i[r]];break}return"Object"===F.typeOf(n)?{root:n.root,position:n.position}:{}},lazyRegister:function(e,t){var i=this,n=t.timeout||1500;return Promise.race([t.loader().then((function(t){var n;n=t&&t.__esModule?t.default:t,i.register(e,n,t.options)})),new Promise((function(e,t){setTimeout((function(){t(new Error("timeout"))}),n)}))])},register:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&t&&"function"===typeof t&&void 0!==t.prototype){var n=e._pluginInfoId;if(n&&this.pluginGroup[n]){this.pluginGroup[n]._plugins||(this.pluginGroup[n]._plugins={});var r=this.pluginGroup[n]._plugins,o=this.pluginGroup[n]._originalOptions;i.player=e;var s=i.pluginName||t.pluginName;if(!s)throw new Error("The property pluginName is necessary");if(!t.isSupported||t.isSupported(e.config.mediaType,e.config.codecType)){i.config||(i.config={});for(var a=Object.keys(o),c=0;c<a.length;c++)if(s.toLowerCase()===a[c].toLowerCase()){var l=o[a[c]];"Object"===F.typeOf(l)?i.config=Object.assign({},i.config,o[a[c]]):"Boolean"===F.typeOf(l)&&(i.config.disable=!l);break}t.defaultConfig&&Object.keys(t.defaultConfig).forEach((function(e){"undefined"===typeof i.config[e]&&(i.config[e]=t.defaultConfig[e])})),i.root?"string"===typeof i.root&&(i.root=e[i.root]):i.root=e.root,i.index=i.config.index||0;try{r[s.toLowerCase()]&&(this.unRegister(n,s.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(s,"] exist, destroy the old instance")));var u=new t(i);return r[s.toLowerCase()]=u,r[s.toLowerCase()].func=t,u&&"function"===typeof u.afterCreate&&u.afterCreate(),u}catch(h){throw console.error(h),h}}else console.warn("not supported plugin [".concat(s,"]"))}}},unRegister:function(e,t){e._pluginInfoId&&(e=e._pluginInfoId),t=t.toLowerCase();try{var i=this.pluginGroup[e]._plugins[t];i&&(i.pluginName&&i.__destroy(),delete this.pluginGroup[e]._plugins[t])}catch(n){console.error("[unRegister:".concat(t,"] cgid:[").concat(e,"] error"),n)}},deletePlugin:function(e,t){var i=e._pluginInfoId;i&&this.pluginGroup[i]&&this.pluginGroup[i]._plugins&&delete this.pluginGroup[i]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t&&this.pluginGroup[t]?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){var i=e._pluginInfoId;if(!i||!this.pluginGroup[i])return null;var n=t.toLowerCase();return this.pluginGroup[i]._plugins[n]},beforeInit:function(e){var t=this;function i(e){return e&&e.then?e:new Promise((function(e){e()}))}return new Promise((function(n){var r;if(t.pluginGroup)return r=e._loadingPlugins&&e._loadingPlugins.length?Promise.all(e._loadingPlugins):Promise.resolve(),r.then((function(){var r=e._pluginInfoId;if(t.pluginGroup[r]){var o=t.pluginGroup[r]._plugins,s=[];Object.keys(o).forEach((function(e){if(o[e]&&o[e].beforePlayerInit)try{var t=o[e].beforePlayerInit();s.push(i(t))}catch(n){throw s.push(i(null)),n}})),Promise.all([].concat(s)).then((function(){n()})).catch((function(e){console.error(e),n()}))}else n()}))}))},afterInit:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins;Object.keys(i).forEach((function(e){i[e]&&i[e].afterPlayerInit&&i[e].afterPlayerInit()}))}},setLang:function(e,t){var i=t._pluginInfoId;if(i&&this.pluginGroup[i]){var n=this.pluginGroup[i]._plugins;Object.keys(n).forEach((function(t){if(n[t].updateLang)n[t].updateLang(e);else try{n[t].lang=e}catch(i){console.warn("".concat(t," setLang"))}}))}},reRender:function(e){var t=this,i=e._pluginInfoId;if(i&&this.pluginGroup[i]){var n=[],r=this.pluginGroup[i]._plugins;Object.keys(r).forEach((function(e){"controls"!==e&&r[e]&&(n.push({plugin:r[e].func,options:r[e].__args}),t.unRegister(i,e))})),n.forEach((function(i){t.register(e,i.plugin,i.options)}))}},onPluginsReady:function(e){var t=e._pluginInfoId;if(t&&this.pluginGroup[t]){var i=this.pluginGroup[t]._plugins||{};Object.keys(i).forEach((function(e){i[e].onPluginsReady&&"function"===typeof i[e].onPluginsReady&&i[e].onPluginsReady()}))}},destroy:function(e){var t=e._pluginInfoId;if(this.pluginGroup[t]){Nt(e.root);for(var i=this.pluginGroup[t]._plugins,n=0,r=Object.keys(i);n<r.length;n++){var o=r[n];this.unRegister(t,o)}delete this.pluginGroup[t],delete e._pluginInfoId}}},Ht={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function Ut(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:z(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var jt=function(e,t){var i,n,r;r=t.preset&&t.options?new t.preset(t.options,e.config):new t({},e.config);var o=r,s=o.plugins,a=void 0===s?[]:s,c=o.ignores,l=void 0===c?[]:c,u=o.icons,h=void 0===u?{}:u,d=o.i18n,f=void 0===d?[]:d;e.config.plugins||(e.config.plugins=[]),e.config.ignores||(e.config.ignores=[]),(i=e.config.plugins).push.apply(i,w(a)),(n=e.config.ignores).push.apply(n,w(l)),Object.keys(h).map((function(t){e.config.icons[t]||(e.config.icons[t]=h[t])}));var p=e.config.i18n||[];f.push.apply(f,w(p)),e.config.i18n=f},Wt=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onMouseEnter",(function(t){var i=y(e),n=i.player,r=i.playerConfig;r.closeControlsBlur&&n.focus({autoHide:!1})})),d(y(e),"onMouseLeave",(function(t){var i=y(e),n=i.player;n.focus()})),e}return h(i,[{key:"beforeCreate",value:function(e){e.config.mode||"mobile"!==Y.device||(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,t=this.config,i=t.disable,n=t.height,r=t.mode;if(!i){"flex"===r&&this.player.addClass(Ht.FLEX_CONTROLS);var o={height:"".concat(n,"px")};Object.keys(o).map((function(t){e.root.style[t]=o[t]})),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(Ne,(function(t){t?F.addClass(e.root,"mini-controls"):F.removeClass(e.root,"mini-controls")}));var s=this.playerConfig.isMobileSimulateMode;"mobile"!==Y.device&&"mobile"!==s&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&F.addClass(this.root,Ht.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){F.removeClass(this.root,Ht.CONTROLS_AUTOHIDE)}},{key:"show",value:function(e){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(this.root){var r=e.defaultConfig||{};if(!t.root){var o=t.position?t.position:t.config&&t.config.position?t.config.position:r.position;switch(o){case xt.CONTROLS_LEFT:t.root=this.left;break;case xt.CONTROLS_RIGHT:t.root=this.right;break;case xt.CONTROLS_CENTER:t.root=this.center;break;case xt.CONTROLS:t.root=this.root;break;default:t.root=this.left}return _(p(i.prototype),"registerPlugin",this).call(this,e,t,n)}}}},{key:"destroy",value:function(){"mobile"!==Y.device&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,t=e.mode,i=e.autoHide,n=e.initShow,r=e.disable;if(!r){var o=F.classNames({"xgplayer-controls":!0},{"flex-controls":"flex"===t},{"bottom-controls":"bottom"===t},d({},Ht.CONTROLS_AUTOHIDE,i),{"xgplayer-controls-initshow":n||!i});return'<xg-controls class="'.concat(o,'" unselectable="on">\n    <xg-inner-controls class="xg-inner-controls xg-pos">\n      <xg-left-grid class="xg-left-grid">\n      </xg-left-grid>\n      <xg-center-grid class="xg-center-grid"></xg-center-grid>\n      <xg-right-grid class="xg-right-grid">\n      </xg-right-grid>\n    </xg-inner-controls>\n    </xg-controls>')}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),i}(Dt),zt={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}},Kt={lang:{},langKeys:[],textKeys:[]};function Vt(e,t){return Object.keys(t).forEach((function(i){var n,r=F.typeOf(t[i]),o=F.typeOf(e[i]);"Array"===r?("Array"!==o&&(e[i]=[]),(n=e[i]).push.apply(n,w(t[i]))):"Object"===r?("Object"!==o&&(e[i]={}),Vt(e[i],t[i])):e[i]=t[i]})),e}function Gt(){Object.keys(Kt.lang.en).map((function(e){Kt.textKeys[e]=e}))}function Yt(e,t){var i=[];if(t||(t=Kt),t.lang){i="Array"!==F.typeOf(e)?Object.keys(e).map((function(t){var i="zh"===t?"zh-cn":t;return{LANG:i,TEXT:e[t]}})):e;var n=t,r=n.lang;i.map((function(e){"zh"===e.LANG&&(e.LANG="zh-cn"),r[e.LANG]?Vt(r[e.LANG]||{},e.TEXT||{}):Qt(e,t)})),Gt()}}function Qt(e,t){var i=e.LANG;if(t||(t=Kt),t.lang){var n=e.TEXT||{};"zh"===i&&(i="zh-cn"),t.lang[i]?Vt(t.lang[i],n):(t.langKeys.push(i),t.lang[i]=n),Gt()}}function Xt(e){var t,i={lang:{},langKeys:[],textKeys:{},pId:e};return Vt(i.lang,Kt.lang),(t=i.langKeys).push.apply(t,w(Kt.langKeys)),Vt(i.textKeys,Kt.textKeys),i}Qt(zt);var Zt={get textKeys(){return Kt.textKeys},get langKeys(){return Kt.langKeys},get lang(){var e={};return Kt.langKeys.map((function(t){e[t]=Kt.lang[t]})),Kt.lang["zh-cn"]&&(e.zh=Kt.lang["zh-cn"]||{}),e},extend:Yt,use:Qt,init:Xt},qt={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7,DESTROYED:8},Jt=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],$t={},ei=null,ti=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"add",value:function(e){e&&($t[e.playerId]=e,1===Object.keys($t).length&&this.setActive(e.playerId,!0))}},{key:"remove",value:function(e){e&&(e.isUserActive,delete $t[e.playerId])}},{key:"_iterate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var i in $t)if(Object.prototype.hasOwnProperty.call($t,i)){var n=$t[i];if(t){if(e(n))break}else e(n)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var t=null;return this._iterate((function(i){var n=e(i);return n&&(t=i),n}),!0),t}},{key:"findAll",value:function(e){var t=[];return this._iterate((function(i){e(i)&&t.push(i)})),t}},{key:"setActive",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if($t[e])return t?this.forEach((function(t){e===t.playerId?(t.isUserActive=!0,t.isInstNext=!1):t.isUserActive=!1})):$t[e].isUserActive=t,e}},{key:"getActiveId",value:function(){for(var e=Object.keys($t),t=0;t<e.length;t++){var i=$t[e[t]];if(i&&i.isUserActive)return e[t]}return null}},{key:"setNext",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if($t[e])return t?this.forEach((function(t){e===t.playerId?(t.isUserActive=!1,t.isInstNext=!0):t.isInstNext=!1})):$t[e].isInstNext=t,e}}],[{key:"getInstance",value:function(){return ei||(ei=new i),ei}}]),i}(P.EventEmitter);function ii(e){for(var t=Object.keys($t),i=0;i<t.length;i++){var n=$t[t[i]];if(n.root===e)return n}return null}var ni=["play","pause","replay","retry"],ri=0,oi=0,si=null,ai=function(e){f(i,e);var t=k(i);function i(e){var n;l(this,i);var r=F.deepMerge(Ut(),e);n=t.call(this,r),d(y(n),"canPlayFunc",(function(){if(n.config){var e=n.config,t=e.autoplay,i=e.defaultPlaybackRate;M.logInfo("player","canPlayFunc, startTime",n.__startTime),n.__startTime>0&&n.duration>0&&(n.currentTime=n.__startTime>n.duration?n.duration:n.__startTime,n.__startTime=-1),n.playbackRate=i,(t||n._useAutoplay)&&n.mediaPlay(),n.off(ae,n.canPlayFunc),n.removeClass(Ht.ENTER)}})),d(y(n),"onFullscreenChange",(function(e,t){var i=function(){F.setTimeout(y(n),(function(){n.resize()}),100)},r=F.getFullScreenEl();n._fullActionFrom?n._fullActionFrom="":n.emit(Ze,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:n.currentTime,duration:n.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var o=K(r,n.playerId,ht);if(t||r&&(r===n._fullscreenEl||o))i(),!n.config.closeFocusVideoFocus&&n.media.focus(),n.fullscreen=!0,n.changeFullStyle(n.root,r,Ht.FULLSCREEN),n.emit(Me,!0,n._fullScreenOffset),n.cssfullscreen&&n.exitCssFullscreen();else if(n.fullscreen){i();var s=y(n),a=s._fullScreenOffset,c=s.config;c.needFullscreenScroll?(window.scrollTo(a.left,a.top),F.setTimeout(y(n),(function(){n.fullscreen=!1,n._fullScreenOffset=null}),100)):(!n.config.closeFocusVideoFocus&&n.media.focus(),n.fullscreen=!1,n._fullScreenOffset=null),n.cssfullscreen?n.removeClass(Ht.FULLSCREEN):n.recoverFullStyle(n.root,n._fullscreenEl,Ht.FULLSCREEN),n._fullscreenEl=null,n.emit(Me,!1)}})),d(y(n),"_onWebkitbeginfullscreen",(function(e){n._fullscreenEl=n.media,n.onFullscreenChange(e,!0)})),d(y(n),"_onWebkitendfullscreen",(function(e){n.onFullscreenChange(e,!1)})),mt(y(n),ni),n.config=r,n._pluginInfoId=F.generateSessionId(),B(y(n));var o=n.constructor.defaultPreset;if(n.config.presets.length){var s=n.config.presets.indexOf("default");s>=0&&o&&(n.config.presets[s]=o)}else o&&n.config.presets.push(o);n.userTimer=null,n.waitTimer=null,n.handleSource=!0,n._state=qt.INITIAL,n.isError=!1,n._hasStart=!1,n.isSeeking=!1,n.isCanplay=!1,n._useAutoplay=!1,n.__startTime=-1,n.rotateDeg=0,n.isActive=!1,n.fullscreen=!1,n.cssfullscreen=!1,n.isRotateFullscreen=!1,n._fullscreenEl=null,n.timeSegments=[],n._cssfullscreenEl=null,n.curDefinition=null,n._orgCss="",n._fullScreenOffset=null,n._videoHeight=0,n._videoWidth=0,n.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},n.sizeInfo={width:0,height:0,left:0,top:0},n._accPlayed={t:0,acc:0,loopAcc:0},n._offsetInfo={currentTime:-1,duration:0},n.innerContainer=null,n.controls=null,n.topBar=null,n.root=null,n.__i18n=Zt.init(n._pluginInfoId),Y.os.isAndroid&&Y.osVersion>0&&Y.osVersion<6&&(n.config.autoplay=!1),n.database=new at,n.isUserActive=!1,n._onceSeekCanplay=null,n._isPauseBeforeSeek=0,n.innerStates={isActiveLocked:!1},n.instManager=si;var a=n._initDOM();if(!a)return console.error(new Error("can't find the dom which id is ".concat(n.config.id," or this.config.el does not exist"))),m(n);var c=n.config,u=c.definition,h=void 0===u?{}:u,f=c.url;if(!f&&h.list&&h.list.length>0){var p=h.list.find((function(e){return e.definition&&e.definition===h.defaultDefinition}));p||(h.defaultDefinition=h.list[0].definition,p=h.list[0]),n.config.url=p.url,n.curDefinition=p}return n._bindEvents(),n._registerPresets(),n._registerPlugins(),Ft.onPluginsReady(y(n)),n.getInitDefinition(),n.setState(qt.READY),F.setTimeout(y(n),(function(){n.emit(be)}),0),n.onReady&&n.onReady(),(n.config.videoInit||n.config.autoplay)&&(!n.hasStart||n.state<qt.ATTACHED)&&n.start(),n}return h(i,[{key:"_initDOM",value:function(){var e,t=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var i=this.config.el;if(!i||1!==i.nodeType)return this.emit(ie,new q("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1;this.root=i}var n=ii(this.root);n&&(M.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),n.destroy()),this.root.setAttribute(ht,this.playerId),null===(e=si)||void 0===e||e.add(this),Ft.init(this),this._initBaseDoms();var r=this.constructor.XgVideoProxy;if(r&&this.mediaConfig.mediaType===r.mediaType){var o=this.innerContainer||this.root;this.detachVideoEvents(this.media);var s=new r(o,this.config,this.mediaConfig);this.attachVideoEvents(s),this.media=s}if(this.media.setAttribute(ht,this.playerId),this.config.controls){var a=this.config.controls.root||null,c=Ft.register(this,Wt,{root:a});this.controls=c}var l="mobile"===this.config.isMobileSimulateMode?"mobile":Y.device;if(this.addClass("".concat(Ht.DEFAULT," ").concat(Ht.INACTIVE," xgplayer-").concat(l," ").concat(this.config.controls?"":Ht.NO_CONTROLS)),this.config.autoplay?this.addClass(Ht.ENTER):this.addClass(Ht.NO_START),this.config.fluid){var u=this.config,h=u.width,d=u.height;"number"===typeof h&&"number"===typeof d||(h=600,d=337.5);var f={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(100*d/h,"%")};Object.keys(f).forEach((function(e){t.root.style[e]=f[e]}))}else["width","height"].forEach((function(e){t.config[e]&&("number"!==typeof t.config[e]?t.root.style[e]=t.config[e]:t.root.style[e]="".concat(t.config[e],"px"))}));var p=this.root.getBoundingClientRect(),g=p.width,v=p.height,y=p.left,m=p.top;return this.sizeInfo.width=g,this.sizeInfo.height=v,this.sizeInfo.left=y,this.sizeInfo.top=m,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=F.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach((function(t){e.on(t,e["on"+t.charAt(0).toUpperCase()+t.slice(1)])})),ct.forEach((function(t){document&&document.addEventListener(t,e.onFullscreenChange)})),Y.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(he,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(J,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),ct.forEach((function(t){document.removeEventListener(t,e.onFullscreenChange)})),this.playFunc&&this.off(J,this.playFunc),this.off(ae,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_startInit",value:function(e){var t=this;if(this.media&&(e&&""!==e&&("Array"!==F.typeOf(e)||0!==e.length)||(e="",this.emit(Te),M.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))){this.handleSource&&(this._detachSourceEvents(this.media),"Array"===F.typeOf(e)&&e.length>0?this._attachSourceEvents(this.media,e):this.media.src&&this.media.src===e?e||this.media.removeAttribute("src"):this.media.src=e),"Number"===F.typeOf(this.config.volume)&&(this.volume=this.config.volume);var i=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!i.contains(this.media)&&i.insertBefore(this.media,i.firstChild);var n=this.media.readyState;M.logInfo("_startInit readyState",n),this.config.autoplay&&(!F.isMSE(this.media)&&this.load(),(Y.os.isIpad||Y.os.isPhone)&&this.mediaPlay());var r=this.config.startTime;this.__startTime=r>0?r:-1,this.config.startTime=0,n>=2&&this.duration>0?this.canPlayFunc():this.on(ae,this.canPlayFunc),(!this.hasStart||this.state<qt.ATTACHED)&&Ft.afterInit(this),this.hasStart=!0,this.setState(qt.ATTACHED),F.setTimeout(this,(function(){t.emit(Ee)}),0)}}},{key:"_registerPlugins",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._loadingPlugins=[];var i=this.config.ignores||[],n=this.config.plugins||[],r=this.config.i18n||[];t&&Zt.extend(r,this.__i18n);var o=i.join("||").toLowerCase().split("||"),s=this.plugins;n.forEach((function(i){try{var n=i.plugin?i.plugin.pluginName:i.pluginName;if(n&&o.indexOf(n.toLowerCase())>-1)return null;if(!t&&s[n.toLowerCase()])return;if(i.lazy&&i.loader){var r=Ft.lazyRegister(e,i);return void(i.forceBeforeInit&&(r.then((function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(r),1)})).catch((function(t){M.logError("_registerPlugins:loadingPlugin",t),e._loadingPlugins.splice(e._loadingPlugins.indexOf(r),1)})),e._loadingPlugins.push(r)))}return e.registerPlugin(i)}catch(a){M.logError("_registerPlugins:",a)}}))}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach((function(t){jt(e,t)}))}},{key:"_getRootByPosition",value:function(e){var t=null;switch(e){case xt.ROOT_RIGHT:this.rightBar||(this.rightBar=F.createPositionBar("xg-right-bar",this.root)),t=this.rightBar;break;case xt.ROOT_LEFT:this.leftBar||(this.leftBar=F.createPositionBar("xg-left-bar",this.root)),t=this.leftBar;break;case xt.ROOT_TOP:this.topBar||(this.topBar=F.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&F.addClass(this.topBar,Ht.TOP_BAR_AUTOHIDE)),t=this.topBar;break;default:t=this.innerContainer||this.root;break}return t}},{key:"registerPlugin",value:function(e,t){var i=Ft.formatPluginInfo(e,t),n=i.PLUFGIN,r=i.options,o=this.config.plugins,s=Ft.checkPluginIfExits(n.pluginName,o);!s&&o.push(n);var a=Ft.getRootByConfig(n.pluginName,this.config);a.root&&(r.root=a.root),a.position&&(r.position=a.position);var c=r.position?r.position:r.config&&r.config.position||n.defaultConfig&&n.defaultConfig.position;return!r.root&&"string"===typeof c&&c.indexOf("controls")>-1?this.controls&&this.controls.registerPlugin(n,r,n.pluginName):(r.root||(r.root=this._getRootByPosition(c)),Ft.register(this,n,r))}},{key:"deregister",value:function(e){"string"===typeof e?Ft.unRegister(this,e):e instanceof wt&&Ft.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.deregister(e),t&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var t;if("string"===typeof e?t=e:e instanceof wt&&(t=e.pluginName),t)for(var i=this.config.plugins.length-1;i>-1;i--){var n=this.config.plugins[i];if(n.pluginName.toLowerCase()===t.toLowerCase()){this.config.plugins.splice(i,1);break}}}},{key:"plugins",get:function(){return Ft.getPlugins(this)}},{key:"getPlugin",value:function(e){var t=Ft.findPlugin(this,e);return t&&t.pluginName?t:null}},{key:"addClass",value:function(e){this.root&&(F.hasClass(this.root,e)||F.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&F.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return F.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,t){this.root&&this.root.setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){this.root&&this.root.removeAttribute(e,t)}},{key:"start",value:function(e){var t=this;if(!(this.state>qt.ATTACHING))return e||this.config.url||this.getInitDefinition(),this.hasStart=!0,this.setState(qt.ATTACHING),this._registerPlugins(!1),Ft.beforeInit(this).then((function(){if(t.config){e||(e=t.url||t.config.url);var i=t._preProcessUrl(e),n=t._startInit(i.url);return n}})).catch((function(e){throw e.fileName="player",e.lineNumber="236",M.logError("start:beforeInit:",e),e}))}},{key:"switchURL",value:function(e,t){var i=this,n=e;"Object"===F.typeOf(e)&&(n=e.url),n=this._preProcessUrl(n).url;var r=this.currentTime;this.__startTime=r;var o=this.paused&&!this.isError;return this.src=n,new Promise((function(e,t){var r=function(e){i.off("timeupdate",s),i.off("canplay",s),t(e)},s=function(){i.duration>0&&i.__startTime>0&&(i.currentTime=i.__startTime,i.__startTime=-1),o&&i.pause(),i.off("error",r),e(!0)};i.once("error",r),n?(Y.os.isAndroid?i.once("timeupdate",s):i.once("canplay",s),i.play()):i.errorHandler("error",{code:6,message:"empty_src"})}))}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<qt.ATTACHED)return this.removeClass(Ht.NO_START),this.addClass(Ht.ENTER),this.start(),void(this._useAutoplay=!0);this.state<qt.RUNNING&&(this.removeClass(Ht.NO_START),!this.isCanplay&&this.addClass(Ht.ENTER));var t=_(p(i.prototype),"play",this).call(this);return void 0!==t&&t&&t.then?t.then((function(){e.removeClass(Ht.NOT_ALLOW_AUTOPLAY),e.addClass(Ht.PLAYING),e.state<qt.RUNNING&&(M.logInfo(">>>>playPromise.then"),e.setState(qt.RUNNING),e.emit(Se))})).catch((function(t){if(M.logWarn(">>>>playPromise.catch",t.name),e.media&&e.media.error)return e.onError(),void e.removeClass(Ht.ENTER);"NotAllowedError"===t.name&&(e._errorTimer=F.setTimeout(e,(function(){e._errorTimer=null,e.emit(xe),e.addClass(Ht.NOT_ALLOW_AUTOPLAY),e.removeClass(Ht.ENTER),e.pause(),e.setState(qt.NOTALLOW)}),0))})):(M.logWarn("video.play not return promise"),this.state<qt.RUNNING&&(this.setState(qt.RUNNING),this.removeClass(Ht.NOT_ALLOW_AUTOPLAY),this.removeClass(Ht.NO_START),this.removeClass(Ht.ENTER),this.addClass(Ht.PLAYING),this.emit(Se))),t}},{key:"mediaPause",value:function(){_(p(i.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){_(p(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(Ht.PAUSED),Ct(this,"play",(function(){return e.mediaPlay()}))}},{key:"pause",value:function(){var e=this;Ct(this,"pause",(function(){_(p(i.prototype),"pause",e).call(e)}))}},{key:"seek",value:function(e,t){var i=this;if(this.media&&!Number.isNaN(Number(e))&&this.hasStart){var n=this.config,r=n.isSeekedPlay,o=n.seekedStatus,s=t||(r?"play":o);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(re,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(i.removeClass(Ht.ENTER),i.isSeeking=!1,s){case"play":i.play();break;case"pause":i.pause();break;default:i._isPauseBeforeSeek>1||i.paused?i.pause():i.play()}i._isPauseBeforeSeek=0,i._onceSeekCanplay=null},this.once(re,this._onceSeekCanplay),this.state<qt.RUNNING?(this.removeClass(Ht.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,t=this.config,i=t.definition,n=t.url;!n&&i&&i.list&&i.list.length>0&&i.defaultDefinition&&i.list.map((function(t){t.definition===i.defaultDefinition&&(e.config.url=t.url,e.curDefinition=t)}))}},{key:"changeDefinition",value:function(e,t){var i=this,n=this.config.definition;if(Array.isArray(null===n||void 0===n?void 0:n.list)&&n.list.forEach((function(t){(null===e||void 0===e?void 0:e.definition)===t.definition&&(i.curDefinition=t)})),null!==e&&void 0!==e&&e.bitrate&&"number"!==typeof e.bitrate&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(Fe,{from:t,to:e}),this.hasStart){var r=this.switchURL(e.url,a({seamless:!1!==n.seamless&&"undefined"!==typeof MediaSource&&"function"===typeof MediaSource.isTypeSupported},e));r&&r.then?r.then((function(){i.emit(Ue,{from:t,to:e})})):this.emit(Ue,{from:t,to:e})}else this.config.url=e.url}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(he,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,t=Ht.NOT_ALLOW_AUTOPLAY,i=Ht.PLAYING,n=Ht.NO_START,r=Ht.PAUSED,o=Ht.REPLAY,s=Ht.ENTER,a=Ht.ENDED,c=Ht.ERROR,l=Ht.LOADING,u=[t,i,n,r,o,s,a,c,l];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,u.forEach((function(t){e.removeClass(t)})),this.addClass(Ht.NO_START),this.emit(qe)}},{key:"reset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;this.resetState();var n=this.plugins;if(n&&(t.map((function(t){e.deregister(t)})),i)){var r=Ut();Object.keys(this.config).keys((function(t){"undefined"===e.config[t]||"plugins"!==t&&"presets"!==t&&"el"!==t&&"id"!==t||(e.config[t]=r[t])}))}}},{key:"destroy",value:function(){var e,t=this,n=this.innerContainer,r=this.root,o=this.media;if(r&&o){if(this.hasStart=!1,this._useAutoplay=!1,r.removeAttribute(ht),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),F.clearAllTimers(this),this.emit(Ie),null===(e=si)||void 0===e||e.remove(this),Ft.destroy(this),kt(this),_(p(i.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),n)for(var s=n.children,a=0;a<s.length;a++)n.removeChild(s[a]);!n&&o instanceof window.Node&&r.contains(o)&&r.removeChild(o),["topBar","leftBar","rightBar","innerContainer"].map((function(e){t[e]&&r.removeChild(t[e]),t[e]=null}));var c=r.className.split(" ");c.length>0?r.className=c.filter((function(e){return e.indexOf("xgplayer")<0})).join(" "):r.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach((function(e){t[e]=!1}))}}},{key:"replay",value:function(){var e=this;this.removeClass(Ht.ENDED),this.currentTime=0,this.isSeeking=!1,Ct(this,"replay",(function(){e.once(re,(function(){var t=e.mediaPlay();t&&t.catch&&t.catch((function(e){console.log(e)}))})),e.play(),e.emit(Ae),e.onPlay()}))}},{key:"retry",value:function(){var e=this;this.removeClass(Ht.ERROR),this.addClass(Ht.LOADING),Ct(this,"retry",(function(){var t=e.currentTime,i=e.config.url,n=F.isMSE(e.media)?{url:i}:e._preProcessUrl(i);e.src=n.url,!e.config.isLive&&(e.currentTime=t),e.once(ae,(function(){e.mediaPlay()}))}))}},{key:"changeFullStyle",value:function(e,t,i,n){e&&(n||(n=Ht.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=F.filterStyleFromText(e)),F.addClass(e,i),t&&t!==e&&!this._orgPCss&&(this._orgPCss=F.filterStyleFromText(t),F.addClass(t,n),t.setAttribute(ht,this.playerId)))}},{key:"recoverFullStyle",value:function(e,t,i,n){n||(n=Ht.PARENT_FULLSCREEN),this._orgCss&&(F.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),F.removeClass(e,i),t&&t!==e&&this._orgPCss&&(F.setStyleFromCsstext(t,this._orgPCss),this._orgPCss="",F.removeClass(t,n),t.removeAttribute(ht))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget,t=this.root,i=this.media;e||(e=t),this._fullScreenOffset={top:F.scrollTop(),left:F.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get";var n=F.getFullScreenEl();if(n===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var r=0;r<lt.length;r++){var o=lt[r];if(e[o]){var s="webkitRequestFullscreen"===o?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[o]();return s&&s.then?s:Promise.resolve()}}return i.fullscreenEnabled||i.webkitSupportsFullscreen?(i.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch(a){return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),this._fullscreenEl||F.getFullScreenEl()){this.root;var t=this.media;this._fullActionFrom="exit";try{for(var i=0;i<ut.length;i++){var n=ut[i];if(document[n]){var r=document[n]();return r&&r.then?r:Promise.resolve()}}return t&&t.webkitSupportsFullscreen?(t.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch(o){return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var t=e?"".concat(Ht.INNER_FULLSCREEN," ").concat(Ht.CSS_FULLSCREEN):Ht.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,t);var i=this.config.fullscreen,n=void 0===i?{}:i,r=!0===n.useCssFullscreen||"function"===typeof n.useCssFullscreen&&n.useCssFullscreen();r&&(this.fullscreen=!0,this.emit(Me,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(Be,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(Ht.INNER_FULLSCREEN," ").concat(Ht.CSS_FULLSCREEN):Ht.CSS_FULLSCREEN;if(this.fullscreen){var t=this.config.fullscreen,i=void 0===t?{}:t,n=!0===i.useCssFullscreen||"function"===typeof i.useCssFullscreen&&i.useCssFullscreen();n?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(Me,!1)):this.removeClass(e)}else this.recoverFullStyle(this.root,this._cssfullscreenEl,e);this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(Be,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var t=e?"".concat(Ht.INNER_FULLSCREEN," ").concat(Ht.ROTATE_FULLSCREEN):Ht.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,t,Ht.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(Me,!0)}},{key:"exitRotateFullscreen",value:function(e){var t=this._fullscreenEl!==this.root?"".concat(Ht.INNER_FULLSCREEN," ").concat(Ht.ROTATE_FULLSCREEN):Ht.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,t,Ht.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(Me,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){90===window.orientation||-90===window.orientation?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};this.isActive?this.onFocus(e):this.emit(_e,a({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ignorePaused:!1};this.isActive?this.emit(we,a({paused:this.paused,ended:this.ended},e)):this.onBlur(e)}},{key:"onFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoHide:!0,delay:3e3},i=this.innerStates;if(this.isActive=!0,this.removeClass(Ht.INACTIVE),this.userTimer&&(F.clearTimeout(this,this.userTimer),this.userTimer=null),void 0!==t.isLock&&(i.isActiveLocked=t.isLock),!1===t.autoHide||!0===t.isLock||i.isActiveLocked)this.userTimer&&(F.clearTimeout(this,this.userTimer),this.userTimer=null);else{var n=t&&t.delay?t.delay:this.config.inactive;this.userTimer=F.setTimeout(this,(function(){e.userTimer=null,e.blur()}),n)}}},{key:"onBlur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignorePaused,i=void 0!==t&&t;if(this.isActive&&!this.innerStates.isActiveLocked){var n=this.config.closePauseVideoFocus;this.isActive=!1,(i||n||!this.paused&&!this.ended)&&this.addClass(Ht.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(Ht.ENTER),this.removeClass(Ht.ERROR),this.removeClass(Ht.LOADING),this.isCanplay=!0,this.waitTimer&&F.clearTimeout(this,this.waitTimer)}},{key:"onDurationchange",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime,this.__startTime=-1)}},{key:"onLoadeddata",value:function(){this.isError=!1,this.isSeeking=!1}},{key:"onLoadstart",value:function(){this.removeClass(Ht.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===qt.ENDED&&this.setState(qt.RUNNING),this.removeClass(Ht.PAUSED),this.ended&&this.removeClass(Ht.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(Ht.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this.userTimer&&(F.clearTimeout(this,this.userTimer),this.userTimer=null),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(Ht.ENDED),this.setState(qt.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(Ht.NOT_ALLOW_AUTOPLAY),this.removeClass(Ht.NO_START),this.removeClass(Ht.ENTER),this.removeClass(Ht.LOADING),this.addClass(Ht.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(Ht.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&F.clearTimeout(this,this.waitTimer),this.removeClass(Ht.LOADING),this.removeClass(Ht.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&F.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=F.setTimeout(this,(function(){e.addClass(Ht.LOADING),e.emit(Oe),F.clearTimeout(e,e.waitTimer),e.waitTimer=null}),this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var t=Ht.NO_START,i=Ht.PAUSED,n=Ht.ENDED,r=Ht.ERROR,o=Ht.REPLAY,s=Ht.LOADING,a=[t,i,n,r,o,s];a.forEach((function(t){e.removeClass(t)})),this._accPlayed.t||this.paused||this.ended||(this._accPlayed.t=(new Date).getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(Ht.LOADING))&&this.media.readyState>2&&(this.removeClass(Ht.LOADING),F.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state<qt.RUNNING&&this.duration&&(this.setState(qt.RUNNING),this.emit(Se)),this._accPlayed.t||this.paused||this.ended||(this._accPlayed.t=(new Date).getTime())}},{key:"onVolumechange",value:function(){"Number"===F.typeOf(this.config.volume)&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,t,i){if(this.media&&t&&e){var n="String"===F.typeOf(e)?e:e.type||"";i.props&&"Array"!==F.typeOf(i.props)&&(i.props=[i.props]),this.emit(Ze,a({eventType:n,action:t,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},i))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var t=(new Date).getTime()-this._accPlayed.t;this._accPlayed.acc+=t,this._accPlayed.t=0,("ended"===e||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var t=this.media.buffered;if(!t||0===t.length||!this.duration)return!0;for(var i=e||this.media.currentTime||.2,n=t.length,r=0;r<n;r++)if(t.start(r)<=i&&t.end(r)>i)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,t=e.vy,i=e.vx,n=e.h,r=e.w,o=this.videoPos.rotate;if(!(o<0&&n<0&&r<0)){var s=this.videoPos._pi;if(!s&&this.media.videoHeight&&(s=this.media.videoWidth/this.media.videoHeight*100),s){this.videoPos.pi=s,o=o<0?0:o;var a={rotate:o},c=0,l=0,u=1,h=Math.abs(o/90),d=this.root,f=this.innerContainer,p=d.offsetWidth,g=f?f.offsetHeight:d.offsetHeight,v=g,y=p;if(h%2===0)u=n>0?100/n:r>0?100/r:1,a.scale=u,c=t>0?(100-n)/2-t:0,a.y=2===h?0-c:c,l=i>0?(100-r)/2-i:0,a.x=2===h?0-l:l,this.media.style.width="".concat(y,"px"),this.media.style.height="".concat(v,"px");else if(h%2===1){y=g,v=p;var m=g-p;l=-m/2/y*100,a.x=3===h?l+t/2:l-t/2,c=m/2/v*100,a.y=3===h?c+i/2:c-i/2,a.scale=u,this.media.style.width="".concat(y,"px"),this.media.style.height="".concat(v,"px")}var k=F.getTransformStyle(a,this.media.style.transform||this.media.style.webkitTransform);this.media.style.transform=k,this.media.style.webkitTransform=k}}}},{key:"position",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{h:0,y:0,x:0,w:0};if(this.media&&e&&e.h){var t=this.videoPos;t.h=100*e.h||0,t.w=100*e.w||0,t.vx=100*e.x||0,t.vy=100*e.y||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map((function(i){if("plugins"!==i){t.config[i]=e[i];var n=t.plugins[i.toLowerCase()];n&&"Function"===F.typeOf(n.setConfig)&&n.setConfig(e[i])}}))}},{key:"playNext",value:function(e){var t=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,Ct(this,"playnext",(function(){t.start(),t.emit(Ye,e)}))}},{key:"resize",value:function(){var e=this;if(this.media){var t=this.root.getBoundingClientRect();this.sizeInfo.width=t.width,this.sizeInfo.height=t.height,this.sizeInfo.left=t.left,this.sizeInfo.top=t.top;var i=this.media,n=i.videoWidth,r=i.videoHeight,o=this.config,s=o.fitVideoSize,a=o.videoFillMode;if("fill"!==a&&"cover"!==a&&"contain"!==a||this.setAttribute("data-xgfill",a),r&&n){this._videoHeight=r,this._videoWidth=n;var c=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,l=t.width,u=t.height-c,h=parseInt(n/r*1e3,10),d=parseInt(l/u*1e3,10),f=l,p=u,g={};"auto"===s&&d>h||"fixWidth"===s?(p=l/h*1e3,this.config.fluid?g.paddingTop="".concat(100*p/f,"%"):g.height="".concat(p+c,"px")):("auto"===s&&d<h||"fixHeight"===s)&&(f=h*u/1e3,g.width="".concat(f,"px")),this.fullscreen||this.cssfullscreen||Object.keys(g).forEach((function(t){e.root.style[t]=g[t]})),("fillHeight"===a&&d<h||"fillWidth"===a&&d>h)&&this.setAttribute("data-xgfill","cover");var v={videoScale:h,vWidth:f,vHeight:p,cWidth:f,cHeight:p+c};this.resizePosition(),this.emit(ze,v)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.media.updateObjectPosition?this.media.updateObjectPosition(e,t):this.media.style.objectPosition="".concat(100*e,"% ").concat(100*t,"%")}},{key:"setState",value:function(e){M.logInfo("setState","state from:".concat(Jt[this.state]," to:").concat(Jt[e])),this._state=e}},{key:"_preProcessUrl",value:function(e,t){var i=this.config.preProcessUrl;return F.isBlob(e)||"function"!==typeof i?{url:e}:i(e,t)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){"boolean"===typeof e&&(this._hasStart=e,!1===e&&this.setState(qt.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===qt.RUNNING||this._state===qt.ENDED},set:function(e){e?this.setState(qt.RUNNING):this._state>=qt.RUNNING&&this.setState(qt.ATTACHED)}},{key:"definitionList",get:function(){return this.config&&this.config.definition&&this.config.definition.list||[]},set:function(e){var t=this,i=this.config.definition,n=null,r=null;i.list=e,this.emit("resourceReady",e),e.forEach((function(e){var o;(null===(o=t.curDefinition)||void 0===o?void 0:o.definition)===e.definition&&(n=e),i.defaultDefinition===e.definition&&(r=e)})),!r&&e.length>0&&(r=e[0]),n?this.changeDefinition(n):r&&this.changeDefinition(r)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var t=this.media.getVideoPlaybackQuality();return e.dropped=t.droppedVideoFrames||0,e.total=t.totalVideoFrames||0,e.corrupted=t.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){var t=Zt.langKeys.filter((function(t){return t===e}));0!==t.length||"zh"===e?(this.config.lang=e,Ft.setLang(e,this)):console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(Zt.langKeys.join(),"] "))}},{key:"i18n",get:function(){var e=this.config.lang;return"zh"===e&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return Q}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return _(p(i.prototype),"readyState",this)}},{key:"error",get:function(){var e=_(p(i.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return _(p(i.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return!(null===this._fullScreenOffset)}},{key:"cumulateTime",get:function(){var e=this._accPlayed,t=e.acc,i=e.t;return i?(new Date).getTime()-i+t:t}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){e=F.convertDeg(e),e%90===0&&e!==this.videoPos.rotate&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return oi},set:function(e){oi=e}},{key:"realTimeSpeed",get:function(){return ri},set:function(e){ri=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,t){return ft.call.apply(ft,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,t){return pt.call.apply(pt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,t){return gt.call.apply(gt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,t,i){for(var n=arguments.length,r=new Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];return vt.call.apply(vt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,t,i){for(var n=arguments.length,r=new Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];return yt.call.apply(yt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,t){var i;"boolean"===typeof t&&t!==this.muted&&(this.addInnerOP("volumechange"),F.typeOf(t)===Boolean&&(this.muted=t)),null===(i=si)||void 0===i||i.setActive(this.playerId,e)}}],[{key:"debugger",get:function(){return M.config.debug},set:function(e){M.config.debug=e}},{key:"instManager",get:function(){return si},set:function(e){si=e}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return null===(e=si)||void 0===e?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,t){var i;null===(i=si)||void 0===i||i.setActive(e,t)}},{key:"isHevcSupported",value:function(){return Y.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return Y.probeConfigSupported(e)}},{key:"install",value:function(e,t){i.plugins||(i.plugins={}),i.plugins[e]||(i.plugins[e]=t)}},{key:"use",value:function(e,t){i.plugins||(i.plugins={}),i.plugins[e]=t}}]),i}(st);function ci(){return(new Date).getTime()}d(ai,"defaultPreset",null),d(ai,"XgVideoProxy",null),ai.instManager=ti.getInstance();var li={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},ui=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"_onTimeupdate",(function(){e._state.isTimeUpdate=!0,e._state.autoplayStart&&(M.logInfo("[xgLogger]".concat(e.player.playerId," _onTimeupdate")),e._sendFF("onTimeupdate"))})),d(y(e),"_onAutoplayStart",(function(){M.logInfo("[xgLogger]".concat(e.player.playerId," _onAutoplayStart")),e._state.autoplayStart=!0,e.vt&&e._sendFF("onAutoplayStart")})),d(y(e),"_onReset",(function(){e._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},e.vt=0,e.pt=0,e.fvt=0,e.newPointTime=ci(),e.loadedCostTime=0,e.startCostTime=0,e._isSeeking=!1,e.seekingStart=0,e.waitingStart=0,e.fixedWaitingStart=0,e._isWaiting=!1,e._waitTimer&&F.clearTimeout(y(e),e._waitTimer),e._waittTimer&&F.clearTimeout(y(e),e._waittTimer),e._waitTimer=null,e._waittTimer=null,e._waitType=0})),d(y(e),"_onSeeking",(function(){e.seekingStart||(e.suspendWaitingStatus("seek"),e.seekingStart=ci(),e.emitLog(li.SEEK_START,{start:ci()}))})),d(y(e),"_onSeeked",(function(){e.suspendSeekingStatus("seeked")})),d(y(e),"_onWaitingLoadStart",(function(){e._isWaiting||e.vt||(e._isWaiting=!0,e.waitingStart=ci(),e.fixedWaitingStart=ci(),e._waitType=1,e.emitLog(li.WAIT_START,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:1,endType:"loadstart"}))})),d(y(e),"_onWaiting",(function(){!e._isWaiting&&e.vt&&(e._isWaiting=!0,e.vt?e.seekingStart?e._waitType=2:e._waitType=0:e._waitType=1,e.fixedWaitingStart=ci(),e._waitTimer=F.setTimeout(y(e),(function(){e._isWaiting&&(e.waitingStart=ci(),F.clearTimeout(y(e),e._waitTimer),e._waitTimer=null,e._startWaitTimeout(),e.emitLog(li.WAIT_START,{fixedStart:e.fixedWaitingStart,start:e.waitingStart,type:e._waitType,endType:2===e._waitType?"seek":"playing"}))}),200))})),d(y(e),"_onError",(function(){e.suspendSeekingStatus("error"),e.suspendWaitingStatus("error")})),d(y(e),"_onPlaying",(function(){e._isWaiting&&e.suspendWaitingStatus("playing")})),e}return h(i,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=ci(),this.loadedCostTime=0,this.startCostTime=0,this.on(ge,(function(){var t=e._state,i=t.autoplayStart,n=t.isFFSend;e.startCostTime=ci()-e.newPointTime,M.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(i," isFFSend:").concat(n," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),n||(!t.isLs&&e.emitLog(li.LOAD_START,{}),t.isLs=!0,t.isTimeUpdate=!1,t.isFFLoading=!0,e.pt=ci(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())})),this.on(he,(function(){e.vt=ci(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var t=e._state,i=t.isTimeUpdate,n=t.isFFSend,r=t.autoplayStart;M.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(i||r)&&e._sendFF("loadedData"),n||e.emitLog(li.LOADED_DATA,{}),e.suspendWaitingStatus("loadeddata")})),this.on(ne,this._onSeeking),this.on(re,this._onSeeked),this.on(Ie,(function(){e.endState("destroy")})),this.on(Pe,(function(){e.endState("urlChange"),M.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()})),this.on([$,ae],this._onPlaying),this.on(se,this._onWaiting),this.on(ie,this._onError),this.on(qe,(function(){M.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()}))}},{key:"_initOnceEvents",value:function(){this.off(Se,this._onAutoplayStart),this.off(oe,this._onTimeupdate),this.once(Se,this._onAutoplayStart),this.once(oe,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=ci();var t=this._state,i=t.isFFLoading,n=t.isFFSend;M.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(i," !isFFSend:").concat(!n)),this.vt>0&&i&&!n&&(M.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(li.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&F.clearTimeout(this,this._waittTimer),this._waittTimer=F.setTimeout(this,(function(){e.suspendWaitingStatus("timeout"),F.clearTimeout(e,e._waittTimer),e._waittTimer=null}),this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var t=ci(),i=t-this.seekingStart;this.seekingStart=0,this.emitLog(li.SEEK_END,{end:t,costTime:i,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(F.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(F.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,this.waitingStart){var t=ci(),i=t-this.waitingStart,n=t-this.fixedWaitingStart,r=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(li.WAIT_END,{fixedCostTime:n>r?r:n,costTime:i>r?r:i,type:"loadeddata"===e?1:this._waitType,endType:2===this._waitType?"seek":e})}}},{key:"emitLog",value:function(e,t){var i=this.player;this.emit(Xe,a({t:ci(),host:F.getHostFromUrl(i.currentSrc),vtype:i.vtype,eventType:e,currentTime:this.player.currentTime,readyState:i.video.readyState,networkState:i.video.networkState},t))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),i}(Dt);function hi(){return(new DOMParser).parseFromString('<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">\n  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var di=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"registerIcons",value:function(){return{replay:hi}}},{key:"afterCreate",value:function(){var e=this;Dt.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",(function(){e.player.replay()}),{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(ee,(function(){if(e.playerConfig.loop||F.addClass(e.player.root,"replay"),!e.config.disable){e.show();var t=e.root.querySelector("path");if(t){var i=window.getComputedStyle(t).getPropertyValue("transform");if("string"===typeof i&&i.indexOf("none")>-1)return null;t.setAttribute("transform",i)}}})),this.on(J,(function(){e.hide()}))}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),F.removeClass(this.player.root,"replay")}},{key:"show",value:function(e){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return'<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,"</xg-replay-txt>\n    </xg-replay>")}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),i}(Dt),fi=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){F.addClass(this.root,"hide")}},{key:"show",value:function(e){F.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){"string"===typeof e.player.config.poster&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(ee,(function(){e.isEndedShow&&F.removeClass(e.root,"hide")})),this.config.hideCanplay?(this.once(oe,(function(){e.onTimeUpdate()})),this.on(Pe,(function(){F.removeClass(e.root,"hide"),F.addClass(e.root,"xg-showplay"),e.once(oe,(function(){e.onTimeUpdate()}))}))):this.on(J,(function(){F.addClass(e.root,"hide")}))}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?F.removeClass(this.root,"xg-showplay"):this.once(oe,(function(){e.onTimeUpdate()}))}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"getBgSize",value:function(e){var t="";switch(e){case"cover":t="cover";break;case"contain":t="contain";break;case"fixHeight":t="auto 100%";break;default:t=""}return t?"background-size: ".concat(t,";"):""}},{key:"render",value:function(){var e=this.config,t=e.poster,i=e.hideCanplay,n=e.fillMode,r=e.notHidden,o=this.getBgSize(n),s=t?"background-image:url(".concat(t,");").concat(o):o,a=r?"xg-not-hidden":i?"xg-showplay":"";return'<xg-poster class="xgplayer-poster '.concat(a,'" style="').concat(s,'">\n    </xg-poster>')}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),i}(Dt);function pi(){return(new DOMParser).parseFromString('<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>\n</svg>\n',"image/svg+xml").firstChild}function gi(){return(new DOMParser).parseFromString('<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>\n</svg>\n',"image/svg+xml").firstChild}var vi={};function yi(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:null,end:null};return vi[e]&&window.clearTimeout(vi[e].id),vi[e]={},i.start&&i.start(),vi[e].id=window.setTimeout((function(){i.end&&i.end(),window.clearTimeout(vi[e].id),delete vi[e]}),t),vi[e].id}function mi(e){e?window.clearTimeout(e):Object.keys(vi).map((function(e){window.clearTimeout(vi[e].id),delete vi[e]}))}var ki=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),d(y(n),"onPlayerReset",(function(){n.autoPlayStart=!1;var e="auto"===n.config.mode?"auto-hide":"hide";n.setAttr("data-state","play"),F.removeClass(n.root,e),n.show()})),d(y(n),"onAutoplayStart",(function(){if(!n.autoPlayStart){var e="auto"===n.config.mode?"auto-hide":"hide";F.addClass(n.root,e),n.autoPlayStart=!0,n.onPlayPause("play")}})),n.autoPlayStart=!1,n}return h(i,[{key:"afterCreate",value:function(){var e=this,t=this.player,i=this.playerConfig;this.initIcons(),this.once(be,(function(){i&&(i.lang&&"en"===i.lang?F.addClass(t.root,"lang-is-en"):"jp"===i.lang&&F.addClass(t.root,"lang-is-jp"))})),this.on(Se,this.onAutoplayStart),i.autoplay||this.show(),this.on(xe,(function(){var t="auto"===e.config.mode?"auto-hide":"hide";e.setAttr("data-state","play"),F.removeClass(e.root,t),e.show()})),this.on(J,(function(){e.onPlayPause("play")})),this.on(te,(function(){e.onPlayPause("pause")})),this.on(qe,(function(){e.onPlayerReset()})),this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(t){t.cancelable&&t.preventDefault(),t.stopPropagation();var i=e.player.paused;e.emitUserAction(t,"switch_play_pause",{props:"paused",from:i,to:!i})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:pi,class:"xg-icon-play"},startPause:{icon:gi,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){F.addClass(this.root,"hide")}},{key:"show",value:function(e){F.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){F.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){F.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var t=this;this._animateId=yi("pauseplay",400,{start:function(){F.addClass(t.root,"interact"),t.show(),t.switchStatus(!0)},end:function(){F.removeClass(t.root,"interact"),!e&&t.hide(),t._animateId=null}})}},{key:"endAnimate",value:function(){F.removeClass(this.root,"interact"),mi(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var t=this.player;if(e.cancelable&&e.preventDefault(),e.stopPropagation(),!(t.state<qt.READY)){var i=this.player.paused;i||t.state!==qt.RUNNING?t.play():t.pause()}}},{key:"onPlayPause",value:function(e){var t=this.config,i=this.player;if(i&&!(i.state<qt.RUNNING)&&this.autoPlayStart){if("show"===t.mode)return this.switchStatus(),void this.show();if("auto"!==t.mode){if(t.isShowPause&&i.paused&&!i.ended||t.isShowEnd&&i.ended)return this.switchStatus(),this.show(),void this.endAnimate();if(t.disableAnimate)return this.switchStatus(),void this.hide();if("play"===e)this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||i.ended)return;this.animate()}}else this.switchStatus()}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),mi(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?"auto"===this.config.mode?"auto-hide":"hide":"";return'\n    <xg-start class="xgplayer-start '.concat(e,'">\n    <xg-start-inner></xg-start-inner>\n    </xg-start>')}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),i}(Dt),Ci=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"render",value:function(){var e=this.config.innerHtml,t=F.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)t.appendChild(e);else if(e&&"string"===typeof e)t.innerHTML=e;else{for(var i="",n=1;n<=12;n++)i+='<div class="xgplayer-enter-bar'.concat(n,'"></div>');t.innerHTML='<div class="xgplayer-enter-spinner">'.concat(i,"</div>")}return t}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),i}(Dt);function _i(e,t,i){try{return' <div class="xg-tips '.concat(i?"hide":" ",'" lang-key="').concat(e.i18nKeys[t],'">\n    ').concat(e.i18n[t],"\n    </div>")}catch(n){return'<div class="xg-tips hide"></div>'}}var wi=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return'\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'.concat(this.i18nKeys[e],'">').concat(this.i18n[e],"</span></div>\n      </xg-icon>")}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:10}}}]),i}(Dt);function bi(e){var t=parseFloat(e),i=-1===e.indexOf("%")&&!Number.isNaN(t);return i&&t}var Ti=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],Si=Ti.length;function xi(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<Si;t++){var i=Ti[t];e[i]=0}return e}function Ei(e){var t=window.getComputedStyle(e);return t}function Ai(e){if("string"===typeof e&&(e=document.querySelector(e)),e&&"object"===c(e)&&e.nodeType){var t=Ei(e);if("none"===t.display)return xi();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var n=i.isBorderBox="border-box"===t.boxSizing,r=0;r<Si;r++){var o=Ti[r],s=t[o],a=parseFloat(s);i[o]=Number.isNaN(a)?0:a}var l=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,h=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,f=i.borderLeftWidth+i.borderRightWidth,p=i.borderTopWidth+i.borderBottomWidth,g=n,v=bi(t.width);!1!==v&&(i.width=v+(g?0:l+f));var y=bi(t.height);return!1!==y&&(i.height=y+(g?0:u+p)),i.innerWidth=i.width-(l+f),i.innerHeight=i.height-(u+p),i.outerWidth=i.width+h,i.outerHeight=i.height+d,i}}function Ii(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier===t)return n}}var Pi={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},Li={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},Ri=function(e){f(i,e);var t=k(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,i),n=t.call(this),n.isEnabled=!0,n.isDragging=!1,n.isDown=!1,n.position={},n.downPoint={},n.dragPoint={x:0,y:0},n.startPos={x:0,y:0},n._root=e instanceof Element?e:document.querySelector(e),n._handlerDom=r.handle instanceof Element?r.handle:document.querySelector(r.handle),n._root&&n._handlerDom?(n._bindStartEvent(),n):m(n)}return h(i,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),Li[this._startKey].map((function(t){e["on".concat(t)]=e["on".concat(t)].bind(e)}))}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var t=this;if(e){var i=Li[this._startKey];i.map((function(e){window.addEventListener(e,t["on".concat(e)])})),this._boundPointerEvents=i}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&&(this._boundPointerEvents.map((function(t){window.removeEventListener(t,e["on".concat(t)])})),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame((function(){e.animate()})))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var t=e.changedTouches[0];this.dragStart(e,t),this.touchIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var t=Ii(e.changedTouches,this.touchIdentifier);t&&this.dragMove(e,t)}},{key:"ontouchend",value:function(e){var t=Ii(e.changedTouches,this.touchIdentifier);t&&this.dragEnd(e,t),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var t=Ii(e.changedTouches,this.touchIdentifier);t&&this.dragCancel(e,t)}},{key:"dragStart",value:function(e,t){if(this._root&&!this.isDown&&this.isEnabled){this.downPoint=t,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var i=Ai(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-i.height,this.startPos.maxX=window.innerWidth-i.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,t){this.isDragging=!0,this.animate(),this.emit(Pi.START,this.startPos)}},{key:"dragEnd",value:function(e,t){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(Pi.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,t){var i={x:t.pageX-this.downPoint.pageX,y:t.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this.dragRealStart(e,t),i}},{key:"dragMove",value:function(e,t){if(e=e||window.event,this.isDown){var i=this.startPos,n=i.x,r=i.y,o=this._dragPointerMove(e,t),s=o.x,a=o.y;s=this.checkContain("x",s,n),a=this.checkContain("y",a,r),this.position.x=n+s,this.position.y=r+a,this.dragPoint.x=s,this.dragPoint.y=a,this.emit(Pi.MOVE,this.position)}}},{key:"dragCancel",value:function(e,t){this.dragEnd(e,t)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,t,i){return t+i<0?0-i:"x"===e&&t+i>this.startPos.maxX?this.startPos.maxX-i:"y"===e&&t+i>this.startPos.maxY?this.startPos.maxY-i:t}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),t=this._getPositionCoord(e.left,"width"),i=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(t)?0:t,this.position.y=Number.isNaN(i)?0:i,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var t=e.transform;if(0===t.indexOf("matrix")){var i=t.split(","),n=0===t.indexOf("matrix3d")?12:4,r=parseInt(i[n],10),o=parseInt(i[n+1],10);this.position.x+=r,this.position.y+=o}}},{key:"_getPositionCoord",value:function(e,t){if(-1!==e.indexOf("%")){var i=Ai(this._root.parentNode);return i?parseFloat(e)/100*i[t]:0}return parseInt(e,10)}}]),i}(L()),Di=function(e){f(i,e);var t=k(i);function i(e){var n;l(this,i),n=t.call(this,e),d(y(n),"onCancelClick",(function(e){n.exitMini(),n.isClose=!0})),d(y(n),"onCenterClick",(function(e){var t=y(n),i=t.player;i.paused?i.play():i.pause()})),d(y(n),"onScroll",(function(e){if(!(!window.scrollY&&0!==window.scrollY||Math.abs(window.scrollY-n.pos.scrollY)<50)){var t=parseInt(F.getCss(n.player.root,"height"));t+=n.config.scrollTop,n.pos.scrollY=window.scrollY,window.scrollY>t+5?!n.isMini&&!n.isClose&&n.getMini():window.scrollY<=t&&(n.isMini&&n.exitMini(),n.isClose=!1)}})),n.isMini=!1,n.isClose=!1;var r=y(n),o=r.config;return n.pos={left:o.left<0?window.innerWidth-o.width-20:o.left,top:o.top<0?window.innerHeight-o.height-20:o.top,height:n.config.height,width:n.config.width,scrollY:window.scrollY||0},n.lastStyle=null,n}return h(i,[{key:"beforeCreate",value:function(e){"boolean"===typeof e.player.config.mini&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(te,(function(){e.setAttr("data-state","pause")})),this.on(J,(function(){e.setAttr("data-state","play")}))}},{key:"onPluginsReady",value:function(){var e=this,t=this.player,i=this.config;if(!i.disable){if(this.config.isShowIcon){var n={config:{onClick:function(){e.getMini()}}};t.controls.registerPlugin(wi,n,wi.pluginName)}var r=F.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",r,this.onCancelClick),this.bind(".play-icon",r,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new Ri(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:pi,class:"xg-icon-play"},pause:{icon:gi,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var t=this.player,i=this.playerConfig,n=this.config.target||this.player.root;this.lastStyle={},F.addClass(t.root,"xgplayer-mini"),["width","height","top","left"].map((function(t){e.lastStyle[t]=n.style[t],n.style[t]="".concat(e.pos[t],"px")})),i.fluid&&(n.style["padding-top"]=""),this.emit(Ne,!0),t.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var t=this.player,i=this.playerConfig,n=this.config.target||this.player.root;F.removeClass(t.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map((function(t){n.style[t]=e.lastStyle[t]})),this.lastStyle=null,i.fluid&&(t.root.style.width="100%",t.root.style.height="0",t.root.style["padding-top"]="".concat(100*i.height/i.width,"%")),this.emit(Ne,!1),this.isMini=t.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=F.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return'\n      <xg-mini-layer class="xg-mini-layer">\n      <xg-mini-header class="xgplayer-mini-header">\n      '.concat(_i(this,"MINI_DRAG",this.playerConfig.isHideTips),'\n      </xg-mini-header>\n      <div class="mini-cancel-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>\n        </svg>\n      </div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>')}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),i}(Dt),Oi={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},Mi=["videoClick","videoDbClick"],Bi=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onMouseMove",(function(t){var i=y(e),n=i.player,r=i.playerConfig;n.isActive||(n.focus({autoHide:!r.closeDelayBlur}),!r.closeFocusVideoFocus&&n.media.focus())})),d(y(e),"onMouseEnter",(function(t){var i=y(e),n=i.playerConfig,r=i.player;!n.closeFocusVideoFocus&&r.media.focus(),n.closeDelayBlur?r.focus({autoHide:!1}):r.focus(),e.emit(De)})),d(y(e),"onMouseLeave",(function(t){var i=e.playerConfig,n=i.closePlayerBlur,r=i.leavePlayerTime,o=i.closeDelayBlur;n||o||(r?e.player.focus({autoHide:!0,delay:r}):e.player.blur({ignorePaused:!0})),e.emit(Re)})),d(y(e),"onVideoClick",(function(t){var i=y(e),n=i.player,r=i.playerConfig;t.target&&r.closeVideoClick||t.target!==n.root&&t.target!==n.media&&t.target!==n.innerContainer&&t.target!==n.media.__canvas||(t.preventDefault(),r.closeVideoStopPropagation||t.stopPropagation(),e._clickCount++,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),e.clickTimer=setTimeout((function(){e._clickCount&&(e._clickCount--,Ct(y(e),Mi[0],(function(t,i){e.switchPlayPause(i.e)}),{e:t,paused:n.paused}),clearTimeout(e.clickTimer),e.clickTimer=null)}),300))})),d(y(e),"onVideoDblClick",(function(t){var i=y(e),n=i.player,r=i.playerConfig;r.closeVideoDblclick||!t.target||t.target!==n.media&&t.target!==n.media.__canvas||(!r.closeVideoClick&&e._clickCount<2?e._clickCount=0:(e._clickCount=0,e.clickTimer&&(clearTimeout(e.clickTimer),e.clickTimer=null),t.preventDefault(),t.stopPropagation(),Ct(y(e),Mi[1],(function(t,i){e.emitUserAction(i.e,"switch_fullscreen",{props:"fullscreen",from:n.fullscreen,to:!n.fullscreen}),n.fullscreen?n.exitFullscreen():n.getFullscreen()}),{e:t,fullscreen:n.fullscreen})))})),e}return h(i,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,Mi.map((function(t){e.__hooks[t]=null}));var t=this.playerConfig.isMobileSimulateMode;"mobile"===t||"mobile"===Y.device&&!Y.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,t=this.player,i=t.media,n=t.root,r=this.playerConfig.enableContextmenu;n&&n.addEventListener("click",this.onVideoClick,!1),n&&n.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(Oi).map((function(t){n.addEventListener(t,e[Oi[t]],!1)})),!r&&i&&i.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var t=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:t.paused,to:!t.paused}),t.ended?t.duration!==1/0&&t.duration>0&&t.replay():t.paused?t.play():t.pause()}},{key:"onContextmenu",value:function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,t=this.player,i=t.video,n=t.root;this.clickTimer&&clearTimeout(this.clickTimer),n.removeEventListener("click",this.onVideoClick,!1),n.removeEventListener("dblclick",this.onVideoDblClick,!1),i.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(Oi).map((function(t){n.removeEventListener(t,e[Oi[t]],!1)}))}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),i}(wt),Ni={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},Fi={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},Hi={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function Ui(e){return e&&e.length>0?e[e.length-1]:null}function ji(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var Wi=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{eventType:"touch"};l(this,e),d(this,"onTouchStart",(function(e){var t=i._pos,n=i.root,r=Ui(e.touches);t.x=r?parseInt(r.pageX,10):e.pageX,t.y=r?parseInt(r.pageX,10):e.pageX,t.start=!0,i.__setPress(e),n.addEventListener(i.events.end,i.onTouchEnd),n.addEventListener(i.events.cancel,i.onTouchCancel),n.addEventListener(i.events.move,i.onTouchMove),i.trigger(Ni.TOUCH_START,e)})),d(this,"onTouchCancel",(function(e){i.onTouchEnd(e)})),d(this,"onTouchEnd",(function(e){var t=i._pos,n=i.root;i.__clearPress(),n.removeEventListener(i.events.cancel,i.onTouchCancel),n.removeEventListener(i.events.end,i.onTouchEnd),n.removeEventListener(i.events.move,i.onTouchMove),e.moving=t.moving,e.press=t.press,t.press&&i.trigger(Ni.PRESS_END,e),i.trigger(Ni.TOUCH_END,e),!t.press&&!t.moving&&i.__setDb(e),t.press=!1,t.start=!1,t.moving=!1})),d(this,"onTouchMove",(function(e){var t=i._pos,n=i.config,r=Ui(e.touches),o=r?parseInt(r.pageX,10):e.pageX,s=r?parseInt(r.pageY,10):e.pageX,a=o-t.x,c=s-t.y;Math.abs(c)<n.miniStep&&Math.abs(a)<n.miniStep||(i.__clearPress(),t.press&&i.trigger(Ni.PRESS_END,e),t.press=!1,t.moving=!0,i.trigger(Ni.TOUCH_MOVE,e))})),this._pos={moving:!1,start:!1,x:0,y:0},this.config=ji(),Object.keys(n).map((function(e){i.config[e]=n[e]})),this.root=t,this.events="mouse"===n.eventType?Hi:Fi,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return h(e,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(e){var t=this,i=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout((function(){t.trigger(Ni.PRESS,e),t._pos.press=!0,t.__clearPress()}),i.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(e){var t=this,i=this.config;if(this.dbIntrvalId)return this.__clearDb(),void this.trigger(Ni.DOUBlE_CLICK,e);this.dbIntrvalId=setTimeout((function(){t.__clearDb(),t._pos.start||t._pos.press||t._pos.moving||t.trigger(Ni.CLICK,e)}),i.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(e,t){this.__handlers[e]||(this.__handlers[e]=[]),this.__handlers[e].push(t)}},{key:"off",value:function(e,t){if(this.__handlers[e]){for(var i=this.__handlers[e],n=-1,r=0;r<i.length;r++)if(i[r]===t){n=r;break}n>=0&&this.__handlers[e].splice(n,1)}}},{key:"trigger",value:function(e,t){this.__handlers[e]&&this.__handlers[e].map((function(i){try{i(t)}catch(n){console.error("trigger>>:".concat(e),n)}}))}},{key:"destroy",value:function(){var e=this,t={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(t).forEach((function(i){e.root.removeEventListener(i,e[t[i]])}))}}]),e}();function zi(){return(new DOMParser).parseFromString('<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path opacity="0.54"\n    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"\n    fill="white" />\n  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>\n</svg>',"image/svg+xml").firstChild}var Ki={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate",LIGHT:""},Vi=["videoClick","videoDbClick"],Gi=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),d(y(n),"onTouchStart",(function(e){var t=y(n),i=t.player,r=t.config,o=t.pos,s=t.playerConfig,a=n.getTouche(e);if(a&&!r.disableGesture&&n.duration>0&&!i.ended){o.isStart=!0,F.checkIsFunction(s.disableSwipeHandler)&&s.disableSwipeHandler(),n.find(".xg-dur").innerHTML=F.format(n.duration);var c=n.root.getBoundingClientRect();90===i.rotateDeg?(o.top=c.left,o.left=c.top,o.width=c.height,o.height=c.width):(o.top=c.top,o.left=c.left,o.width=c.width,o.height=c.height);var l=parseInt(a.pageX-o.left,10),u=parseInt(a.pageY-o.top,10);o.x=90===i.rotateDeg?u:l,o.y=90===i.rotateDeg?l:u,o.scopeL=r.scopeL*o.width,o.scopeR=(1-r.scopeR)*o.width,o.scopeM1=o.width*(1-r.scopeM)/2,o.scopeM2=o.width-o.scopeM1}})),d(y(n),"onTouchMove",(function(e){var t=n.getTouche(e),i=y(n),r=i.pos,o=i.config,s=i.player;if(t&&!o.disableGesture&&n.duration&&r.isStart){var a=o.miniMoveStep,c=o.hideControlsActive,l=parseInt(t.pageX-r.left,10),u=parseInt(t.pageY-r.top,10),h=90===s.rotateDeg?u:l,d=90===s.rotateDeg?l:u;if(Math.abs(h-r.x)>a||Math.abs(d-r.y)>a){var f=h-r.x,p=d-r.y,g=r.scope;if(-1===g&&(g=n.checkScope(h,d,f,p,r),0===g&&(c?s.blur():s.focus({autoHide:!1}),!r.time&&(r.time=parseInt(1e3*s.currentTime,10)+1e3*n.timeOffset)),r.scope=g),-1===g||g>0&&!o.gestureY||0===g&&!o.gestureX)return;e.cancelable&&e.preventDefault(),n.executeMove(f,p,g,r.width,r.height),r.x=h,r.y=d}}})),d(y(n),"onTouchEnd",(function(e){var t=y(n),i=t.player,r=t.pos,o=t.playerConfig;if(r.isStart){r.scope>-1&&e.cancelable&&e.preventDefault();var s=n.config,a=s.disableGesture,c=s.gestureX;!a&&c?(n.endLastMove(r.scope),setTimeout((function(){i.getPlugin("progress")&&i.getPlugin("progress").resetSeekState()}),10)):r.time=0,r.scope=-1,n.resetPos(),F.checkIsFunction(o.enableSwipeHandler)&&o.enableSwipeHandler(),n.changeAction(Ki.AUTO)}})),d(y(n),"onRootTouchMove",(function(e){!n.config.disableGesture&&n.config.gestureX&&n.checkIsRootTarget(e)&&(e.stopPropagation(),n.pos.isStart?n.onTouchMove(e):n.onTouchStart(e))})),d(y(n),"onRootTouchEnd",(function(e){n.pos.isStart&&n.checkIsRootTarget(e)&&(e.stopPropagation(),n.onTouchEnd(e))})),n.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},n.timer=null,n}return h(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:zi,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;Vi.map((function(t){e.__hooks[t]=null}));var t=this.playerConfig,i=this.config,n=this.player;!0===t.closeVideoDblclick&&(i.closedbClick=!0),this.resetPos(),F.isUndefined(t.disableGesture)||(i.disableGesture=!!t.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=F.createDom("xg-mask","",{},"xgmask"),n.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var r="mouse"===this.domEventType?"mouse":"touch";this.touch=new Wi(this.root,{eventType:r,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",(function(e){e.preventDefault()})),n.root.addEventListener("touchmove",this.onRootTouchMove,!0),n.root.addEventListener("touchend",this.onRootTouchEnd,!0),this.on(le,(function(){var t=e.player,i=e.config;1e3*t.duration<i.moveDuration&&(i.moveDuration=1e3*t.duration)})),this.on([ae,ee],(function(){var t=e.pos,i=t.time,n=t.isStart;!n&&i>0&&(e.pos.time=0)}));var o={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(o).map((function(t){e.touch.on(t,(function(i){e[o[t]](i)}))})),!i.disableActive){var s=n.plugins.progress;s&&(s.addCallBack("dragmove",(function(t){e.activeSeekNote(t.currentTime,t.forward)})),s.addCallBack("dragend",(function(){e.changeAction(Ki.AUTO)})))}}},{key:"registerThumbnail",value:function(){var e=this.player,t=e.plugins.thumbnail;if(t&&t.usable){this.thumbnail=t.createThumbnail(null,"mobile-thumbnail");var i=this.find(".time-preview");i.insertBefore(this.thumbnail,i.children[0])}}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},t=e.commonStyle,i=t.playedColor,n=t.progressColor,r=t.timePreviewStyle,o=t.curTimeColor,s=t.durationColor;if(i&&(this.find(".xg-curbar").style.backgroundColor=i),n&&(this.find(".xg-bar").style.backgroundColor=n),r){var a=this.find(".time-preview");Object.keys(r).forEach((function(e){a.style[e]=r[e]}))}var c=o||i,l=s;c&&(this.find(".xg-cur").style.color=c),l&&(this.find(".xg-dur").style.color=l),this.config.disableTimeProgress&&F.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map((function(t){e.pos[t]=0}))):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var t=this.player,i=this.root;i.setAttribute("data-xg-action",e);var n=t.plugins.start;n&&n.recover()}},{key:"getTouche",value:function(e){this.player.rotateDeg;var t=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return{pageX:t.pageX,pageY:t.pageY}}},{key:"checkScope",value:function(e,t,i,n,r){var o=r.width,s=-1;if(e<0||e>o)return s;var a=0===n?Math.abs(i):Math.abs(i/n);return Math.abs(i)>0&&a>=1.73&&e>r.scopeM1&&e<r.scopeM2?s=0:(0===Math.abs(i)||a<=.57)&&(s=e<r.scopeL?1:e>r.scopeR?2:3),s}},{key:"executeMove",value:function(e,t,i,n,r){switch(i){case 0:this.updateTime(e/n*this.config.scopeM);break;case 1:this.updateBrightness(t/r);break;case 2:Y.os.isIos||this.updateVolume(t/r);break}}},{key:"endLastMove",value:function(e){var t=this,i=this.pos,n=this.player,r=this.config,o=(i.time-this.timeOffset)/1e3;switch(e){case 0:n.seek(Number(o).toFixed(1)),r.hideControlsEnd?n.blur():n.focus(),this.timer=setTimeout((function(){t.pos.time=0}),500);break}this.changeAction(Ki.AUTO)}},{key:"checkIsRootTarget",value:function(e){var t=this.player.plugins||{};return(!t.progress||!t.progress.root.contains(e.target))&&(t.start&&t.start.root.contains(e.target)||t.controls&&t.controls.root.contains(e.target))}},{key:"sendUseAction",value:function(e){var t=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t,to:!t})}},{key:"clickHandler",value:function(e){var t=this.player,i=this.config,n=this.playerConfig;t.state<qt.RUNNING?n.closeVideoClick||(this.sendUseAction(F.createEvent("click")),t.play()):!i.closedbClick||n.closeVideoClick?t.isActive?t.blur():t.focus():n.closeVideoClick||((t.isActive||i.focusVideoClick)&&(this.sendUseAction(F.createEvent("click")),this.switchPlayPause()),t.focus())}},{key:"dbClickHandler",value:function(e){var t=this.config,i=this.player;!t.closedbClick&&i.state>=qt.RUNNING&&(this.sendUseAction(F.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var t=this,i=this.player;Ct(this,Vi[0],(function(e,i){t.clickHandler(i.e)}),{e:e,paused:i.paused})}},{key:"onDbClick",value:function(e){var t=this,i=this.player;Ct(this,Vi[1],(function(e,i){t.dbClickHandler(i.e)}),{e:e,paused:i.paused})}},{key:"onPress",value:function(e){var t=this.pos,i=this.config,n=this.player;i.disablePress||(t.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:n.playbackRate,to:i.pressRate}),n.playbackRate=i.pressRate,this.changeAction(Ki.PLAYBACK))}},{key:"onPressEnd",value:function(e){var t=this.pos,i=this.config,n=this.player;i.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:n.playbackRate,to:t.rate}),n.playbackRate=t.rate,t.rate=1,this.changeAction(Ki.AUTO))}},{key:"updateTime",value:function(e){var t=this.player,i=this.config,n=this.player.duration;e=Number(e.toFixed(4));var r=parseInt(e*i.moveDuration,10)+this.timeOffset;r+=this.pos.time,r=r<0?0:r>1e3*n?1e3*n-200:r,t.getPlugin("time")&&t.getPlugin("time").updateTime(r/1e3),t.getPlugin("progress")&&t.getPlugin("progress").updatePercent(r/1e3/this.duration,!0),this.activeSeekNote(r/1e3,e>0),i.isTouchingSeek&&t.seek(Number((r-this.timeOffset)/1e3).toFixed(1)),this.pos.time=r}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.player,i=this.pos;if(e=parseInt(100*e,10),i.volume+=e,!(Math.abs(i.volume)<10)){var n=parseInt(10*t.volume,10)-parseInt(i.volume/10,10);n=n>10?10:n<1?0:n,t.volume=n/10,i.volume=0}}},{key:"updateBrightness",value:function(e){this.player.rotateDeg&&(e=-e);var t=this.pos,i=this.config,n=this.xgMask,r=t.light+.8*e;r=r>i.maxDarkness?i.maxDarkness:r<0?0:r,n&&(n.style.backgroundColor="rgba(0,0,0,".concat(r,")")),t.light=r}},{key:"activeSeekNote",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.player,n=this.config,r=!(this.duration!==1/0&&this.duration>0);if(e&&"number"===typeof e&&!r&&!n.disableActive){e<0?e=0:e>i.duration&&(e=i.duration-.2),this.changeAction(Ki.SEEKING);var o=i.plugins.start;o&&o.focusHide(),this.find(".xg-dur").innerHTML=F.format(this.duration),this.find(".xg-cur").innerHTML=F.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),t?F.removeClass(this.find(".xg-seek-show"),"xg-back"):F.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var t=this.player,i=t.plugins.thumbnail;i&&i.usable&&this.thumbnail&&i.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<qt.ATTACHED)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!1}},{key:"enableGesture",value:function(){this.config.disableGesture=!0}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0)}},{key:"render",value:function(){var e="normal"!==this.config.gradient?"gradient ".concat(this.config.gradient):"gradient";return'\n     <xg-trigger class="trigger">\n     <div class="'.concat(e,'"></div>\n        <div class="time-preview">\n            <div class="xg-seek-show ').concat(this.config.disableSeekIcon?" hide-seek-icon":"",'">\n              <i class="xg-seek-icon"></i>\n              <span class="xg-cur">00:00</span>\n              <span class="xg-separator">/</span>\n              <span class="xg-dur">00:00</span>\n            </div>\n              <div class="xg-bar xg-timebar">\n                <div class="xg-curbar"></div>\n              </div>\n        </div>\n        <div class="xg-playbackrate xg-top-note">\n            <span><i>').concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,"</span>\n        </div>\n     </xg-trigger>\n    ")}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:36e4,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),i}(Dt);function Yi(e){e.preventDefault(),e.returnValue=!1}function Qi(e){var t=e.tagName;return!("INPUT"!==t&&"TEXTAREA"!==t&&!e.isContentEditable)}var Xi=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onBodyKeyDown",(function(t){if(e.player){var i=t||window.event,n=i.keyCode,r=y(e),o=r._keyState,s=r.player,a=e.config,c=a.disable,l=a.disableBodyTrigger,u=a.isIgnoreUserActive;c||l||!s.isUserActive&&!u||Qi(i.target)||!e.checkIsVisible()||i.metaKey||i.altKey||i.ctrlKey?o.isBodyKeyDown=!1:(t.repeat||o.isKeyDown||((i.target===document.body||e.config.isGlobalTrigger&&!Qi(i.target))&&e.checkCode(n,!0)&&(o.isBodyKeyDown=!0),document.addEventListener("keyup",e.onBodyKeyUp)),o.isBodyKeyDown&&e.handleKeyDown(i))}})),d(y(e),"onBodyKeyUp",(function(t){e.player&&(document.removeEventListener("keyup",e.onBodyKeyUp),e.handleKeyUp(t))})),d(y(e),"onKeydown",(function(t){if(e.player){var i=t||window.event,n=y(e),r=n._keyState;if(!i.repeat){if(e.config.disable||e.config.disableRootTrigger||i.metaKey||i.altKey||i.ctrlKey)return;!i||37!==i.keyCode&&!e.checkCode(i.keyCode)||i.target!==e.player.root&&i.target!==e.player.video&&i.target!==e.player.controls.el||(r.isKeyDown=!0),e.player.root.addEventListener("keyup",e.onKeyup)}r.isKeyDown&&e.handleKeyDown(i)}})),d(y(e),"onKeyup",(function(t){e.player&&(e.player.root.removeEventListener("keyup",e.onKeyup),e.handleKeyUp(t))})),e}return h(i,[{key:"mergekeyCodeMap",value:function(){var e=this,t=this.config.keyCodeMap;t&&Object.keys(t).map((function(i){e.keyCodeMap[i]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map((function(n){t[i][n]&&(e.keyCodeMap[i][n]=t[i][n])})):e.keyCodeMap[i]=t[i]}))}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e="function"===typeof this.config.seekStep?this.config.seekStep(this.player):this.config.seekStep;e&&"number"===typeof e&&(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach((function(i){t.config[i]=e[i]}))}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),t=e.height,i=e.top,n=e.bottom,r=window.innerHeight;return!(i<0&&i<0-.9*t||n>0&&n-r>.9*t)}},{key:"checkCode",value:function(e,t){var i=this,n=!1;return Object.keys(this.keyCodeMap).map((function(r){i.keyCodeMap[r]&&e===i.keyCodeMap[r].keyCode&&!i.keyCodeMap[r].disable&&(n=!t||t&&!i.keyCodeMap[r].noBodyTarget)})),n}},{key:"downVolume",value:function(e){var t=this.player;if(!(t.volume<=0)){var i=parseFloat((t.volume-.1).toFixed(1)),n={volume:{from:t.volume,to:i}};this.emitUserAction(e,"change_volume",{props:n}),t.volume=i>=0?i:0}}},{key:"upVolume",value:function(e){var t=this.player;if(!(t.volume>=1)){var i=parseFloat((t.volume+.1).toFixed(1)),n={volume:{from:t.volume,to:i}};this.emitUserAction(e,"change_volume",{props:n}),t.volume=i<=1?i:1}}},{key:"seek",value:function(e){var t=this.player,i=t.currentTime,n=t.offsetCurrentTime,r=t.duration,o=t.offsetDuration,s=t.timeSegments,a=n>-1?n:i,c=o||r,l=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;a+l<=c?a+=l:a=c;var u=F.getCurrentTimeByOffset(a,s),h={currentTime:{from:i,to:u}};this.emitUserAction(e,"seek",{props:h}),this.player.currentTime=u}},{key:"seekBack",value:function(e){var t=this.player,i=t.currentTime,n=t.offsetCurrentTime,r=t.timeSegments,o=e.repeat?parseInt(this.seekStep/2,10):this.seekStep,s=n>-1?n:i,a=s-o;a<0&&(a=0),a=F.getCurrentTimeByOffset(a,r);var c={currentTime:{from:i,to:a}};this.emitUserAction(e,"seek",{props:c}),this.player.currentTime=a}},{key:"changePlaybackRate",value:function(e){var t=this._keyState,i=this.config,n=this.player;0===t.playbackRate&&(t.playbackRate=n.playbackRate,n.playbackRate=i.playbackRate)}},{key:"playPause",value:function(e){var t=this.player;t&&(this.emitUserAction(e,"switch_play_pause"),t.paused?t.play():t.pause())}},{key:"exitFullscreen",value:function(e){var t=this.player,i=t.fullscreen,n=t.cssfullscreen;i&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:i,to:!i}),t.exitFullscreen()),n&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:n,to:!n}),t.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var t=this._keyState;if(e.repeat){t.isPress=!0;var i=Date.now();if(i-t.tt<200)return;t.tt=i}this.handleKeyCode(e.keyCode,e,t.isPress)}},{key:"handleKeyUp",value:function(e){var t=this._keyState;t.playbackRate>0&&(this.player.playbackRate=t.playbackRate,t.playbackRate=0),t.isKeyDown=!1,t.isPress=!1,t.tt=0}},{key:"handleKeyCode",value:function(e,t,i){for(var n=Object.keys(this.keyCodeMap),r=0;r<n.length;r++){var o=this.keyCodeMap[n[r]],s=o.action,c=o.keyCode,l=o.disable,u=o.pressAction,h=o.disablePress;if(c===e){if(!l&&(!i||!h)){var d=i&&u||s;"function"===typeof d?s(t,this.player,i):"string"===typeof d&&"function"===typeof this[d]&&this[d](t,this.player,i),this.emit(Qe,a({key:n[r],target:t.target,isPress:i},this.keyCodeMap[n[r]]))}Yi(t),t.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),i}(wt);function Zi(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">\n  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>\n</svg>\n',"image/svg+xml").firstChild}var qi=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"registerIcons",value:function(){return{loadingIcon:Zi}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return'\n    <xg-loading class="xgplayer-loading">\n      <xg-loading-inner></xg-loading-inner>\n    </xg-loading>'}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:xt.ROOT}}}]),i}(Dt),Ji=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],$i=function(){function e(t){l(this,e),this.fragments=t.fragments||[],0===this.fragments.length&&this.fragments.push({percent:1}),this._callBack=t.actionCallback,this.fragConfig={fragFocusClass:t.fragFocusClass||"inner-focus-point",fragAutoFocus:!!t.fragAutoFocus,fragClass:t.fragClass||""},this.style=t.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return h(e,[{key:"updateDuration",value:function(e){var t=this;this.duration=e;var i=0,n=this.fragments;this.fragments=n.map((function(e){return e.start=parseInt(i,10),e.end=parseInt(i+e.percent*t.duration,10),e.duration=parseInt(e.percent*t.duration,10),i+=e.percent*t.duration,e}))}},{key:"updateProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"played",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},i=this.progressList,n=this.fragments;if(!(i.length<1)){var r=t.newIndex,o=t.curIndex,s=t.millisecond;r!==o&&i.map((function(t,i){i<r?t[e].style.width="100%":i>r&&(t[e].style.width=0)}));var a=n[r],c=0===s?0:(s-a.start)/a.duration;i[r][e].style.width=c<0?0:"".concat(100*c,"%")}}},{key:"updateFocus",value:function(e){if(this.fragConfig.fragAutoFocus&&!(this.fragments.length<2))if(e){var t=this.findIndex(1e3*e.currentTime,this.focusIndex);if(t>=0&&t!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(t);var i={index:t,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=t,this._callBack&&this._callBack(i)}}else if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var n={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(n),this.focusIndex=-1}}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(1e3*t,10)!==this.duration){if(!t&&0!==t)return;this.updateDuration(parseInt(1e3*t,10))}var i=this.playedIndex,n=this.cachedIndex;if("Undefined"!==F.typeOf(e.played)){var r=this.findIndex(1e3*e.played,i);if(r<0)return;this.updateProgress("played",{newIndex:r,curIndex:i,millisecond:parseInt(1e3*e.played,10)}),this.playedIndex=r}if("Undefined"!==F.typeOf(e.cached)){var o=this.findIndex(1e3*e.cached,n);if(o<0)return;this.updateProgress("cached",{newIndex:o,curIndex:n,millisecond:parseInt(1e3*e.cached,10)}),this.cachedIndex=o}}},{key:"findIndex",value:function(e,t){var i=this.fragments;if(!i||0===i.length)return-1;if(1===i.length)return 0;if(t>-1&&t<i.length&&e>i[t].start&&e<i[t].end)return t;if(e>i[i.length-1].start)return i.length-1;for(var n=0;n<i.length;n++)if(e>i[n].start&&e<=i[n].end){t=n;break}return t}},{key:"findHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)if(F.hasClass(e[t],this.fragConfig.fragFocusClass))return{dom:e[t],pos:e[t].getBoundingClientRect()}}},{key:"findFragment",value:function(e){var t=this.root.children;return e<0||e>=t.length?null:{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)F.removeClass(e[t],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(e){var t=this.root.children;if(e<t.length)return F.addClass(t[e],this.fragConfig.fragFocusClass),{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(e){var t=this;if(Object.keys(this.fragConfig).forEach((function(i){void 0!==e[i]&&(t.fragConfig[i]=e[i])})),e.fragments){if(this.fragments=0===e.fragments.length?[{percent:1}]:e.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root){var i=this.root.children;while(i.length>0)this.root.removeChild(i[0])}this.render()}}},{key:"render",value:function(){var e=this,t=this.style.progressColor;if(this.root||(this.root=F.createDom("xg-inners","",{},"progress-list")),this.fragments){var i=this.fragConfig,n=i.fragClass,r=i.fragFocusClass;this.progressList=this.fragments.map((function(i){var o=F.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(i.percent):"flex: ".concat(i.percent)},"".concat(i.isFocus?r:""," xgplayer-progress-inner ").concat(n));return e.root.appendChild(o),Ji.forEach((function(t){o.appendChild(F.createDom(t.tag,"",{style:t.styleKey?"background: ".concat(e.style[t.styleKey],"; width:0;"):"width:0;"},t.className))})),{cached:o.children[0],played:o.children[1]}}))}return this.root}}]),e}(),en={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},tn=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),d(y(n),"onMoveOnly",(function(e,t){var i=y(n),r=i.pos,o=i.config,s=i.player,a=t;if(e){F.event(e);var c=F.getEventPos(e,s.zoom),l=90===s.rotateDeg?c.clientY:c.clientX;if(r.moving&&Math.abs(r.x-l)<o.miniMoveStep)return;r.moving=!0,r.x=l,a=n.computeTime(e,l)}n.triggerCallbacks("dragmove",a,e),n._updateInnerFocus(a)})),d(y(n),"onBodyClick",(function(e){n.pos.isLocked&&(n.pos.isLocked=!1,e.preventDefault(),e.stopPropagation())})),d(y(n),"_mouseDownHandler",(function(e,t){n._state.time=t.currentTime,n.updateWidth(t.currentTime,t.seekTime,t.percent,0),n._updateInnerFocus(t)})),d(y(n),"_mouseUpHandler",(function(e,t){var i=y(n),r=i.pos;r.moving&&n.updateWidth(t.currentTime,t.seekTime,t.percent,2)})),d(y(n),"_mouseMoveHandler",(function(e,t){var i=y(n),r=i._state,o=i.pos,s=i.config,a=i.player;r.time<t.currentTime?t.forward=!0:t.forward=!1,r.time=t.currentTime,o.isDown&&!o.moving&&(o.moving=!0,s.isPauseMoving&&a.pause(),n.triggerCallbacks("dragstart",t,e),n.emitUserAction("drag","dragstart",t)),n.updateWidth(t.currentTime,t.seekTime,t.percent,1),n.triggerCallbacks("dragmove",t,e),n._updateInnerFocus(t)})),d(y(n),"onMouseDown",(function(e){var t=y(n),i=t._state,r=t.player,o=t.pos,s=t.config,a=t.playerConfig,c=F.getEventPos(e,r.zoom),l=90===r.rotateDeg?c.clientY:c.clientX;if(!(r.isMini||s.closeMoveSeek||!a.allowSeekAfterEnded&&r.ended)){if(r.duration||r.isPlaying){e.stopPropagation(),n.focus(),F.checkIsFunction(a.disableSwipeHandler)&&a.disableSwipeHandler(),F.checkIsFunction(s.onMoveStart)&&s.onMoveStart(),F.event(e),o.x=l,o.isDown=!0,o.moving=!1,i.prePlayTime=r.currentTime,r.focus({autoHide:!1}),n.isProgressMoving=!0,F.addClass(n.progressBtn,"active");var u=n.computeTime(e,l);u.prePlayTime=i.prePlayTime,n._mouseDownHandlerHook(e,u);var h=e.type;return"touchstart"===h?(n.root.addEventListener("touchmove",n.onMouseMove),n.root.addEventListener("touchend",n.onMouseUp)):(n.unbind("mousemove",n.onMoveOnly),document.addEventListener("mousemove",n.onMouseMove,!1),document.addEventListener("mouseup",n.onMouseUp,!1)),!0}r.play()}})),d(y(n),"onMouseUp",(function(e){var t=y(n),i=t.player,r=t.config,o=t.pos,s=t.playerConfig,a=t._state;e.stopPropagation(),e.preventDefault(),F.checkIsFunction(s.enableSwipeHandler)&&s.enableSwipeHandler(),F.checkIsFunction(r.onMoveEnd)&&r.onMoveEnd(),F.event(e),F.removeClass(n.progressBtn,"active");var c=n.computeTime(e,o.x);c.prePlayTime=a.prePlayTime,o.moving?(n.triggerCallbacks("dragend",c,e),n.emitUserAction("drag","dragend",c)):(n.triggerCallbacks("click",c,e),n.emitUserAction("click","click",c)),n._mouseUpHandlerHook(e,c),o.moving=!1,o.isDown=!1,o.x=0,o.y=0,o.isLocked=!0,a.prePlayTime=0,a.time=0;var l=e.type;"touchend"===l?(n.root.removeEventListener("touchmove",n.onMouseMove),n.root.removeEventListener("touchend",n.onMouseUp),n.blur()):(document.removeEventListener("mousemove",n.onMouseMove,!1),document.removeEventListener("mouseup",n.onMouseUp,!1),o.isEnter?"mobile"!==s.isMobileSimulateMode&&n.bind("mousemove",n.onMoveOnly):n.onMouseLeave(e)),F.setTimeout(y(n),(function(){n.resetSeekState()}),10),i.focus()})),d(y(n),"onMouseMove",(function(e){var t=y(n),i=t._state,r=t.pos,o=t.player,s=t.config;F.checkTouchSupport()&&e.preventDefault(),F.event(e);var a=F.getEventPos(e,o.zoom),c=90===o.rotateDeg?a.clientY:a.clientX,l=Math.abs(r.x-c);if(!(r.moving&&l<s.miniMoveStep||!r.moving&&l<s.miniStartStep)){r.x=c;var u=n.computeTime(e,c);u.prePlayTime=i.prePlayTime,n._mouseMoveHandlerHook(e,u)}})),d(y(n),"onMouseOut",(function(e){n.triggerCallbacks("mouseout",null,e)})),d(y(n),"onMouseOver",(function(e){n.triggerCallbacks("mouseover",null,e)})),d(y(n),"onMouseEnter",(function(e){var t=y(n),i=t.player,r=t.pos;if(!(r.isDown||r.isEnter||i.isMini||!i.config.allowSeekAfterEnded&&i.ended)){r.isEnter=!0,n.bind("mousemove",n.onMoveOnly),n.bind("mouseleave",n.onMouseLeave),F.event(e);var o=F.getEventPos(e,i.zoom),s=90===i.rotateDeg?o.clientY:o.clientX,a=n.computeTime(e,s);n.triggerCallbacks("mouseenter",a,e),n.focus()}})),d(y(n),"onMouseLeave",(function(e){n.triggerCallbacks("mouseleave",null,e),n.unlock(),n._updateInnerFocus(null)})),d(y(n),"onVideoResize",(function(){var e=n.pos,t=e.x,i=e.isDown,r=e.isEnter;if(r&&!i){var o=n.computeTime(null,t);n.onMoveOnly(null,o)}})),n.useable=!1,n.isProgressMoving=!1,n.__dragCallBacks=[],n._state={now:-1,direc:0,time:0,prePlayTime:-1},n._disableBlur=!1,n}return h(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,i=e.currentTime;return t>=0?t:i+this.timeOffset}},{key:"changeState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.useable=e}},{key:"show",value:function(e){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&0!==t.length||(t=[{percent:1}]);var n=a(a({fragments:t},i),{},{actionCallback:function(t){e.emitUserAction("fragment_focus","fragment_focus",t)}});this.innerList?this.innerList.reset(n):(this.innerList=new $i(n),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map((function(t){e[t]=e.innerList[t].bind(e.innerList)})))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){var e=this;if(!this.config.disable&&!this.playerConfig.isLive){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var t=this.config,i=t.fragFocusClass,n=t.fragAutoFocus,r=t.fragClass;this._initInner(this.config.fragments,{fragFocusClass:i,fragAutoFocus:n,fragClass:r,style:this.playerConfig.commonStyle||{}}),"mobile"===Y.device&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(le,(function(){e.onMouseLeave()})),this.on(oe,(function(){e.onTimeupdate()})),this.on(re,(function(){e.onTimeupdate(),e.onCacheUpdate()})),this.on(pe,(function(){e.onCacheUpdate()})),this.on(ee,(function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0})),this.on(ve,(function(){e.onReset()})),this.on(ze,(function(){e.onVideoResize()})),this.bindDomEvents(),this.initCustomStyle()}}},{key:"setConfig",value:function(e){var t=this,i=null;Object.keys(e).forEach((function(n){t.config[n]=e[n],"fragments"===n&&(i=e[n])})),i&&this._initInner(i,e)}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},t=e.commonStyle,i=t.sliderBtnStyle,n=this.progressBtn;i&&("string"===typeof i?n.style.boxShadow=i:"object"===c(i)&&Object.keys(i).map((function(e){n.style[e]=i[e]})))}},{key:"triggerCallbacks",value:function(e,t,i){this.__dragCallBacks.length>0&&this.__dragCallBacks.map((function(n){if(n&&n.handler&&n.type===e)try{n.handler(t,i)}catch(r){console.error("[XGPLAYER][triggerCallbacks] ".concat(n," error"),r)}}))}},{key:"addCallBack",value:function(e,t){t&&"function"===typeof t&&this.__dragCallBacks.push({type:e,handler:t})}},{key:"removeCallBack",value:function(e,t){var i=this.__dragCallBacks,n=-1;i.map((function(i,r){i&&i.type===e&&i.handler===t&&(n=r)})),n>-1&&i.splice(n,1)}},{key:"unlock",value:function(){var e=this.player,t=this.pos;t.isEnter=!1,t.isLocked=!1,e.isMini||(this.unbind("mousemove",this.onMoveOnly),t.isDown?this.unbind("mouseleave",this.onMouseLeave):this.blur())}},{key:"bindDomEvents",value:function(){var e=this.player,t=e.controls,i=e.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),"touch"!==this.domEventType&&"compatible"!==this.domEventType||(this.root.addEventListener("touchstart",this.onMouseDown),t&&(t.root&&t.root.addEventListener("touchmove",F.stopPropagation),t.center&&t.center.addEventListener("touchend",F.stopPropagation))),"mouse"!==this.domEventType&&"compatible"!==this.domEventType||(this.bind("mousedown",this.onMouseDown),"mobile"!==i.isMobileSimulateMode&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),F.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),F.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,t,i,n){var r=this.config,o=this.player;if(!r.isCloseClickSeek||0!==n){var s=t=t>=o.duration?o.duration-r.endedDiff:Number(t).toFixed(1);this.updatePercent(i),this.updateTime(e),(1!==n||r.isDragingSeek&&"audio"!==o.config.mediaType)&&(this._state.now=s,this._state.direc=s>o.currentTime?0:1,o.seek(s))}}},{key:"computeTime",value:function(e,t){var i,n,r=this.player,o=this.root.getBoundingClientRect(),s=o.width,a=o.height,c=o.top,l=o.left,u=t;90===r.rotateDeg?(i=a,n=c):(i=s,n=l);var h=u-n;h=h>i?i:h<0?0:h;var d=h/i;d=d<0?0:d>1?1:d;var f=parseInt(d*this.offsetDuration*1e3,10)/1e3,p=F.getCurrentTimeByOffset(f,r.timeSegments);return{percent:d,currentTime:f,seekTime:p,offset:h,width:i,left:n,e:e}}},{key:"updateTime",value:function(e){var t=this.player,i=this.duration;e>i?e=i:e<0&&(e=0);var n=t.plugins.time;n&&n.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,t){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(100*e,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var i=this.player.plugins.miniprogress;i&&i.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var t=this.player,i=this._state,n=this.offsetDuration;if(!(t.isSeeking&&t.media.seeking||this.isProgressMoving)&&t.hasStart){if(i.now>-1){var r=parseInt(1e3*i.now,10)-parseInt(1e3*t.currentTime,10);if(0===i.direc&&r>300||1===i.direc&&r>-300)return void(i.now=-1);i.now=-1}var o=this.currentTime;o=F.adjustTimeByDuration(o,n,e),this.innerList.update({played:o},n),this.progressBtn.style.left="".concat(o/n*100,"%")}}},{key:"onCacheUpdate",value:function(e){var t=this.player,i=this.duration;if(t){var n=t.bufferedPoint.end;n=F.adjustTimeByDuration(n,i,e),this.innerList.update({cached:n},i)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var e=this.player,t=e.controls;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var i=this.domEventType;"touch"!==i&&"compatible"!==i||(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),t&&(t.root&&t.root.removeEventListener("touchmove",F.stopPropagation),t.center&&t.center.removeEventListener("touchend",F.stopPropagation))),"mouse"!==i&&"compatible"!==i||(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!this.config.disable&&!this.playerConfig.isLive){var e=this.player.controls?this.player.controls.config.mode:"",t="bottom"===e?"xgplayer-progress-bottom":"";return'\n    <xg-progress class="xgplayer-progress '.concat(t,'">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n      </xg-outer>\n    </xg-progress>\n    ')}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:en.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return en}}]),i}(Dt),nn=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"_onMouseenter",(function(t){e.emit("icon_mouseenter",{pluginName:e.pluginName})})),d(y(e),"_onMouseLeave",(function(t){e.emit("icon_mouseleave",{pluginName:e.pluginName})})),e}return h(i,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave)}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),i}(Dt),rn=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"afterCreate",value:function(){var e=this;_(p(i.prototype),"afterCreate",this).call(this);var t=this.player,n=this.config;n.disable||(this.initIcons(),this.btnClick=this.btnClick.bind(this),this.bind(["touchend","click"],this.btnClick),this.on([te,ie,ve],(function(){e.animate(t.paused)})),this.on(J,(function(){e.animate(t.paused)})),this.animate(!0))}},{key:"registerIcons",value:function(){return{play:{icon:pi,class:"xg-icon-play"},pause:{icon:gi,class:"xg-icon-pause"}}}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player;return this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:t.paused,to:!t.paused}),t.ended?t.replay():t.paused?(t.play(),this.animate(!1)):(t.pause(),this.animate(!0)),!1}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var t=this.i18nKeys,i=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),i&&this.changeLangTextKey(i,t.PLAY_TIPS)):(this.setAttr("data-state","play"),i&&this.changeLangTextKey(i,t.PAUSE_TIPS))}}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-play">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(_i(this,"PLAY_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_LEFT,index:0,disable:!1}}}]),i}(nn);function on(){return(new DOMParser).parseFromString('<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>\n    </g>\n</svg>',"image/svg+xml").firstChild}var sn=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.config.onClick(t)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:on,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){F.addClass(this.root,"show")}},{key:"hide",value:function(){F.removeClass(this.root,"show")}},{key:"render",value:function(){return'<xg-icon class="xgplayer-back">\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:xt.ROOT_TOP,index:0}}}]),i}(Dt);function an(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>\n</svg>\n',"image/svg+xml").firstChild}function cn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">\n  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>\n</svg>\n',"image/svg+xml").firstChild}var ln=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"_onOrientationChange",(function(t){e.player.fullscreen&&e.config.rotateFullscreen&&(90===window.orientation||-90===window.orientation?e.player.setRotateDeg(0):e.player.setRotateDeg(90))})),e}return h(i,[{key:"afterCreate",value:function(){var e=this;_(p(i.prototype),"afterCreate",this).call(this);var t=this.config,n=this.playerConfig;if(!t.disable){t.target&&(this.playerConfig.fullscreenTarget=this.config.target);var r=F.getFullScreenEl();n.fullscreenTarget===r&&this.player.getFullscreen().catch((function(e){})),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(t){var i=e.player.fullscreen;e.emitUserAction(t,"switch_fullscreen",{prop:"fullscreen",from:i,to:!i})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(Me,(function(t){var i=e.find(".xg-tips");i&&e.changeLangTextKey(i,t?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(t)})),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:sn,options:{config:{onClick:function(t){e.handleFullscreen(t)}}}})),"mobile"===Y.device&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:an,class:"xg-get-fullscreen"},exitFullscreen:{icon:cn,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon","mobile"===Y.device?"touchend":"click",this.handleFullscreen),"mobile"===Y.device&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.player,i=this.config,n=!0===i.useCssFullscreen||"function"===typeof i.useCssFullscreen&&i.useCssFullscreen();n?(t.fullscreen?t.exitCssFullscreen():t.getCssFullscreen(),this.animate(t.fullscreen)):i.rotateFullscreen?(t.fullscreen?t.exitRotateFullscreen():t.getRotateFullscreen(),this.animate(t.fullscreen)):i.switchCallback&&"function"===typeof i.switchCallback?i.switchCallback(t.fullscreen):t.fullscreen?(t.exitFullscreen(),i.useScreenOrientation&&this.unlockScreen()):(t.getFullscreen().catch((function(e){})),i.useScreenOrientation&&t.aspectRatio>1&&this.lockScreen(i.lockOrientationType))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable){var e="FULLSCREEN_TIPS";return'<xg-icon class="xgplayer-fullscreen">\n    <div class="xgplayer-icon">\n    </div>\n    '.concat(_i(this,e,this.playerConfig.isHideTips),"\n    </xg-icon>")}}},{key:"lockScreen",value:function(e){try{screen.orientation.lock(e).catch((function(e){}))}catch(t){}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch((function(e){}))}catch(e){}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),i}(nn),un=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),n.isActiving=!1,n}return h(i,[{key:"duration",get:function(){var e=this.player,t=e.offsetDuration,i=e.duration;return this.playerConfig.customDuration||t||i}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,i=e.currentTime;return t>=0?t:i}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this,t=this.player.controls.config.mode;this.mode="flex"===t?"flex":"normal",this.config.disable||("flex"===this.mode&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on([le,re,oe],(function(t){"durationchange"===t.eventName&&(e.isActiving=!1),e.onTimeUpdate()})),this.on(ee,(function(){e.onTimeUpdate(!0)})),this.on(ve,(function(){e.onReset()})))}},{key:"show",value:function(e){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="block"),void(this.centerDurDom&&(this.centerDurDom.style.display="block"));this.root.style.display="block"}},{key:"hide",value:function(){if("flex"===this.mode)return this.centerCurDom&&(this.centerCurDom.style.display="none"),void(this.centerDurDom&&(this.centerDurDom.style.display="none"));this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var t=this.player,i=this.config,n=this.duration;if(!i.disable&&!this.isActiving&&t.hasStart){var r=this.currentTime+this.timeOffset;r=F.adjustTimeByDuration(r,n,e),"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(F.format(r)),n!==1/0&&n>0&&(this.centerDurDom.innerHTML=F.format(n))):(this.timeDom.innerHTML=this.minWidthTime(F.format(r)),n!==1/0&&n>0&&(this.durationDom.innerHTML=F.format(n)))}}},{key:"onReset",value:function(){"flex"===this.mode?(this.centerCurDom.innerHTML=this.minWidthTime(F.format(0)),this.centerDurDom.innerHTML=F.format(0)):(this.timeDom.innerHTML=this.minWidthTime(F.format(0)),this.durationDom.innerHTML=F.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(e.controls&&e.controls.center){var t=e.controls.center;this.centerCurDom=F.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=F.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),t.children.length>0?t.insertBefore(this.centerCurDom,t.children[0]):t.appendChild(this.centerCurDom),t.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;this.duration===1/0||this.playerConfig.isLive?(F.hide(this.durationDom),F.hide(this.timeDom),F.hide(this.find(".time-separator")),F.show(this.find(".time-live-tag"))):F.hide(this.find(".time-live-tag")),e.hide?this.hide():this.show()}},{key:"changeLiveState",value:function(e){e?(F.hide(this.durationDom),F.hide(this.timeDom),F.hide(this.find(".time-separator")),F.show(this.find(".time-live-tag"))):(F.hide(this.find(".time-live-tag")),F.show(this.find(".time-separator")),F.show(this.durationDom),F.show(this.timeDom))}},{key:"updateTime",value:function(e){this.isActiving=!0,!e&&0!==e||e>this.duration||("flex"!==this.mode?this.timeDom.innerHTML=this.minWidthTime(F.format(e)):this.centerCurDom.innerHTML=this.minWidthTime(F.format(e)))}},{key:"minWidthTime",value:function(e){return e.split(":").map((function(e){return'<span class="time-min-width">'.concat(e,"</span>")})).join(":")}},{key:"resetActive",value:function(){var e=this,t=this.player,i=function(){e.isActiving=!1};this.off(re,i),t.isSeeking&&t.media.seeking?this.once(re,i):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag">'.concat(this.i18n.LIVE_TIP,"</span>\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_LEFT,index:2,disable:!1}}}]),i}(Dt),hn=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"_onDurationChange",(function(){e.updateSegments();var t=e.player,i=t.currentTime,n=t.timeSegments;if(e._checkIfEnabled(n)){var r=F.getIndexByTime(i,n),o=F.getOffsetCurrentTime(i,n,r);e.player.offsetCurrentTime=o,e.changeIndex(r,n)}})),d(y(e),"_onLoadedData",(function(){var t=e.player.timeSegments;if(e._checkIfEnabled(t)){var i=F.getOffsetCurrentTime(0,t);e.player.offsetCurrentTime=i,e.changeIndex(0,t),e.curPos.start>0&&(e.player.currentTime=e.curPos.start)}})),d(y(e),"_onTimeupdate",(function(){var t=e.player,i=t.currentTime,n=t.timeSegments;if(e._checkIfEnabled(n)){var r=n.length;e.lastCurrentTime=i;var o=F.getIndexByTime(i,n);o!==e.curIndex&&e.changeIndex(o,n);var s=F.getOffsetCurrentTime(i,n,o);if(e.player.offsetCurrentTime=s,e.curPos){var a=e.curPos,c=a.start,l=a.end;i<c?e.player.currentTime=c:i>l&&o>=r-1&&e.player.pause()}}})),d(y(e),"_onSeeking",(function(){var t=e.player,i=t.currentTime,n=t.timeSegments;if(e._checkIfEnabled(n))if(i<n[0].start)e.player.currentTime=n[0].start;else if(i>n[n.length-1].end)e.player.currentTime=n[n.length-1].end;else{var r=F.getIndexByTime(i,n);if(r>=0){var o=e.getSeekTime(i,e.lastCurrentTime,r,n);o>=0&&(e.player.currentTime=o)}}})),d(y(e),"_onPlay",(function(){var t=e.player,i=t.currentTime,n=t.timeSegments;e._checkIfEnabled(n)&&i>=n[n.length-1].end&&(e.player.currentTime=n[0].start)})),e}return h(i,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(le,this._onDurationChange),this.on(he,this._onLoadedData),this.on(oe,this._onTimeupdate),this.on(ne,this._onSeeking),this.on(J,this._onPlay)}},{key:"setConfig",value:function(e){var t=this;if(e){var i=Object.keys(e);i.length<1||(i.forEach((function(i){t.config[i]=e[i]})),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,t=e.disable,i=e.segments,n=this.player;if(t||!i||0===i.length)n.timeSegments=[],n.offsetDuration=0,n.offsetCurrentTime=-1;else{var r=this.formatTimeSegments(i,n.duration);n.timeSegments=r,n.offsetDuration=r.length>0?r[r.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,t){var i=[];return e?(e.sort((function(e,t){return e.start-t.start})),e.forEach((function(e,n){var r={};if(r.start=e.start<0?0:e.start,r.end=t>0&&e.end>t?t:e.end,!(t>0&&r.start>t)){i.push(r);var o=r.end-r.start;if(0===n)r.offset=e.start,r.cTime=0,r.segDuration=o,r.duration=o;else{var s=i[n-1];r.offset=s.offset+(r.start-s.end),r.cTime=s.duration+s.cTime,r.segDuration=o,r.duration=s.duration+o}}})),i):[]}},{key:"getSeekTime",value:function(e,t,i,n){var r=-1,o=n[i],s=o.start,a=o.end;if(e>=s&&e<=a)return r;var c=e-t;if(c<0&&e<s){var l=t>s?t-s:0;return r=i-1>=0?n[i-1].end+c+l:0,r}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,t){this.curIndex=e,e>=0&&t.length>0?this.curPos=t[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),i}(wt);function dn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function fn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>\n</svg>\n',"image/svg+xml").firstChild}function pn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>\n  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>\n</svg>\n',"image/svg+xml").firstChild}var gn=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onBarMousedown",(function(t){var i=y(e),n=i.player,r=e.find(".xgplayer-bar");F.event(t);var o=r.getBoundingClientRect(),s=F.getEventPos(t,n.zoom),a=o.height-(s.clientY-o.top);if(s.h=a,s.barH=o.height,e.pos=s,!(a<-2))return e.updateVolumePos(a,t),document.addEventListener("mouseup",e.onBarMouseUp),e._d.isStart=!0,!1})),d(y(e),"onBarMouseMove",(function(t){var i=y(e),n=i._d;if(n.isStart){var r=y(e),o=r.pos,s=r.player;t.preventDefault(),t.stopPropagation(),F.event(t);var a=F.getEventPos(t,s.zoom);n.isMoving=!0;var c=o.h-a.clientY+o.clientY;c>o.barH||e.updateVolumePos(c,t)}})),d(y(e),"onBarMouseUp",(function(t){F.event(t),document.removeEventListener("mouseup",e.onBarMouseUp);var i=y(e),n=i._d;n.isStart=!1,n.isMoving=!1})),d(y(e),"onMouseenter",(function(t){e._d.isActive=!0,e.focus(),e.emit("icon_mouseenter",{pluginName:e.pluginName})})),d(y(e),"onMouseleave",(function(t){e._d.isActive=!1,e.unFocus(100,!1,t),e.emit("icon_mouseleave",{pluginName:e.pluginName})})),d(y(e),"onVolumeChange",(function(t){if(e.player){var i=e.player,n=i.muted,r=i.volume;e._d.isMoving||(e.find(".xgplayer-drag").style.height=n||0===r?"4px":"".concat(100*r,"%"),e.config.showValueLabel&&e.updateVolumeValue()),e.animate(n,r)}})),e}return h(i,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:fn,class:"xg-volume-small"},volumeLarge:{icon:dn,class:"xg-volume"},volumeMuted:{icon:pn,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var t=this.playerConfig,i=t.commonStyle,n=t.volume;i.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=i.volumeColor),this.changeMutedHandler=this.hook("mutedChange",(function(t){e.changeMuted(t)}),{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),"mobile"!==Y.device&&"mobile"!==this.playerConfig.isMobileSimulateMode&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(ue,this.onVolumeChange),this.once(he,this.onVolumeChange),"Number"!==F.typeOf(n)&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,t){var i=this.player,n=this.find(".xgplayer-drag"),r=this.find(".xgplayer-bar");if(r&&n){var o=parseInt(e/r.getBoundingClientRect().height*1e3,10);n.style.height="".concat(e,"px");var s=Math.max(Math.min(o/1e3,1),0),a={volume:{from:i.volume,to:s}};i.muted&&(a.muted={from:!0,to:!1}),this.emitUserAction(t,"change_volume",{muted:i.muted,volume:i.volume,props:a}),i.volume=Math.max(Math.min(o/1e3,1),0),i.muted&&(i.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,t=e.volume,i=e.muted,n=this.find(".xgplayer-value-label"),r=Math.max(Math.min(t,1),0);n.innerText=i?0:Math.ceil(100*r)}},{key:"focus",value:function(){var e=this.player;e.focus({autoHide:!1}),this._timerId&&(F.clearTimeout(this,this._timerId),this._timerId=null),F.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this._d,o=this.player;r.isActive||(this._timerId&&(F.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=F.setTimeout(this,(function(){r.isActive||(i?o.blur():o.focus(),F.removeClass(e.root,"slide-show"),r.isStart&&e.onBarMouseUp(n)),e._timerId=null}),t))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var t=this.player,i=this._d;i.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:t.muted,volume:t.volume,props:{muted:{from:t.muted,to:!t.muted}}}),t.volume>0&&(t.muted=!t.muted),t.volume<.01&&(t.volume=this.config.miniVolume)}},{key:"animate",value:function(e,t){e||0===t?this.setAttr("data-state","mute"):t<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(F.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon","mobile"===Y.device?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,t=this.config.showValueLabel;return'\n    <xg-icon class="xgplayer-volume" data-state="normal">\n      <div class="xgplayer-icon">\n      </div>\n      <xg-slider class="xgplayer-slider">\n        '.concat(t?'<div class="xgplayer-value-label">'.concat(100*e,"</div>"):"",'\n        <div class="xgplayer-bar">\n          <xg-drag class="xgplayer-drag" style="height: ').concat(100*e,'%"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>')}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),i}(Dt);function vn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">\n  <g clip-path="url(#clip0)">\n    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>\n    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>\n  </g>\n  <defs>\n    <clipPath id="clip0">\n      <rect width="40" height="40" fill="white"/>\n    </clipPath>\n  </defs>\n</svg>\n',"image/svg+xml").firstChild}var yn=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),n.rotateDeg=n.config.rotateDeg||0,n}return h(i,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){_(p(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(ze,(function(){e.rotateDeg&&e.config.innerRotate&&F.setTimeout(e,(function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)}),100)}));var t=this.player.root;this.rootWidth=t.style.width||t.offsetWidth||t.clientWidth,this.rootHeight=t.style.height||t.offsetHeight||t.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,t){if(e||(e=0),t)this.player.videoRotateDeg=e;else{var i=this.player,n=this.rootWidth,r=this.rootHeight,o=i.root,s=i.innerContainer,a=i.media,c=o.offsetWidth,l=s&&t?s.offsetHeight:o.offsetHeight,u=n,h=r,d=0,f=0;.75!==e&&.25!==e||(u="".concat(l,"px"),h="".concat(c,"px"),d=-(l-c)/2,f=-(c-l)/2);var p="translate(".concat(d,"px,").concat(f,"px) rotate(").concat(e,"turn)"),g={transformOrigin:"center center",transform:p,webKitTransform:p,height:h,width:u},v=t?a:o,y=t?i.getPlugin("poster"):null;Object.keys(g).map((function(e){v.style[e]=g[e],y&&y.root&&(y.root.style[e]=g[e])}))}}},{key:"rotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.player;this.rotateDeg||(this.rotateDeg=0);var r=e?1:-1;this.rotateDeg=(this.rotateDeg+1+.25*r*i)%1,this.updateRotateDeg(this.rotateDeg,t),n.emit(Ve,360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:vn}}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(_i(this,"ROTATE_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),i}(nn);function mn(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}function kn(){return(new DOMParser).parseFromString('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"\n    fill="white" />\n  <path fill-rule="evenodd" clip-rule="evenodd"\n    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"\n    fill="white" />\n</svg>',"image/svg+xml").firstChild}var Cn={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},_n=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"switchPIP",(function(t){if(!e.isPIPAvailable())return!1;t.stopPropagation&&t.stopPropagation(),e.isPip?(e.exitPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!0,to:!1}),e.setAttr("data-state","normal")):4===e.player.media.readyState&&(e.requestPIP(),e.emitUserAction(t,"change_pip",{props:"pip",from:!1,to:!0}),e.setAttr("data-state","pip"))})),e}return h(i,[{key:"beforeCreate",value:function(e){"boolean"===typeof e.player.config.pip&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&&(_(p(i.prototype),"afterCreate",this).call(this),this.pMode=Cn.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Ee,(function(){e.config.showIcon&&(F.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))})))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:mn,class:"xg-get-pip"},pipIconExit:{icon:kn,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,t=this.player;this.leavePIPCallback=function(){var i=t.paused;F.setTimeout(e,(function(){!i&&t.mediaPlay()}),0),!i&&t.mediaPlay(),e.setAttr("data-state","normal"),e.pipWindow=null,t.emit(Ke,!1)},this.enterPIPCallback=function(i){t.emit(Ke,!0),null!==i&&void 0!==i&&i.pictureInPictureWindow&&(e.pipWindow=i.pictureInPictureWindow),e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(i){var n=t.media.webkitPresentationMode;e.pMode===Cn.FULLSCREEN&&n!==Cn.FULLSCREEN&&t.onFullscreenChange(null,!1),e.pMode=n,n===Cn.PIP?e.enterPIPCallback(i):n===Cn.INLINE&&e.leavePIPCallback(i)},t.media&&(t.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),t.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(t.media)&&t.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(e){var t=w(document.styleSheets).map((function(t){try{return w(t.cssRules).map((function(e){return e.cssText})).join("")}catch(n){var i=document.createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media,i.href=t.href,e.document.head.appendChild(i)}return""})).filter(Boolean).join("\n"),i=document.createElement("style");i.textContent=t,e.document.head.appendChild(i)}},{key:"requestPIP",value:function(){var e=this,t=this.player,n=this.playerConfig,r=this.config;if(this.isPIPAvailable()&&!this.isPip)try{var o=n.poster;if(o&&(t.media.poster="String"===F.typeOf(o)?o:o.poster),r.preferDocument&&this.isDocPIPAvailable()){var s={};if(r.width&&r.height)s.width=r.width,s.height=r.height;else{var a=t.root.getBoundingClientRect();s.width=a.width,s.height=a.height}documentPictureInPicture.requestWindow(s).then((function(i){var n=r.docPiPNode,o=r.docPiPStyle;e.enterPIPCallback();var s=n||t.root,a=s.parentElement,c=s.previousSibling,l=s.nextSibling;e.copyStyleIntoPiPWindow(i);var u=document.createElement("style");if(u.append("body{padding:0; margin:0;}"),o){var h="";"string"===typeof o?h=o:"function"===typeof o&&(h=o.call(r)),h&&u.append(h)}else s===t.root&&u.append("\n              .xgplayer{width: 100%!important; height: 100%!important;}\n            ");i.document.head.append(u),i.document.body.append(s),i.addEventListener("pagehide",(function(t){a&&(l?a.insertBefore(s,l):c?a.insertBefore(s,c.nextSibling):a.appendChild(s)),e.leavePIPCallback()}),{once:!0})}))}else i.checkWebkitSetPresentationMode(t.media)?t.media.webkitSetPresentationMode("picture-in-picture"):t.media.requestPictureInPicture();return!0}catch(c){return console.error("requestPiP",c),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{var t;if(this.isPIPAvailable()&&this.isPip)this.isDocPIPAvailable()&&null!==(t=documentPictureInPicture)&&void 0!==t&&t.window?documentPictureInPicture.window.close():i.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture();return!0}catch(n){return console.error("exitPIP",n),!1}}},{key:"isPip",get:function(){var e,t=this.player;return!(!this.isDocPIPAvailable()||null===(e=documentPictureInPicture)||void 0===e||!e.window)||document.pictureInPictureElement&&document.pictureInPictureElement===t.media||t.media.webkitPresentationMode===Cn.PIP}},{key:"isPIPAvailable",value:function(){var e=this.player.media,t="Boolean"!==F.typeOf(document.pictureInPictureEnabled)||document.pictureInPictureEnabled;return t&&("Boolean"===F.typeOf(e.disablePictureInPicture)&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&"Function"===F.typeOf(e.webkitSetPresentationMode))||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(this.config.showIcon&&this.isPIPAvailable())return'<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon xg-icon-disable">\n      </div>\n      '.concat(_i(this,"PIP",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(e){return"function"===typeof e.webkitSetPresentationMode}}]),i}(nn);function wn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">\n  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>\n</svg>\n',"image/svg+xml").firstChild}var bn=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),d(y(n),"playNext",(function(e){var t=y(n),i=t.player;e.preventDefault(),e.stopPropagation(),n.idx+1<n.config.urlList.length?(n.idx++,n.nextHandler(n.config.urlList[n.idx],n.idx),i.emit(Ye,n.idx+1)):(n.nextHandler(),i.emit(Ye))})),n.idx=-1,n}return h(i,[{key:"afterCreate",value:function(){this.config.urlList&&0!==this.config.urlList.length&&(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:wn}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e="mobile"===Y.device?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var t=this.player;e&&(t.pause(),t.currentTime=0,t.switchURL?t.switchURL(e):t.src=e,t.config.url=e,t.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(this.config.urlList&&0!==this.config.urlList.length)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      '.concat(_i(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),"\n     </xg-icon>\n    ")}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),i}(Dt),Tn=i(7008),Sn=i.n(Tn);function xn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">\n      <g id="Group-2">\n        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">\n          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>\n          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>\n          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>\n          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n',"image/svg+xml").firstChild}var En=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),d(y(n),"download",(function(e){if(!n.isLock){n.emitUserAction(e,"download");var t=n.playerConfig.url,i="";"String"===F.typeOf(t)?i=t:"Array"===F.typeOf(t)&&t.length>0&&(i=t[0].src);var r=n.getAbsoluteURL(i);Sn()(r),n.isLock=!0,n.timer=window.setTimeout((function(){n.isLock=!1,window.clearTimeout(n.timer),n.timer=null}),300)}})),n.timer=null,n.isLock=!1,n}return h(i,[{key:"afterCreate",value:function(){_(p(i.prototype),"afterCreate",this).call(this),this.config.disable||(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:xn}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var t=document.createElement("div");t.innerHTML='<a href="'.concat(e,'">x</a>'),e=t.firstChild.href}return e}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-download">\n   <div class="xgplayer-icon">\n   </div>\n   '.concat(_i(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:3,disable:!0}}}]),i}(nn),An=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"beforeCreate",value:function(e){"boolean"===typeof e.player.config.screenShot&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){_(p(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(t){e.fitVideo&&(e.width=t.vWidth,e.height=t.vHeight)},this.once(ze,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,t){var i=document.createElement("a");i.href=e,i.download=t;var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)}},{key:"createCanvas",value:function(e,t){var i=document.createElement("canvas"),n=i.getContext("2d");this.canvasCtx=n,this.canvas=i,i.width=e||this.config.width,i.height=t||this.config.height,n.imageSmoothingEnabled=!0,n.imageSmoothingEnabled&&(n.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot");var i=this.config;this.shot(i.width,i.height).then((function(e){t.emit(Ge,e),i.saveImg&&t.saveScreenShot(e,i.name+i.format)}))}},{key:"shot",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{quality:.92,type:"image/png"},r=this.config,o=this.player,s=n.quality||r.quality,a=n.type||r.type;return new Promise((function(n,c){var l,u=null;if(o.media.canvas)u=o.media.canvas;else{i.canvas?(i.canvas.width=e||r.width,i.canvas.height=t||r.height):i.createCanvas(e,t),u=i.canvas,l=i.canvasCtx;var h,d,f,p,g=o.media.videoWidth/o.media.videoHeight,v=u.width/u.height,y=0,m=0,k=o.media.videoWidth,C=o.media.videoHeight;g>v?(f=u.width,p=u.width/g,h=0,d=Math.round((u.height-p)/2)):g===v?(f=u.width,p=u.height,h=0,d=0):g<v&&(f=u.height*g,p=u.height,h=Math.round((u.width-f)/2),d=0),l.drawImage(o.media,y,m,k,C,h,d,f,p)}var _=u.toDataURL(a,s).replace(a,"image/octet-stream");_=_.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),n(_)}))}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(ze,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",t="SCREENSHOT";return'\n      <xg-icon class="xgplayer-shot">\n      <div class="'.concat(e,'">\n      ').concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[t],'">').concat(this.i18n[t],"</span>"),"\n      </div>\n    </xg-icon>")}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),i}(nn),In=function(){function e(t){l(this,e),this.config=t.config,this.parent=t.root,this.root=F.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),t.root.appendChild(this.root);var i=this.config.maxHeight;i&&this.setStyle({maxHeight:i}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var n="mobile"===Y.device?"touchend":"click";this._delegates=Dt.delegate.call(this,this.root,"li",n,this.onItemClick)}return h(e,[{key:"renderItemList",value:function(e){var t=this,i=this.config,n=this.root;e?i.data=e:e=i.data,i.style&&Object.keys(i.style).map((function(e){n.style[e]=i[e]})),e.length>0&&(this.attrKeys=Object.keys(e[0])),this.root.innerHTML="",e.map((function(e,i){var n=e.selected?"option-item selected":"option-item";e["data-index"]=i,t.root.appendChild(F.createDom("li","<span>".concat(e.showText,"</span>"),e,n))}))}},{key:"onItemClick",value:function(e){e.delegateTarget||(e.delegateTarget=e.target);var t=e.delegateTarget;if(t&&F.hasClass(t,"selected"))return!1;var i="function"===typeof this.config.onItemClick?this.config.onItemClick:null,n=this.root.querySelector(".selected");F.addClass(t,"selected"),n&&F.removeClass(n,"selected"),i(e,{from:n?this.getAttrObj(n,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(e,t){if(!e||!t)return{};var i={};t.map((function(t){i[t]=e.getAttribute(t)}));var n=e.getAttribute("data-index");return n&&(i.index=Number(n)),i}},{key:"show",value:function(){F.removeClass(this.root,"hide"),F.addClass(this.root,"active")}},{key:"hide",value:function(){F.removeClass(this.root,"active"),F.addClass(this.root,"hide")}},{key:"setStyle",value:function(e){var t=this;Object.keys(e).forEach((function(i){t.root.style[i]=e[i]}))}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map((function(e){e.destroy&&e.destroy()})),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),e}(),Pn={SIDE:"side",MIDDLE:"middle"},Ln={CLICK:"click",HOVER:"hover"};function Rn(e,t){return e===Pn.SIDE?t===xt.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var Dn="mobile"===Y.device,On=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),d(y(n),"onEnter",(function(e){e.stopPropagation(),n.emit("icon_mouseenter",{pluginName:n.pluginName}),n.switchActiveState(e)})),d(y(n),"switchActiveState",(function(e){e.stopPropagation();var t=n.config.toggleMode;t===Ln.CLICK?n.toggle(!n.isActive):n.toggle(!0)})),d(y(n),"onLeave",(function(e){e.stopPropagation(),n.emit("icon_mouseleave",{pluginName:n.pluginName}),n.config.listType!==Pn.SIDE&&n.isActive&&n.toggle(!1)})),d(y(n),"onListEnter",(function(e){n.enterType=2})),d(y(n),"onListLeave",(function(e){n.enterType=0,n.isActive&&n.toggle(!1)})),n.isIcons=!1,n.isActive=!1,n.curValue=null,n.curIndex=0,n}return h(i,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,t=this.config;this.initIcons(),Dn&&t.listType!==Pn.MIDDLE&&(t.listType=Pn.SIDE),t.hidePortrait&&F.addClass(this.root,"portrait"),this.on([ze,Me],(function(){e._resizeList()})),this.once(ae,(function(){t.list&&t.list.length>0&&(e.renderItemList(t.list),e.show())})),Dn&&this.on(_e,(function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)})),Dn?(t.toggleMode=Ln.CLICK,this.activeEvent="touchend"):this.activeEvent=t.toggleMode===Ln.CLICK?"click":"mouseenter",t.toggleMode===Ln.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,t=this.icons,i=Object.keys(t),n=!1;i.length>0&&(i.forEach((function(i){e.appendChild(".xgplayer-icon",t[i]),!n&&(n=t[i])})),this.isIcons=n),n||(this.appendChild(".xgplayer-icon",F.createDom("span","",{},"icon-text")),F.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||F.addClass(this.root,"show")}},{key:"hide",value:function(){F.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,t,i){if(void 0===e)return"";var n=this.config.list;!i&&(i=this.player.lang),t=!t||F.isUndefined(e[t])?"text":t,"number"===typeof e&&(e=n[e]);try{return"object"===c(e[t])?e[t][i]||e[t].en:e[t]}catch(r){return console.warn(r),""}}},{key:"toggle",value:function(e){if(e!==this.isActive){var t=this.player.controls,i=this.config.listType;e?(i===Pn.SIDE?t.blur():t.focus(),this.optionsList&&this.optionsList.show()):(i===Pn.SIDE?t.focus():t.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,t){e.stopPropagation();var i=this.config,n=i.listType,r=i.list;this.curIndex=t.to.index,this.curItem=r[this.curIndex],this.changeCurrentText();var o=this.config.isItemClickHide;(o||Dn||n===Pn.SIDE)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=this.curIndex<e.length?this.curIndex:0,i=e[t];i&&(this.find(".icon-text").innerHTML=this.getTextByLang(i,"iconText"))}}},{key:"renderItemList",value:function(e,t){var i=this,n=this.config,r=this.optionsList,o=this.player;if("number"===typeof t&&(this.curIndex=t,this.curItem=n.list[t]),r)return r.renderItemList(e),void this.changeCurrentText();var s={config:{data:e||[],className:Rn(n.listType,n.position),onItemClick:function(e,t){i.onItemClick(e,t)}},root:n.listType===Pn.SIDE?o.innerContainer||o.root:this.root};if(this.config.isShowIcon){var a=this.player.root.getBoundingClientRect(),c=a.height,l=n.listType===Pn.MIDDLE?c-50:c;l&&n.heightLimit&&(s.config.maxHeight="".concat(l,"px")),this.optionsList=new In(s),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var e=this.player.root.getBoundingClientRect(),t=e.height,i=this.config.listType===Pn.MIDDLE?t-50:t;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(i,"px")})}}},{key:"destroy",value:function(){var e=this.config;e.toggleMode===Ln.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",'">\n    <div class="xgplayer-icon">\n    </div>\n   </xg-icon>')}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:Ln.HOVER,heightLimit:!0}}}]),i}(Dt),Mn=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),n.curTime=0,n.isPaused=!0,n}return h(i,[{key:"beforeCreate",value:function(e){var t=e.config.list;Array.isArray(t)&&t.length>0&&(e.config.list=t.map((function(e){return!e.text&&e.name&&(e.text=e.name),e.text||(e.text=e.definition),e})))}},{key:"afterCreate",value:function(){var e=this;_(p(i.prototype),"afterCreate",this).call(this),this.on("resourceReady",(function(t){e.changeDefinitionList(t)})),this.on(Fe,(function(t){e.renderItemList(e.config.list,t.to)})),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||F.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,t=e.list,i=e.defaultDefinition;if(t.length>0){var n=null;t.map((function(e){e.definition===i&&(n=e)})),n||(n=t[0]),this.changeDefinition(n)}}},{key:"renderItemList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.list||[],n=arguments.length>1?arguments[1]:void 0,r=n&&n.definition?n.definition:this.config.defaultDefinition;n&&t.forEach((function(e){e.selected=!1}));var o=0,s=t.map((function(t,i){var n=a(a({},t),{},{showText:e.getTextByLang(t)||t.definition,selected:!1});return(t.selected||t.definition&&t.definition==r)&&(n.selected=!0,o=i),n}));_(p(i.prototype),"renderItemList",this).call(this,s,o)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map((function(e){return!e.text&&e.name&&(e.text=e.name),e.text||(e.text=e.definition),e})),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,t){this.player.changeDefinition(e,t)}},{key:"onItemClick",value:function(e,t){var n=this.player.definitionList;_(p(i.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:t.from,to:t.to});for(var r=0;r<n.length;r++)t.to&&n[r].definition===t.to.definition&&(t.to.url=n[r].url),t.from&&n[r].definition===t.from.definition&&(t.from.url=n[r].url);this.player.changeDefinition(t.to,t.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return a(a({},On.defaultConfig),{},{position:xt.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),i}(On),Bn=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),n.curRate=1,n}return h(i,[{key:"beforeCreate",value:function(e){var t=e.player.config.playbackRate,i=t?Array.isArray(t)?t:e.config.list:[];Array.isArray(i)&&(e.config.list=i.map((function(e){return"number"===typeof e?e={rate:e,text:"".concat(e,"x")}:!e.text&&e.rate&&(e.text="".concat(e.rate,"x")),e})))}},{key:"afterCreate",value:function(){var e=this;_(p(i.prototype),"afterCreate",this).call(this),this.on(fe,(function(){e.curValue!==e.player.playbackRate&&e.renderItemList()})),this.renderItemList()}},{key:"show",value:function(e){this.config.list&&0!==this.config.list.length&&_(p(i.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,t){_(p(i.prototype),"onItemClick",this).apply(this,arguments);var n=e.delegateTarget,r=Number(n.getAttribute("rate"));if(!r||r===this.curValue)return!1;var o={playbackRate:{from:this.player.playbackRate,to:r}};this.emitUserAction(e,"change_rate",{props:o}),this.curValue=r,this.player.playbackRate=r}},{key:"renderItemList",value:function(){var e=this,t=this.player.playbackRate||1;this.curValue=t;var n=-1,r=this.config.list.map((function(i,r){var o={rate:i.rate};return o.rate===t&&(o.selected=!0,n=r),o.showText=e.getTextByLang(i),o}));_(p(i.prototype),"renderItemList",this).call(this,r,n)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,t=this.curIndex<e.length?this.curIndex:0,i=e[t],n="";n=!i||this.curIndex<0?"".concat(this.player.playbackRate,"x"):this.getTextByLang(i,"iconText"),this.find(".icon-text").innerHTML=n}}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return a(a({},On.defaultConfig),{},{position:xt.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),i}(On);function Nn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" class=\'path_full\' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}function Fn(){return(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">\n  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>\n</svg>\n',"image/svg+xml").firstChild}var Hn=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"beforeCreate",value:function(e){"boolean"===typeof e.player.config.cssFullscreen&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;_(p(i.prototype),"afterCreate",this).call(this),this.config.disable||(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(Be,(function(t){e.animate(t)})),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,t=this.find(".xgplayer-icon");t.appendChild(e.cssFullscreen),t.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:t}),t?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var t=this.i18nKeys,i=this.find(".xg-tips");i&&this.changeLangTextKey(i,e?t.EXITCSSFULLSCREEN_TIPS:t.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:Nn,class:"xg-get-cssfull"},exitCssFullscreen:{icon:Fn,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){_(p(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return"<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    ".concat(_i(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),"\n    </xg-icon>")}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:xt.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),i}(nn),Un=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(ie,(function(t){e.onError(t)}))}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.player,i=e.errorType,n=t.errorNote?this.i18n[t.errorNote]:"";if(!n)switch(i){case"decoder":n=this.i18n.MEDIA_ERR_DECODE;break;case"network":n=this.i18n.MEDIA_ERR_NETWORK;break;default:n=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=n,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],[{key:"pluginName",get:function(){return"error"}}]),i}(Dt),jn=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],(function(t){(e.config.onClick||e.customOnClick)&&(t.preventDefault(),t.stopPropagation(),e.customOnClick?e.customOnClick(t):e.config.onClick(t))})),this.player.showPrompt=function(){e.showPrompt.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var t=this;Object.keys(e).map((function(i){t.root.style[i]=e[i]}))}},{key:"showPrompt",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(e){this.customOnClick=n;var r=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),F.addClass(this.root,"show"),"arrow"===i.mode&&F.addClass(this.root,"arrow"),this.find(".xgplayer-prompt-detail").innerHTML="string"===typeof e?e:"".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),i.style&&this.setStyle(i.style);var o="boolean"===typeof i.autoHide?i.autoHide:this.config.autoHide;if(o){var s=i.interval||r;this.intervalId=setTimeout((function(){t.hide()}),s)}}}},{key:"hide",value:function(){F.removeClass(this.root,"show"),F.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(Ht.CONTROLS_FOLLOW,'">\n    <span class="xgplayer-prompt-detail"></span>\n    </xg-prompt>')}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),i}(Dt),Wn={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function zn(e){Object.keys(Wn).map((function(t){void 0===e[t]&&(e[t]=Wn[t])}))}var Kn={_updateDotDom:function(e,t){if(t){var i=this.calcuPosition(e.time,e.duration),n=e.style||{};n.left="".concat(i.left,"%"),n.width="".concat(i.width,"%"),t.setAttribute("data-text",e.text),t.setAttribute("data-time",e.time),i.isMini?F.addClass(t,"mini"):F.removeClass(t,"mini"),Object.keys(n).map((function(e){t.style[e]=n[e]}))}},initDots:function(){var e=this;this._ispots.map((function(t){e.createDot(t,!1)})),this.ispotsInit=!0},createDot:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.player.plugins.progress;if(i&&(t&&(zn(e),this._ispots.push(e)),this.ispotsInit||!t)){var n=this.calcuPosition(e.time,e.duration),r=e.style||{};r.left="".concat(n.left,"%"),r.width="".concat(n.width,"%");var o="xgspot_".concat(e.id," xgplayer-spot");n.isMini&&(o+=" mini");var s=e.template?'<div class="xgplayer-spot-pop">'.concat(e.template,"</div>"):"",a=F.createDom("xg-spot",s,{"data-text":e.text,"data-time":e.time,"data-id":e.id},o);Object.keys(r).map((function(e){a.style[e]=r[e]})),i.outer&&i.outer.appendChild(a),this.positionDot(a,e.id)}},findDot:function(e){if(this.player.plugins.progress){var t=this._ispots.filter((function(t,i){return t.id===e}));return t.length>0?t[0]:null}},updateDot:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.player.plugins.progress;if(i){var n=this.findDot(e.id);if(n&&Object.keys(e).map((function(t){n[t]=e[t]})),this.ispotsInit){var r=i.find('xg-spot[data-id="'.concat(e.id,'"]'));r&&(this._updateDotDom(e,r),t&&this.showDot(e.id))}}},deleteDot:function(e){var t=this._ispots,i=this.player.plugins.progress;if(i){for(var n=[],r=0;r<t.length;r++)t[r].id===e&&n.push(r);for(var o=n.length,s=o-1;s>=0;s--)if(t.splice(n[s],1),this.ispotsInit){var a=i.find('xg-spot[data-id="'.concat(e,'"]'));a&&a.parentElement.removeChild(a)}}},deleteAllDots:function(){var e=this.player.plugins.progress;if(e)if(this.ispotsInit){for(var t=e.root.getElementsByTagName("xg-spot"),i=t.length-1;i>=0;i--)e.outer.removeChild(t[i]);this._ispots=[]}else this._ispots=[]},updateAllDots:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this.player.plugins.progress;if(i)if(this.ispotsInit){this._ispots=[];var n=i.root.getElementsByTagName("xg-spot"),r=n.length;if(r>t.length)for(var o=r-1;o>t.length-1;o--)i.outer.removeChild(n[o]);t.forEach((function(t,i){i<r?(n[i].setAttribute("data-id","".concat(t.id)),e._ispots.push(t),e.updateDot(t)):e.createDot(t)}))}else this._ispots=t},positionDots:function(){var e=this,t=this._ispots,i=this.playerSize,n=this.player.sizeInfo,r=this.player.plugins.progress;r&&n.width!==i.width&&(i.width=n.width,i.left=n.left,t.forEach((function(t){var i=r.find('xg-spot[data-id="'.concat(t.id,'"]'));i&&e.positionDot(i,t.id)})))},positionDot:function(e,t){var i=F.findDom(e,".xgplayer-spot-pop");if(i){var n=this.playerSize,r=e.getBoundingClientRect(),o=i.getBoundingClientRect(),s=r.left-n.left,a=n.width-s-r.width/2;if(s<o.width/2||n.width<o.width){var c=o.width/2-s;i.style.left="".concat(c,"px")}else if(a<o.width/2){var l=a-o.width/2+r.width/2;i.style.left="".concat(l,"px")}else i.style.left="50%"}},updateDuration:function(){var e=this,t=this.player.plugins.progress;if(t){var i=this._ispots;i.forEach((function(i){var n=t.find('xg-spot[data-id="'.concat(i.id,'"]'));e._updateDotDom(i,n)}))}},getAllDotsDom:function(){var e=this.player.plugins.progress;if(!e)return[];var t=e.root.getElementsByTagName("xg-spot");return t},getDotDom:function(e){var t=this.player.plugins.progress;if(t)return t.find('xg-spot[data-id="'.concat(e,'"]'))}};function Vn(e){var t=e.config,i=e.player;Object.keys(Kn).map((function(t){e[t]=Kn[t].bind(e)}));var n=i.config.progressDot||t.ispots||[];e._ispots=n.map((function(e){return zn(e),e})),e.ispotsInit=!1,e.playerSize={left:i.sizeInfo.left,width:i.sizeInfo.width},e.on(le,(function(){e.ispotsInit?e.updateDuration():e.initDots()})),e.on(ze,(function(){e.positionDots()}))}var Gn={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},Yn=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),d(y(n),"onMousemove",(function(e){n.config.disable||(F.hasClass(e.target,"xg-spot-content")&&n.config.isHideThumbnailHover?n.player.plugins.progress.onMouseLeave(e):(n._state.f||F.hasClass(e.target,"xg-spot-content"))&&(F.event(e),e.stopPropagation()))})),d(y(n),"onMousedown",(function(e){n.config.disable||(n._state.f||F.hasClass(e.target,"xg-spot-content"))&&(F.event(e),e.stopPropagation())})),d(y(n),"onMouseup",(function(e){if(n.isDrag){var t=n.player.plugins.progress;t&&t.pos&&(t.onMouseUp(e),!t.pos.isEnter&&t.onMouseLeave(e))}})),d(y(n),"onDotMouseLeave",(function(e){if(!n.config.disable){n._curDot.removeEventListener("mouseleave",n.onDotMouseLeave),n.blurDot(e.target),n._curDot=null;var t=n.player.plugins.progress;t&&t.enableBlur(),n.show()}})),d(y(n),"onProgressMouseOver",(function(e,t){if(!n.config.disable&&F.hasClass(t.target,"xgplayer-spot")&&!n._curDot){n._curDot=t.target,n.focusDot(t.target),n._curDot.children.length>0&&n.hide();var i=n.player.plugins.progress;i&&i.disableBlur(),n._curDot.addEventListener("mouseleave",n.onDotMouseLeave)}})),n._ispots=[],n.videoPreview=null,n.videothumbnail=null,n.thumbnail=null,n.timeStr="",n._state={now:0,f:!1},n}return h(i,[{key:"beforeCreate",value:function(e){var t=e.player.plugins.progress;t&&(e.root=t.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",(function(t,i){i.seekTime&&e.player.seek(i.seekTime)})),this.transformTimeHook=this.hook("transformTime",(function(t){e.setTimeContent(F.format(t))})),Vn(this),this.on(le,(function(){e.show()})),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var t=this;e&&Object.keys(e).map((function(i){t.config[i]=e[i]}))}},{key:"onPluginsReady",value:function(){var e=this.player;e.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,t=this.player.plugins.progress;if(t&&(Object.keys(Gn).map((function(i){e[Gn[i]]=e[Gn[i]].bind(e),t.addCallBack(i,e[Gn[i]])})),"mobile"!==Y.device)){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var i=this.hook("previewClick",(function(){}));this.handlerPreviewClick=function(t){t.stopPropagation(),i(parseInt(1e3*e._state.now,10)/1e3,t)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,t){!this.config.disable&&this.player.duration&&this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){!this.config.disable&&this.player.duration&&(this.isDrag=!0,this.videoPreview&&F.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){!this.config.disable&&this.player.duration&&(this.isDrag=!1,this.videoPreview&&F.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,t){this.config.disable||F.hasClass(t.target,"xgplayer-spot")&&(t.stopPropagation(),t.preventDefault(),["time","id","text"].map((function(i){e[i]=t.target.getAttribute("data-".concat(i))})),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(t,e))}},{key:"updateLinePos",value:function(e,t){var i=this.root,n=this.previewLine,r=this.player,o=this.config,s=r.controls.mode,a="flex"===s,c=i.getBoundingClientRect().width;if(c||!this._hasThumnail){c=this._hasThumnail&&c<o.width?o.width:c;var l,u=e-c/2;u<0&&!a?(u=0,l=e-c/2):u>t-c&&!a?(l=u-(t-c),u=t-c):l=0,void 0!==l&&(n.style.transform="translateX(".concat(l.toFixed(2),"px)")),i.style.transform="translateX(".concat(u.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var t=this.timeText,i=this.timePoint;t.innerHTML=e,!this.thumbnail&&(i.innerHTML=e)}},{key:"updatePosition",value:function(e,t,i,n){var r=this.root,o=this.config,s=this._state;if(r){s.now=i,this.transformTimeHook(i);var a=this.timeStr;n&&n.target&&F.hasClass(n.target,"xgplayer-spot")?(this.showTips(n.target.getAttribute("data-text"),!1,a),this.focusDot(n.target),s.f=!0,o.isFocusDots&&s.f&&(s.now=parseInt(n.target.getAttribute("data-time"),10))):o.defaultText?(s.f=!1,this.showTips(o.defaultText,!0,a)):(s.f=!1,this.hideTips("")),this.updateTimeText(a),this.updateThumbnails(s.now),this.updateLinePos(e,t)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(e){var t=this.player,i=this.videoPreview,n=this.config,r=t.plugins.thumbnail;if(r&&r.usable){this.thumbnail&&r.update(this.thumbnail,e,n.width,n.height);var o=i&&i.getBoundingClientRect();this.videothumbnail&&r.update(this.videothumbnail,e,o.width,o.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("mobile"!==Y.device){var t=this.player,i=this.config,n=t.getPlugin("thumbnail");if(n&&n.setConfig(e),n&&n.usable&&i.isShowThumbnail){F.removeClass(this.root,"short-line no-thumbnail"),"short"===i.mode&&F.addClass(this.root,"short-line"),this._hasThumnail=!0;var r=this.find(".xg-spot-thumbnail");this.thumbnail=n.createThumbnail(r,"progress-thumbnail"),i.isShowCoverPreview&&(this.videoPreview=F.createDom("xg-video-preview","",{},"xgvideo-preview"),t.root.appendChild(this.videoPreview),this.videothumbnail=n.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}else F.addClass(this.root,"short-line no-thumbnail")}}},{key:"calcuPosition",value:function(e,t){var i=this.player.plugins.progress,n=this.player,r=i.root.getBoundingClientRect().width,o=n.duration/r*6;return e+t>n.duration&&(t=n.duration-e),n.duration,n.duration,{left:e/n.duration*100,width:t/n.duration*100,isMini:t<o}}},{key:"showDot",value:function(e){var t=this.findDot(e);if(t){var i=this.root.getBoundingClientRect(),n=i.width,r=t.time/this.player.duration*n;this.updatePosition(r,n,t.time)}}},{key:"focusDot",value:function(e,t){e&&(t||(t=e.getAttribute("data-id")),F.addClass(e,"active"),this._activeDotId=t)}},{key:"blurDot",value:function(e){if(!e){var t=this._activeDotId;e=this.getDotDom(t)}e&&(F.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";F.addClass(this.root,"no-timepoint"),e&&(F.addClass(this.find(".xg-spot-content"),"show-text"),t&&"production"===this.config.mode?(F.addClass(this.root,"product"),this.tipText.textContent=e):(F.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(i," ").concat(e)))}},{key:"hideTips",value:function(){F.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",F.removeClass(this.find(".xg-spot-content"),"show-text"),F.removeClass(this.root,"product")}},{key:"hide",value:function(){F.addClass(this.root,"hide")}},{key:"show",value:function(e){F.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,t=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(t.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,t=this.player.plugins.progress;t&&Object.keys(Gn).map((function(i){t.removeCallBack(i,e[Gn[i]])})),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return"mobile"===Y.device||"mobile"===this.playerConfig.isMobileSimulateMode?"":'<div class="xg-spot-info hide '.concat("short"===this.config.mode?"short-line":"",'">\n      <div class="xg-spot-content">\n        <div class="xg-spot-thumbnail">\n          <span class="xg-spot-time"></span>\n        </div>\n        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-ext-text"></div>\n      <div class="xg-spot-line"></div>\n    </div>')}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),i}(Dt),Qn=function(e){f(i,e);var t=k(i);function i(e){var n;return l(this,i),n=t.call(this,e),n.ratio=1,n.interval=null,n._preloadMark={},n}return h(i,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([le],(function(){var t=e.config,i=t.pic_num,n=t.interval;e.usable&&(e.interval=n>0?n:Math.round(1e3*e.player.duration/i)/1e3)}))}},{key:"setConfig",value:function(e){var t=this;if(e){var i=Object.keys(e);i.length<1||(i.forEach((function(i){t.config[i]=e[i]})),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,t=e.urls,i=e.pic_num;return t&&t.length>0&&i>0}},{key:"initThumbnail",value:function(){var e=this.config,t=e.width,i=e.height,n=e.pic_num,r=e.interval;this.ratio=t/i*100,this.interval=r||Math.round(this.player.duration/n),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var t=this;if(!this._preloadMark[e]){var i=this.config.urls,n=i.length,r=[];e>0&&r.push(e-1),r.push(e),e>0&&e<n-1&&r.push(e+1),r.map((function(e){!t._preloadMark[e]&&e>=0&&e<n&&(t._preloadMark[e]=1,F.preloadImg(i[e],(function(){t._preloadMark[e]=2})))}))}}},{key:"getPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.config,r=n.pic_num,o=n.row,s=n.col,a=n.width,c=n.height;this.interval=Math.round(this.player.duration/r);var l=Math.ceil(e/this.interval);l=l>r?r:l;var u=l<o*s?0:Math.ceil(l/(o*s))-1,h=l-u*(s*o),d=h>0?Math.ceil(h/s)-1:0,f=h>0?h-d*s-1:0,p=0,g=0;if(t&&i){var v=t/i;v<a/c?(g=i,p=g*(a/c)):(p=t,g=p/(a/c))}else i?t||(g=i||c,p=g*(a/c)):(p=t||a,g=p/(a/c));var y=this.getUrlByIndex(u);return{urlIndex:u,rowIndex:d,colIndex:f,url:y,height:g,width:p,style:{backgroundImage:"url(".concat(y,")"),backgroundSize:"".concat(p*s,"px auto"),backgroundPosition:"-".concat(f*p,"px -").concat(d*g,"px"),width:"".concat(p,"px"),height:"".concat(g,"px")}}}},{key:"update",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this.config,s=o.pic_num,a=o.urls;if(!(s<=0)&&a&&0!==a.length){var c=this.getPosition(t,i,n);this.preload(c.urlIndex),Object.keys(c.style).map((function(t){e.style[t]=c.style[t]})),Object.keys(r).map((function(t){e.style[t]=r[t]}))}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,t){var i=F.createDom("xg-thumbnail","",{},"thumbnail ".concat(t));return e&&e.appendChild(i),i}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),i}(Dt);function Xn(e){return e?"background:".concat(e,";"):""}var Zn=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onTimeupdate",(function(){var t=e.player.ended,i=y(e),n=i.offsetDuration,r=e.currentTime;r=F.adjustTimeByDuration(r,n,t),e.update({played:r},n)})),e}return h(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var e=this.player,t=e.offsetCurrentTime,i=e.currentTime;return t>=0?t:i}},{key:"afterCreate",value:function(){var e=this;this.root&&(this.on(oe,this.onTimeupdate),this.on(ve,(function(){e.reset()})))}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;t&&this.root&&(e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/t*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/t*100,"%")))}},{key:"render",value:function(){var e=this.playerConfig,t=e.commonStyle,i=e.miniprogress;if(i){var n=this.config,r=n.mode,o=n.height,s={cached:Xn(t.cachedColor),played:Xn(t.playedColor),progress:Xn(t.progressColor),height:o>0&&2!==o?"height: ".concat(o,"px;"):""},a="show"===r?"xg-mini-progress-show":"";return'<xg-mini-progress class="xg-mini-progress '.concat(a,'" style="').concat(s.progress," ").concat(s.height,'">\n    <xg-mini-progress-cache class="xg-mini-progress-cache" style="').concat(s.cached,'"></xg-mini-progress-cache>\n    <xg-mini-progress-played class="xg-mini-progress-played" style="').concat(s.played,'"></xg-mini-progress-played>\n    </xg-mini-progress>')}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),i}(Dt),qn={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",FRAME_RATE:"framerate",POSTER:"poster"};function Jn(){try{return parseInt(window.performance.now(),10)}catch(e){return(new Date).getTime()}}function $n(){try{var e=document.createElement("canvas").getContext;return!!e}catch(t){return!1}}var er=null,tr=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onLoadedData",(function(t){e.player&&(e._frameCount=e.config.startFrameCount,e.stop(),e.renderOnTimeupdate(t),e.off(oe,e.renderOnTimeupdate),e.on(oe,e.renderOnTimeupdate))})),d(y(e),"onVisibilitychange",(function(t){"visible"===document.visibilityState?e._checkIfCanStart()&&e.start():"hidden"===document.visibilityState&&e.stop()})),d(y(e),"renderOnTimeupdate",(function(t){if(e._frameCount>0)e.renderOnce(),e._frameCount--;else{e._isLoaded=!0,e.off(oe,e.renderOnTimeupdate);var i=e.config.startInterval;!e.player.paused&&e._checkIfCanStart()&&e.start(0,i)}})),d(y(e),"start",(function(t,i){var n=e.player.video,r=Jn(),o=e.checkVideoIsSupport(n);o&&e.canvasCtx&&(i||(i=e.interval),e.stop(),n.videoWidth&&n.videoHeight&&(e.videoPI=n.videoHeight>0?parseInt(n.videoWidth/n.videoHeight*100,10):0,(e.config.mode===qn.REAL_TIME||r-e.preTime>=i)&&(n&&n.videoWidth&&e.update(o,e.videoPI),e.preTime=r)),e.frameId="timer"===e._loopType?F.setTimeout(y(e),e.start,i):F.requestAnimationFrame(e.start))})),d(y(e),"stop",(function(){e.frameId&&("timer"===e._loopType?F.clearTimeout(y(e),e.frameId):F.cancelAnimationFrame(e.frameId),e.frameId=null)})),e}return h(i,[{key:"afterCreate",value:function(){var e=this;!0===this.playerConfig.dynamicBg&&(this.config.disable=!1),i.isSupport||(this.config.disable=!0);var t=this.config,n=t.disable,r=t.mode,o=t.frameRate;n||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/o,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==qn.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(Ee,(function(){e.player&&(e.init(),e.renderByPoster(),e.player.paused||e.start())})),r!==qn.POSTER&&(r!==qn.FIRST_FRAME&&(this.on(ve,(function(){e.stop()})),this.on(J,(function(){var t=e.config.startInterval;e._checkIfCanStart()&&e.start(0,t)})),this.on(te,(function(){e.stop()}))),this.on(he,this.onLoadedData),this.on(ge,(function(){e._isLoaded=!1,e.stop()})),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(e){var t=this;Object.keys(e).forEach((function(i){"root"===i&&e[i]!==t.config[i]?t.reRender(e[i]):"frameRate"===i?t.interval=parseInt(1e3/e[i],10):"disable"===i&&e[i]&&t.stop(),t.config[i]=e[i]}))}},{key:"init",value:function(e){var t=this.player,n=this.config;this.canvasFilter=i.supportCanvasFilter();try{var r=e||n.root;r||(r=n.isInnerRender&&t.innerContainer||t.root),r.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(n.index,'"><canvas>\n        </canvas><xgmask></xgmask></div>')),this.root=r.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=n.filter,this.canvas.style.webkitFilter=n.filter),this.mask=this.find("xgmask"),n.addMask&&(this.mask.style.background=n.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(o){M.logError("plugin:DynamicBg",o)}}},{key:"reRender",value:function(e){var t=this.config.disable;if(t||this.root){this.stop();var i=this.root?this.root.parentElement:null;if(i!==e&&i.removeChild(this.root),e){this.init(e),this.renderOnce();var n=this.config.startInterval;this._checkIfCanStart()&&this.start(0,n)}else this.root=null}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var t=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(t&&("safari"!==Y.browser||!F.isMSE(t)))return t;var i=t?t.tagName.toLowerCase():"";return"canvas"===i||"img"===i?t:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var t="String"===F.typeOf(e)?e:"String"===F.typeOf(e.poster)?e.poster:null;this.updateImg(t)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&!this.player.paused&&e!==qn.FIRST_FRAME&&e!==qn.POSTER}},{key:"renderOnce",value:function(){var e=this.player.video;if(e.videoWidth&&e.videoHeight){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var t=this.checkVideoIsSupport(e);t&&this.update(t,this.videoPI)}}},{key:"updateImg",value:function(e){var t=this;if(e){var i=this.canvas.getBoundingClientRect(),n=i.width,r=i.height,o=new window.Image;o.onload=function(){if(t.canvas&&!t.frameId&&!t.isStart){t.canvas.height=r,t.canvas.width=n;var e=parseInt(n/r*100,10);t.update(o,e),o=null}},o.src=e}}},{key:"update",value:function(e,t){if(this.canvas&&this.canvasCtx&&t)try{var i=this._pos,n=this.config,r=this.canvas.getBoundingClientRect(),o=r.width,s=r.height;if(o!==i.width||s!==i.height||i.pi!==t){var a=parseInt(o/s*100,10);i.pi=t,i.width!==o&&(i.width=this.canvas.width=o),i.height!==s&&(i.height=this.canvas.height=s);var c=s,l=o;a<t?l=parseInt(s*t/100,10):a>t&&(c=parseInt(100*o/t,10)),i.rwidth=l*n.multiple,i.rheight=c*n.multiple,i.x=(o-i.rwidth)/2,i.y=(s-i.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=n.filter),this.canvasCtx.drawImage(e,i.x,i.y,i.rwidth,i.rheight)}catch(u){M.logError("plugin:DynamicBg",u)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return"boolean"===typeof er||(er=$n()),er}},{key:"supportCanvasFilter",value:function(){return!("safari"===Y.browser||"firefox"===Y.browser)}}]),i}(Dt),ir={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}},nr=(i(2062),"info"),rr=it,or=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"_recordUserActions",(function(t){var i=e._getTime(),n=Object.assign({},t,{msg:t.msg||t.action});e._stats[nr].push(a(a({type:"userAction"},i),{},{payload:n}))})),d(y(e),"_onReset",(function(){e.reset()})),d(y(e),"_recordInfo",(function(t){e.info(t)})),d(y(e),"_downloadStats",(function(){var t=e.getStats(),i=new Blob([JSON.stringify(t)],{type:"application/json"}),n=window.URL.createObjectURL(i),r=document.createElement("a");r.style.display="none",r.href=n,r.download="player.txt",r.disabled=!1,r.click()})),e}return h(i,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:(new Date).toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(Ze,this._recordUserActions),this.on(rr.STATS_INFO,this._recordInfo),this.on(rr.STATS_DOWNLOAD,this._downloadStats),this.on(rr.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var t=this._getTime();this._stats[nr].push(a(a({},t),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var t=Date.now(),i=t-e.startMs,n=a({cat:"function",dur:i,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(n)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},d(e,nr,[]),d(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player,t=e.media,i=[],n=0;n<t.buffered.length;n++)i.push({start:t.buffered.start(n),end:t.buffered.end(n)});var r={currentTime:t.currentTime,readyState:t.readyState,buffered:i,paused:t.paused,ended:t.ended};return this._stats.media=r,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var e=this._stats[nr],t=e.map((function(e){var t=e.payload.data,i="";try{t instanceof Error?i=t.msg:void 0!==t&&(i=JSON.stringify(t))}catch(n){console.log("err",n)}return"[".concat(e.timeFormat,"] : ").concat(e.payload.msg," ").concat(i," ")}));return t}},{key:"_getProfile",value:function(){var e={traceEvents:[]},t=this._stats[nr];return t.forEach((function(t){t.payload.profile&&e.traceEvents.push(t.payload)})),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),i}(wt),sr=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onGapJump",(function(){var t=y(e),n=t.player,r=t.config;if(n.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(n.media.seeking){if(!e.seekingEventReceived)return}else e.seekingEventReceived=!1;if(!n.media.paused||0===n.media.currentTime||!e.hasPlayed){var o=n.media.buffered,s=r.smallGapLimit||.5,a=r.gapDetectionThreshold||.3,c=n.media.currentTime,l=e._getIndex(o,c,a);if(null!==l&&0!==l){console.log("GapJump  bufferRange ",o.start(l),o.end(l));var u=o.start(l)+.1,h=n.media.duration;if(!(u>h)){var d=u-c,f=d<=s;d<i.BROWSER_GAP_TOLERANCE||f&&(!1!==r.useGapJump&&(n.media.currentTime=e.isSafari?u+.1:u),e.player&&e.player.emit("detectGap"),console.log("gapJump gapIndex",l," isGapSamll:",f," currentTime:",n.media.currentTime," jumpSize:",c-n.media.currentTime),.08!==u&&n&&n.emit("log",{type:"oneevent",end_type:"gap",vid:n.config.vid,ext:{video_postion:Math.floor(1e3*u)}}))}}}}})),e}return h(i,[{key:"afterCreate",value:function(){var e=this,t=this.config.useGapJump;!1!==t&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(se,this.onGapJump),this.on(J,(function(){e.hasPlayed=!0})),this.on(ne,(function(){e.seekingEventReceived=!0})))}},{key:"_getIndex",value:function(e,t,i){if(!e||!e.length)return null;if(1===e.length&&e.end(0)-e.start(0)<1e-6)return null;for(var n=this._getBuffered(e),r=null,o=0;o<n.length;o++){var s=n[o];if(s.start>t&&(0===o||n[o-1].end-t<=i)){r=o;break}}return r}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),i}(Dt);sr.BROWSER_GAP_TOLERANCE=.001;var ar=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"onWaiting",(function(){var t=y(e),i=t.config;e.jumpCnt>i.jumpCntMax||e.timer||!1===i.useWaitingTimeoutJump||(e.timer=setTimeout(e.onJump,1e3*i.waitingTime))})),d(y(e),"onJump",(function(){var t=y(e),i=t.player,n=t.config;if(clearTimeout(e.timer),e.timer=null,!(e.jumpCnt>n.jumpCntMax||!1===n.useWaitingTimeoutJump)&&(!i.media.paused||0===i.media.currentTime||!e.hasPlayed)){e.jumpSize=n.jumpSize*(e.jumpCnt+1),e.jumpCnt===n.jumpSize&&e.jumpSize<6&&(e.jumpSize=6);var r=i.currentTime+e.jumpSize,o=i.media.duration;r>o||(console.log("waitintTimeout, currentTime:",i.currentTime,", jumpTo:",r),e.jumpCnt++,i.currentTime=r)}})),e}return h(i,[{key:"afterCreate",value:function(){var e=this,t=this.config,i=t.useWaitingTimeoutJump,n=t.jumpSize;!1!==i&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=n,this.on(se,this.onWaiting),this.on([$,ae],(function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize})),this.on(J,(function(){e.hasPlayed=!0})))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),i}(Dt),cr="cdn",lr=["cdn"],ur=function(e){f(i,e);var t=k(i);function i(){var e;l(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),d(y(e),"getSpeed",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr;if(!e.speedListCache||!e.speedListCache[t])return 0;if(e.speedListCache[t].length<=0)return 0;var i=0;return e.speedListCache[t].map((function(e){i+=e})),Math.floor(i/e.speedListCache[t].length)})),d(y(e),"startTimer",(function(){F.isMSE(e.player.video)||(e.initSpeedList(),e.cnt=0,e.timer=setTimeout(e.testSpeed,e.config.testTimeStep))})),d(y(e),"initSpeedList",(function(){e.speedListCache={},lr.forEach((function(t){e.speedListCache[t]=[]}))})),d(y(e),"_onRealSpeedChange",(function(t){t.speed&&e.appendList(t.speed,t.type||cr)})),d(y(e),"testSpeed",(function(){if(clearTimeout(e.timer),e.timer=null,e.player&&e.config.openSpeed){var t=e.config,i=t.url,n=t.loadSize,r=t.testCnt,o=t.testTimeStep,s=i+(i.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(e.cnt>=r)){e.cnt++;try{var a=(new Date).getTime(),c=null,l=new XMLHttpRequest;e.xhr=l,l.open("GET",s);var u={},h=Math.floor(10*Math.random());u.Range="bytes="+h+"-"+(n+h),u&&Object.keys(u).forEach((function(e){l.setRequestHeader(e,u[e])})),l.onreadystatechange=function(){if(4===l.readyState){e.xhr=null,c=(new Date).getTime();var t=l.getResponseHeader("Content-Length")/1024*8,i=Math.round(1e3*t/(c-a));e.appendList(i),e.timer=setTimeout(e.testSpeed,o)}},l.send()}catch(d){console.error(d)}}}})),d(y(e),"appendList",(function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr;if(e.speedListCache&&e.speedListCache[i]){var n=e.config.saveSpeedMax;e.speedListCache[i].length>=n&&e.speedListCache[i].shift(),e.speedListCache[i].push(t);var r=y(e),o=r.player;o&&(i===cr?o.realTimeSpeed=t:o[e.getSpeedName("realTime",i)]=t),e.updateSpeed(i)}})),d(y(e),"updateSpeed",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,i=e.getSpeed(t),n=y(e),r=n.player;if(r)if(t===cr)r.avgSpeed&&i===r.avgSpeed||(r.avgSpeed=i,r.emit(Le,{speed:i,realTimeSpeed:r.realTimeSpeed}));else{var o=e.getSpeedName("avg",t);r[o]&&i===r[o]||(r[o]=i,r.emit(Le,{speed:i,realTimeSpeed:r.realTimeSpeed}))}})),e}return h(i,[{key:"afterCreate",value:function(){var e=this.config,t=e.openSpeed,i=e.addSpeedTypeList;(null===i||void 0===i?void 0:i.length)>0&&lr.push.apply(lr,w(i)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,t&&this.on([he,Ae],this.startTimer)}},{key:"getSpeedName",value:function(e,t){return e+"Speed"+t.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer)return clearTimeout(this.timer),void(this.timer=null);if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([he,Ae],this.startTimer),lr.forEach((function(t){e.speedListCache&&e.speedListCache[t]&&(e.speedListCache[t]=[])})),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&4!==this.xhr.readyState&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:204800,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),i}(Dt),hr=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i,[{key:"afterCreate",value:function(){var e=this,t=this.player,i=this.config,n=t.media||t.video;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!i.disabled){var r=n.getVideoPlaybackQuality;r&&(this.on(J,(function(){e._startTick()})),this.on(te,(function(){e._stopTick()})),this.on(ee,(function(){e._stopTick()})),this.on(ve,(function(){e._stopTick()})))}}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout((function(){e._checkDecodeFPS(),e._startTick()}),this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(e,t){for(var i=!1,n=[],r=0;r<t.length;r++){var o=t.start(r),s=t.end(r);if(n.push({start:o,end:s}),o<=e&&e<=s-1){i=!0;break}}return{enoughBuffer:i,buffers:n}}},{key:"_checkStuck",value:function(e,t,i,n){var r=this.player.media||this.player.video,o=document.hidden,s=r.paused,a=r.readyState,c=r.currentTime,l=r.buffered;if(!(o||s||a<4)){var u=this._checkBuffer(c,l),h=u.enoughBuffer,d=u.buffers;h&&(e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:c,buffers:d,curDecodedFrames:e,totalVideoFrames:t,droppedVideoFrames:i,checkInterval:n}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(nt,this._payload),this._reset())):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var e=this.player.media||this.player.video;if(e){var t=e.getVideoPlaybackQuality(),i=t.totalVideoFrames,n=t.droppedVideoFrames,r=performance.now();if(i&&this._lastCheckPoint){var o=i-this._lastDecodedFrames,s=r-this._lastCheckPoint;this._checkStuck(o,i,n,s)}this._lastDecodedFrames=i,this._lastCheckPoint=r}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),i}(Dt);Zt.use(ir);var dr=h((function e(t,i){var n,r,o;l(this,e);var s=i&&"mobile"===i.isMobileSimulateMode,a=i.isLive,c=a?[]:[hn,tn,Zn,Yn,un],u=[].concat(c,[rn,ln,yn,bn,Mn,Bn,En,An,gn,_n]),h=[di,fi,ki,qi,Ci,Un,jn,Qn,Di];this.plugins=[or,ui].concat(w(u),h,[sr,ar]);var d=s?"mobile":Y.device;switch(d){case"pc":(n=this.plugins).push.apply(n,[Xi,Bi,Hn,ur,hr]);break;case"mobile":(r=this.plugins).push.apply(r,[Gi]);break;default:(o=this.plugins).push.apply(o,[Xi,Bi,Hn])}(Y.os.isIpad||"pc"===d)&&this.plugins.push(tr),Y.os.isIpad&&this.plugins.push(Bi),this.ignores=[],this.i18n=[]})),fr=function(e){f(i,e);var t=k(i);function i(){return l(this,i),t.apply(this,arguments)}return h(i)}(ai);d(fr,"defaultPreset",dr),d(fr,"Util",F),d(fr,"Sniffer",Y),d(fr,"Errors",q),d(fr,"Events",n),d(fr,"Plugin",Dt),d(fr,"BasePlugin",wt),d(fr,"I18N",Zt),d(fr,"STATE_CLASS",Ht),d(fr,"InstManager",ti);var pr={name:"videopage",data(){return{}},mounted(){new fr({id:"mse",url:"http://123.249.73.192:7003/image/ctx/schoolimg/jiaocheng_z.mp4",height:"100%",width:"100%"})}},gr=pr,vr=i(1001),yr=(0,vr.Z)(gr,r,o,!1,null,"0327478e",null),mr=yr.exports},8607:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(1586),i(2691),i(9904),i(2811))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.BlockCipher,r=t.algo,o=[],s=[],a=[],c=[],l=[],u=[],h=[],d=[],f=[],p=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var r=n^n<<1^n<<2^n<<3^n<<4;r=r>>>8^255&r^99,o[i]=r,s[r]=i;var g=e[i],v=e[g],y=e[v],m=257*e[r]^16843008*r;a[i]=m<<24|m>>>8,c[i]=m<<16|m>>>16,l[i]=m<<8|m>>>24,u[i]=m;m=16843009*y^65537*v^257*g^16843008*i;h[r]=m<<24|m>>>8,d[r]=m<<16|m>>>16,f[r]=m<<8|m>>>24,p[r]=m,i?(i=g^e[e[e[y^g]]],n^=e[e[n]]):i=n=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=this._nRounds=i+6,r=4*(n+1),s=this._keySchedule=[],a=0;a<r;a++)a<i?s[a]=t[a]:(u=s[a-1],a%i?i>6&&a%i==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=u<<8|u>>>24,u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=g[a/i|0]<<24),s[a]=s[a-i]^u);for(var c=this._invKeySchedule=[],l=0;l<r;l++){a=r-l;if(l%4)var u=s[a];else u=s[a-4];c[l]=l<4||a<=4?u:h[o[u>>>24]]^d[o[u>>>16&255]]^f[o[u>>>8&255]]^p[o[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,c,l,u,o)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,h,d,f,p,s);i=e[t+1];e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,o,s,a){for(var c=this._nRounds,l=e[t]^i[0],u=e[t+1]^i[1],h=e[t+2]^i[2],d=e[t+3]^i[3],f=4,p=1;p<c;p++){var g=n[l>>>24]^r[u>>>16&255]^o[h>>>8&255]^s[255&d]^i[f++],v=n[u>>>24]^r[h>>>16&255]^o[d>>>8&255]^s[255&l]^i[f++],y=n[h>>>24]^r[d>>>16&255]^o[l>>>8&255]^s[255&u]^i[f++],m=n[d>>>24]^r[l>>>16&255]^o[u>>>8&255]^s[255&h]^i[f++];l=g,u=v,h=y,d=m}g=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^i[f++],v=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&l])^i[f++],y=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^i[f++],m=(a[d>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^i[f++];e[t]=g,e[t+1]=v,e[t+2]=y,e[t+3]=m},keySize:8});t.AES=n._createHelper(v)}(),e.AES}))},2811:function(e,t,i){i(7658),function(t,n,r){e.exports=n(i(7424),i(9904))}(0,(function(e){e.lib.Cipher||function(t){var i=e,n=i.lib,r=n.Base,o=n.WordArray,s=n.BufferedBlockAlgorithm,a=i.enc,c=(a.Utf8,a.Base64),l=i.algo,u=l.EvpKDF,h=n.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:C}return function(t){return{encrypt:function(i,n,r){return e(n).encrypt(t,i,n,r)},decrypt:function(i,n,r){return e(n).decrypt(t,i,n,r)}}}}()}),d=(n.StreamCipher=h.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),i.mode={}),f=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=d.CBC=function(){var e=f.extend();function i(e,i,n){var r,o=this._iv;o?(r=o,this._iv=t):r=this._prevBlock;for(var s=0;s<n;s++)e[i+s]^=r[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;i.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=e.slice(t,t+r);n.decryptBlock(e,t),i.call(this,e,t,r),this._prevBlock=o}}),e}(),g=i.pad={},v=g.Pkcs7={pad:function(e,t){for(var i=4*t,n=i-e.sigBytes%i,r=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(r);var c=o.create(s,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:v}),reset:function(){var e;h.reset.call(this);var t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=i.format={},k=m.OpenSSL={stringify:function(e){var t,i=e.ciphertext,n=e.salt;return t=n?o.create([1398893684,1701076831]).concat(n).concat(i):i,t.toString(c)},parse:function(e){var t,i=c.parse(e),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),y.create({ciphertext:i,salt:t})}},C=n.SerializableCipher=r.extend({cfg:r.extend({format:k}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=e.createEncryptor(i,n),o=r.finalize(t),s=r.cfg;return y.create({ciphertext:o,key:i,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var r=e.createDecryptor(i,n).finalize(t.ciphertext);return r},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=i.kdf={},w=_.OpenSSL={execute:function(e,t,i,n){n||(n=o.random(8));var r=u.create({keySize:t+i}).compute(e,n),s=o.create(r.words.slice(t),4*i);return r.sigBytes=4*t,y.create({key:r,iv:s,salt:n})}},b=n.PasswordBasedCipher=C.extend({cfg:C.cfg.extend({kdf:w}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=n.kdf.execute(i,e.keySize,e.ivSize);n.iv=r.iv;var o=C.encrypt.call(this,e,t,r.key,n);return o.mixIn(r),o},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var r=n.kdf.execute(i,e.keySize,e.ivSize,t.salt);n.iv=r.iv;var o=C.decrypt.call(this,e,t,r.key,n);return o}})}()}))},7424:function(e,t,i){i(1439),i(7585),i(5315),i(7658),function(t,i){e.exports=i()}(0,(function(){var e=e||function(e,t){var n;if("undefined"!==typeof window&&window.crypto&&(n=window.crypto),"undefined"!==typeof self&&self.crypto&&(n=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!==typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&"undefined"!==typeof i.g&&i.g.crypto&&(n=i.g.crypto),!n)try{n=i(5629)}catch(v){}var r=function(){if(n){if("function"===typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(v){}if("function"===typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),s={},a=s.lib={},c=a.Base=function(){return{extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=a.WordArray=c.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<r;o++){var s=i[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<r;a+=4)t[n+a>>>2]=i[a>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(r());return new l.init(t,e)}}),u=s.enc={},h=u.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(i,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(i,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,r=n.words,o=n.sigBytes,s=this.blockSize,a=4*s,c=o/a;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var u=c*s,h=e.min(4*u,o);if(u){for(var d=0;d<u;d+=s)this._doProcessBlock(r,d);i=r.splice(0,u),n.sigBytes-=h}return new l.init(i,h)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(a.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new g.HMAC.init(e,i).finalize(t)}}}),s.algo={});return s}(Math);return e}))},1586:function(e,t,i){i(7658),function(t,n){e.exports=n(i(7424))}(0,(function(e){return function(){var t=e,i=t.lib,n=i.WordArray,r=t.enc;r.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var r=[],o=0;o<i;o+=3)for(var s=t[o>>>2]>>>24-o%4*8&255,a=t[o+1>>>2]>>>24-(o+1)%4*8&255,c=t[o+2>>>2]>>>24-(o+2)%4*8&255,l=s<<16|a<<8|c,u=0;u<4&&o+.75*u<i;u++)r.push(n.charAt(l>>>6*(3-u)&63));var h=n.charAt(64);if(h)while(r.length%4)r.push(h);return r.join("")},parse:function(e){var t=e.length,i=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var r=0;r<i.length;r++)n[i.charCodeAt(r)]=r}var s=i.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return o(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(e,t,i){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=i[e.charCodeAt(s-1)]<<s%4*2,c=i[e.charCodeAt(s)]>>>6-s%4*2,l=a|c;r[o>>>2]|=l<<24-o%4*8,o++}return n.create(r,o)}}(),e.enc.Base64}))},6694:function(e,t,i){i(7658),function(t,n){e.exports=n(i(7424))}(0,(function(e){return function(){var t=e,i=t.lib,n=i.WordArray,r=t.enc;r.Base64url={stringify:function(e,t=!0){var i=e.words,n=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<n;s+=3)for(var a=i[s>>>2]>>>24-s%4*8&255,c=i[s+1>>>2]>>>24-(s+1)%4*8&255,l=i[s+2>>>2]>>>24-(s+2)%4*8&255,u=a<<16|c<<8|l,h=0;h<4&&s+.75*h<n;h++)o.push(r.charAt(u>>>6*(3-h)&63));var d=r.charAt(64);if(d)while(o.length%4)o.push(d);return o.join("")},parse:function(e,t=!0){var i=e.length,n=t?this._safe_map:this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<n.length;s++)r[n.charCodeAt(s)]=s}var a=n.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(i=c)}return o(e,i,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(e,t,i){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=i[e.charCodeAt(s-1)]<<s%4*2,c=i[e.charCodeAt(s)]>>>6-s%4*2,l=a|c;r[o>>>2]|=l<<24-o%4*8,o++}return n.create(r,o)}}(),e.enc.Base64url}))},7523:function(e,t,i){i(7658),function(t,n){e.exports=n(i(7424))}(0,(function(e){return function(){var t=e,i=t.lib,n=i.WordArray,r=t.enc;r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r+=2){var o=t[r>>>2]>>>16-r%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return n.create(i,2*t)}};function o(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16LE={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r+=2){var s=o(t[r>>>2]>>>16-r%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>1]|=o(e.charCodeAt(r)<<16-r%2*16);return n.create(i,2*t)}}}(),e.enc.Utf16}))},9904:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(4768),i(6190))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.Base,r=i.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var i,n=this.cfg,o=n.hasher.create(),s=r.create(),a=s.words,c=n.keySize,l=n.iterations;while(a.length<c){i&&o.update(i),i=o.update(e).finalize(t),o.reset();for(var u=1;u<l;u++)i=o.finalize(i),o.reset();s.concat(i)}return s.sigBytes=4*c,s}});t.EvpKDF=function(e,t,i){return a.create(i).compute(e,t)}}(),e.EvpKDF}))},76:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return function(t){var i=e,n=i.lib,r=n.CipherParams,o=i.enc,s=o.Hex,a=i.format;a.Hex={stringify:function(e){return e.ciphertext.toString(s)},parse:function(e){var t=s.parse(e);return r.create({ciphertext:t})}}}(),e.format.Hex}))},6190:function(e,t,i){(function(t,n){e.exports=n(i(7424))})(0,(function(e){(function(){var t=e,i=t.lib,n=i.Base,r=t.enc,o=r.Utf8,s=t.algo;s.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var i=e.blockSize,n=4*i;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),s=this._iKey=t.clone(),a=r.words,c=s.words,l=0;l<i;l++)a[l]^=1549556828,c[l]^=909522486;r.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);t.reset();var n=t.finalize(this._oKey.clone().concat(i));return n}})})()}))},8082:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2609),i(560),i(7523),i(1586),i(6694),i(2691),i(4768),i(9002),i(3382),i(8684),i(6920),i(3018),i(8155),i(6190),i(2046),i(9904),i(2811),i(9599),i(688),i(3686),i(8775),i(6760),i(439),i(9565),i(8388),i(1181),i(6095),i(76),i(8607),i(2898),i(4601),i(9795),i(7891))})(0,(function(e){return e}))},560:function(e,t,i){i(1439),i(7585),i(5315),function(t,n){e.exports=n(i(7424))}(0,(function(e){return function(){if("function"==typeof ArrayBuffer){var t=e,i=t.lib,n=i.WordArray,r=n.init,o=n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,i=[],n=0;n<t;n++)i[n>>>2]|=e[n]<<24-n%4*8;r.call(this,i,t)}else r.apply(this,arguments)};o.prototype=n}}(),e.lib.WordArray}))},2691:function(e,t,i){(function(t,n){e.exports=n(i(7424))})(0,(function(e){return function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,s=i.algo,a=[];(function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0})();var c=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,s=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],g=e[t+4],v=e[t+5],y=e[t+6],m=e[t+7],k=e[t+8],C=e[t+9],_=e[t+10],w=e[t+11],b=e[t+12],T=e[t+13],S=e[t+14],x=e[t+15],E=o[0],A=o[1],I=o[2],P=o[3];E=l(E,A,I,P,s,7,a[0]),P=l(P,E,A,I,c,12,a[1]),I=l(I,P,E,A,f,17,a[2]),A=l(A,I,P,E,p,22,a[3]),E=l(E,A,I,P,g,7,a[4]),P=l(P,E,A,I,v,12,a[5]),I=l(I,P,E,A,y,17,a[6]),A=l(A,I,P,E,m,22,a[7]),E=l(E,A,I,P,k,7,a[8]),P=l(P,E,A,I,C,12,a[9]),I=l(I,P,E,A,_,17,a[10]),A=l(A,I,P,E,w,22,a[11]),E=l(E,A,I,P,b,7,a[12]),P=l(P,E,A,I,T,12,a[13]),I=l(I,P,E,A,S,17,a[14]),A=l(A,I,P,E,x,22,a[15]),E=u(E,A,I,P,c,5,a[16]),P=u(P,E,A,I,y,9,a[17]),I=u(I,P,E,A,w,14,a[18]),A=u(A,I,P,E,s,20,a[19]),E=u(E,A,I,P,v,5,a[20]),P=u(P,E,A,I,_,9,a[21]),I=u(I,P,E,A,x,14,a[22]),A=u(A,I,P,E,g,20,a[23]),E=u(E,A,I,P,C,5,a[24]),P=u(P,E,A,I,S,9,a[25]),I=u(I,P,E,A,p,14,a[26]),A=u(A,I,P,E,k,20,a[27]),E=u(E,A,I,P,T,5,a[28]),P=u(P,E,A,I,f,9,a[29]),I=u(I,P,E,A,m,14,a[30]),A=u(A,I,P,E,b,20,a[31]),E=h(E,A,I,P,v,4,a[32]),P=h(P,E,A,I,k,11,a[33]),I=h(I,P,E,A,w,16,a[34]),A=h(A,I,P,E,S,23,a[35]),E=h(E,A,I,P,c,4,a[36]),P=h(P,E,A,I,g,11,a[37]),I=h(I,P,E,A,m,16,a[38]),A=h(A,I,P,E,_,23,a[39]),E=h(E,A,I,P,T,4,a[40]),P=h(P,E,A,I,s,11,a[41]),I=h(I,P,E,A,p,16,a[42]),A=h(A,I,P,E,y,23,a[43]),E=h(E,A,I,P,C,4,a[44]),P=h(P,E,A,I,b,11,a[45]),I=h(I,P,E,A,x,16,a[46]),A=h(A,I,P,E,f,23,a[47]),E=d(E,A,I,P,s,6,a[48]),P=d(P,E,A,I,m,10,a[49]),I=d(I,P,E,A,S,15,a[50]),A=d(A,I,P,E,v,21,a[51]),E=d(E,A,I,P,b,6,a[52]),P=d(P,E,A,I,p,10,a[53]),I=d(I,P,E,A,_,15,a[54]),A=d(A,I,P,E,c,21,a[55]),E=d(E,A,I,P,k,6,a[56]),P=d(P,E,A,I,x,10,a[57]),I=d(I,P,E,A,y,15,a[58]),A=d(A,I,P,E,T,21,a[59]),E=d(E,A,I,P,g,6,a[60]),P=d(P,E,A,I,w,10,a[61]),I=d(I,P,E,A,f,15,a[62]),A=d(A,I,P,E,C,21,a[63]),o[0]=o[0]+E|0,o[1]=o[1]+A|0,o[2]=o[2]+I|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;i[r>>>5]|=128<<24-r%32;var o=t.floor(n/4294967296),s=n;i[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(i.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,i,n,r,o,s){var a=e+(t&i|~t&n)+r+s;return(a<<o|a>>>32-o)+t}function u(e,t,i,n,r,o,s){var a=e+(t&n|i&~n)+r+s;return(a<<o|a>>>32-o)+t}function h(e,t,i,n,r,o,s){var a=e+(t^i^n)+r+s;return(a<<o|a>>>32-o)+t}function d(e,t,i,n,r,o,s){var a=e+(i^(t|~n))+r+s;return(a<<o|a>>>32-o)+t}i.MD5=o._createHelper(c),i.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5}))},9599:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function i(e,t,i,n){var r,o=this._iv;o?(r=o.slice(0),this._iv=void 0):r=this._prevBlock,n.encryptBlock(r,0);for(var s=0;s<i;s++)e[t+s]^=r[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;i.call(this,e,t,r,n),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=e.slice(t,t+r);i.call(this,e,t,r,n),this._prevBlock=o}}),t}(),e.mode.CFB}))},3686:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){
/** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function i(e){if(255===(e>>24&255)){var t=e>>16&255,i=e>>8&255,n=255&e;255===t?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=n}else e+=1<<24;return e}function n(e){return 0===(e[0]=i(e[0]))&&(e[1]=i(e[1])),e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,r=i.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),n(s);var a=s.slice(0);i.encryptBlock(a,0);for(var c=0;c<r;c++)e[t+c]^=a[c]}});return t.Decryptor=r,t}(),e.mode.CTRGladman}))},688:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,o=this._counter;r&&(o=this._counter=r.slice(0),this._iv=void 0);var s=o.slice(0);i.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=s[a]}});return t.Decryptor=i,t}(),e.mode.CTR}))},6760:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB}))},8775:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=this._iv,o=this._keystream;r&&(o=this._keystream=r.slice(0),this._iv=void 0),i.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}});return t.Decryptor=i,t}(),e.mode.OFB}))},439:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,n=4*t,r=n-i%n,o=i+r-1;e.clamp(),e.words[o>>>2]|=r<<24-o%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}))},9565:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.pad.Iso10126={pad:function(t,i){var n=4*i,r=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}))},8388:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.pad.Iso97971={pad:function(t,i){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,i)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}))},6095:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}))},1181:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2811))})(0,(function(e){return e.pad.ZeroPadding={pad:function(e,t){var i=4*t;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){var t=e.words,i=e.sigBytes-1;for(i=e.sigBytes-1;i>=0;i--)if(t[i>>>2]>>>24-i%4*8&255){e.sigBytes=i+1;break}}},e.pad.ZeroPadding}))},2046:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(4768),i(6190))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.Base,r=i.WordArray,o=t.algo,s=o.SHA1,a=o.HMAC,c=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var i=this.cfg,n=a.create(i.hasher,e),o=r.create(),s=r.create([1]),c=o.words,l=s.words,u=i.keySize,h=i.iterations;while(c.length<u){var d=n.update(t).finalize(s);n.reset();for(var f=d.words,p=f.length,g=d,v=1;v<h;v++){g=n.finalize(g),n.reset();for(var y=g.words,m=0;m<p;m++)f[m]^=y[m]}o.concat(d),l[0]++}return o.sigBytes=4*u,o}});t.PBKDF2=function(e,t,i){return c.create(i).compute(e,t)}}(),e.PBKDF2}))},7891:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(1586),i(2691),i(9904),i(2811))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.StreamCipher,r=t.algo,o=[],s=[],a=[],c=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)n[r]^=i[r+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;n[0]^=c,n[1]^=h,n[2]^=u,n[3]^=d,n[4]^=c,n[5]^=h,n[6]^=u,n[7]^=d;for(r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var i=this._X;l.call(this),o[0]=i[0]^i[5]>>>16^i[3]<<16,o[1]=i[2]^i[7]>>>16^i[5]<<16,o[2]=i[4]^i[1]>>>16^i[7]<<16,o[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),e[t+n]^=o[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,i=0;i<8;i++)s[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(i=0;i<8;i++){var n=e[i]+t[i],r=65535&n,o=n>>>16,c=((r*r>>>17)+r*o>>>15)+o*o,l=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy}))},9795:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(1586),i(2691),i(9904),i(2811))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.StreamCipher,r=t.algo,o=[],s=[],a=[],c=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d;for(i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var i=this._X;l.call(this),o[0]=i[0]^i[5]>>>16^i[3]<<16,o[1]=i[2]^i[7]>>>16^i[5]<<16,o[2]=i[4]^i[1]>>>16^i[7]<<16,o[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),e[t+n]^=o[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,i=0;i<8;i++)s[i]=t[i];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(i=0;i<8;i++){var n=e[i]+t[i],r=65535&n,o=n>>>16,c=((r*r>>>17)+r*o>>>15)+o*o,l=((4294901760&n)*n|0)+((65535&n)*n|0);a[i]=c^l}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=n._createHelper(c)}(),e.Rabbit}))},4601:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(1586),i(2691),i(9904),i(2811))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.StreamCipher,r=t.algo,o=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes,n=this._S=[],r=0;r<256;r++)n[r]=r;r=0;for(var o=0;r<256;r++){var s=r%i,a=t[s>>>2]>>>24-s%4*8&255;o=(o+n[r]+a)%256;var c=n[r];n[r]=n[o],n[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=s.call(this)},keySize:8,ivSize:0});function s(){for(var e=this._S,t=this._i,i=this._j,n=0,r=0;r<4;r++){t=(t+1)%256,i=(i+e[t])%256;var o=e[t];e[t]=e[i],e[i]=o,n|=e[(e[t]+e[i])%256]<<24-8*r}return this._i=t,this._j=i,n}t.RC4=n._createHelper(o);var a=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)s.call(this)}});t.RC4Drop=n._createHelper(a)}(),e.RC4}))},8155:function(e,t,i){(function(t,n){e.exports=n(i(7424))})(0,(function(e){
/** @preserve
  (c) 2012 by Cédric Mesnil. All rights reserved.
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
      - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */
return function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,s=i.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=r.create([0,1518500249,1859775393,2400959708,2840853838]),d=r.create([1352829926,1548603684,1836072691,2053994217,0]),f=s.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,r=e[n];e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o,s,f,C,_,w,b,T,S,x,E,A=this._hash.words,I=h.words,P=d.words,L=a.words,R=c.words,D=l.words,O=u.words;w=o=A[0],b=s=A[1],T=f=A[2],S=C=A[3],x=_=A[4];for(i=0;i<80;i+=1)E=o+e[t+L[i]]|0,E+=i<16?p(s,f,C)+I[0]:i<32?g(s,f,C)+I[1]:i<48?v(s,f,C)+I[2]:i<64?y(s,f,C)+I[3]:m(s,f,C)+I[4],E|=0,E=k(E,D[i]),E=E+_|0,o=_,_=C,C=k(f,10),f=s,s=E,E=w+e[t+R[i]]|0,E+=i<16?m(b,T,S)+P[0]:i<32?y(b,T,S)+P[1]:i<48?v(b,T,S)+P[2]:i<64?g(b,T,S)+P[3]:p(b,T,S)+P[4],E|=0,E=k(E,O[i]),E=E+x|0,w=x,x=S,S=k(T,10),T=b,b=E;E=A[1]+f+S|0,A[1]=A[2]+C+x|0,A[2]=A[3]+_+w|0,A[3]=A[4]+o+b|0,A[4]=A[0]+s+T|0,A[0]=E},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,o=r.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return r},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,i){return e^t^i}function g(e,t,i){return e&t|~e&i}function v(e,t,i){return(e|~t)^i}function y(e,t,i){return e&i|t&~i}function m(e,t,i){return e^(t|~i)}function k(e,t){return e<<t|e>>>32-t}i.RIPEMD160=o._createHelper(f),i.HmacRIPEMD160=o._createHmacHelper(f)}(Math),e.RIPEMD160}))},4768:function(e,t,i){(function(t,n){e.exports=n(i(7424))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.WordArray,r=i.Hasher,o=t.algo,s=[],a=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],a=i[3],c=i[4],l=0;l<80;l++){if(l<16)s[l]=0|e[t+l];else{var u=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=u<<1|u>>>31}var h=(n<<5|n>>>27)+c+s[l];h+=l<20?1518500249+(r&o|~r&a):l<40?1859775393+(r^o^a):l<60?(r&o|r&a|o&a)-1894007588:(r^o^a)-899497514,c=a,a=o,o=r<<30|r>>>2,r=n,n=h}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=r._createHelper(a),t.HmacSHA1=r._createHmacHelper(a)}(),e.SHA1}))},3382:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(9002))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.WordArray,r=t.algo,o=r.SHA256,s=r.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=o._createHelper(s),t.HmacSHA224=o._createHmacHelper(s)}(),e.SHA224}))},9002:function(e,t,i){(function(t,n){e.exports=n(i(7424))})(0,(function(e){return function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,s=i.algo,a=[],c=[];(function(){function e(e){for(var i=t.sqrt(e),n=2;n<=i;n++)if(!(e%n))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}var n=2,r=0;while(r<64)e(n)&&(r<8&&(a[r]=i(t.pow(n,.5))),c[r]=i(t.pow(n,1/3)),r++),n++})();var l=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],s=i[3],a=i[4],u=i[5],h=i[6],d=i[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var p=l[f-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=l[f-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[f]=g+l[f-7]+y+l[f-16]}var m=a&u^~a&h,k=n&r^n&o^r&o,C=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),w=d+_+m+c[f]+l[f],b=C+k;d=h,h=u,u=a,a=s+w|0,s=o,o=r,r=n,n=w+b|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+s|0,i[4]=i[4]+a|0,i[5]=i[5]+u|0,i[6]=i[6]+h|0,i[7]=i[7]+d|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=t.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});i.SHA256=o._createHelper(u),i.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256}))},3018:function(e,t,i){i(7658),function(t,n,r){e.exports=n(i(7424),i(2609))}(0,(function(e){return function(t){var i=e,n=i.lib,r=n.WordArray,o=n.Hasher,s=i.x64,a=s.Word,c=i.algo,l=[],u=[],h=[];(function(){for(var e=1,t=0,i=0;i<24;i++){l[e+5*t]=(i+1)*(i+2)/2%64;var n=t%5,r=(2*e+3*t)%5;e=n,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,s=0;s<24;s++){for(var c=0,d=0,f=0;f<7;f++){if(1&o){var p=(1<<f)-1;p<32?d^=1<<p:c^=1<<p-32}128&o?o=o<<1^113:o<<=1}h[s]=a.create(c,d)}})();var d=[];(function(){for(var e=0;e<25;e++)d[e]=a.create()})();var f=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var i=this._state,n=this.blockSize/2,r=0;r<n;r++){var o=e[t+2*r],s=e[t+2*r+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);var a=i[r];a.high^=s,a.low^=o}for(var c=0;c<24;c++){for(var f=0;f<5;f++){for(var p=0,g=0,v=0;v<5;v++){a=i[f+5*v];p^=a.high,g^=a.low}var y=d[f];y.high=p,y.low=g}for(f=0;f<5;f++){var m=d[(f+4)%5],k=d[(f+1)%5],C=k.high,_=k.low;for(p=m.high^(C<<1|_>>>31),g=m.low^(_<<1|C>>>31),v=0;v<5;v++){a=i[f+5*v];a.high^=p,a.low^=g}}for(var w=1;w<25;w++){a=i[w];var b=a.high,T=a.low,S=l[w];S<32?(p=b<<S|T>>>32-S,g=T<<S|b>>>32-S):(p=T<<S-32|b>>>64-S,g=b<<S-32|T>>>64-S);var x=d[u[w]];x.high=p,x.low=g}var E=d[0],A=i[0];E.high=A.high,E.low=A.low;for(f=0;f<5;f++)for(v=0;v<5;v++){w=f+5*v,a=i[w];var I=d[w],P=d[(f+1)%5+5*v],L=d[(f+2)%5+5*v];a.high=I.high^~P.high&L.high,a.low=I.low^~P.low&L.low}a=i[0];var R=h[c];a.high^=R.high,a.low^=R.low}},_doFinalize:function(){var e=this._data,i=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;i[n>>>5]|=1<<24-n%32,i[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],u=0;u<c;u++){var h=s[u],d=h.high,f=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),l.push(f),l.push(d)}return new r.init(l,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),i=0;i<25;i++)t[i]=t[i].clone();return e}});i.SHA3=o._createHelper(f),i.HmacSHA3=o._createHmacHelper(f)}(Math),e.SHA3}))},6920:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2609),i(8684))})(0,(function(e){return function(){var t=e,i=t.x64,n=i.Word,r=i.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384}))},8684:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(2609))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.Hasher,r=t.x64,o=r.Word,s=r.WordArray,a=t.algo;function c(){return o.create.apply(o,arguments)}var l=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],u=[];(function(){for(var e=0;e<80;e++)u[e]=c()})();var h=a.SHA512=n.extend({_doReset:function(){this._hash=new s.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],s=i[3],a=i[4],c=i[5],h=i[6],d=i[7],f=n.high,p=n.low,g=r.high,v=r.low,y=o.high,m=o.low,k=s.high,C=s.low,_=a.high,w=a.low,b=c.high,T=c.low,S=h.high,x=h.low,E=d.high,A=d.low,I=f,P=p,L=g,R=v,D=y,O=m,M=k,B=C,N=_,F=w,H=b,U=T,j=S,W=x,z=E,K=A,V=0;V<80;V++){var G,Y,Q=u[V];if(V<16)Y=Q.high=0|e[t+2*V],G=Q.low=0|e[t+2*V+1];else{var X=u[V-15],Z=X.high,q=X.low,J=(Z>>>1|q<<31)^(Z>>>8|q<<24)^Z>>>7,$=(q>>>1|Z<<31)^(q>>>8|Z<<24)^(q>>>7|Z<<25),ee=u[V-2],te=ee.high,ie=ee.low,ne=(te>>>19|ie<<13)^(te<<3|ie>>>29)^te>>>6,re=(ie>>>19|te<<13)^(ie<<3|te>>>29)^(ie>>>6|te<<26),oe=u[V-7],se=oe.high,ae=oe.low,ce=u[V-16],le=ce.high,ue=ce.low;G=$+ae,Y=J+se+(G>>>0<$>>>0?1:0),G+=re,Y=Y+ne+(G>>>0<re>>>0?1:0),G+=ue,Y=Y+le+(G>>>0<ue>>>0?1:0),Q.high=Y,Q.low=G}var he=N&H^~N&j,de=F&U^~F&W,fe=I&L^I&D^L&D,pe=P&R^P&O^R&O,ge=(I>>>28|P<<4)^(I<<30|P>>>2)^(I<<25|P>>>7),ve=(P>>>28|I<<4)^(P<<30|I>>>2)^(P<<25|I>>>7),ye=(N>>>14|F<<18)^(N>>>18|F<<14)^(N<<23|F>>>9),me=(F>>>14|N<<18)^(F>>>18|N<<14)^(F<<23|N>>>9),ke=l[V],Ce=ke.high,_e=ke.low,we=K+me,be=z+ye+(we>>>0<K>>>0?1:0),Te=(we=we+de,be=be+he+(we>>>0<de>>>0?1:0),we=we+_e,be=be+Ce+(we>>>0<_e>>>0?1:0),we=we+G,be=be+Y+(we>>>0<G>>>0?1:0),ve+pe),Se=ge+fe+(Te>>>0<ve>>>0?1:0);z=j,K=W,j=H,W=U,H=N,U=F,F=B+we|0,N=M+be+(F>>>0<B>>>0?1:0)|0,M=D,B=O,D=L,O=R,L=I,R=P,P=we+Te|0,I=be+Se+(P>>>0<we>>>0?1:0)|0}p=n.low=p+P,n.high=f+I+(p>>>0<P>>>0?1:0),v=r.low=v+R,r.high=g+L+(v>>>0<R>>>0?1:0),m=o.low=m+O,o.high=y+D+(m>>>0<O>>>0?1:0),C=s.low=C+B,s.high=k+M+(C>>>0<B>>>0?1:0),w=a.low=w+F,a.high=_+N+(w>>>0<F>>>0?1:0),T=c.low=T+U,c.high=b+H+(T>>>0<U>>>0?1:0),x=h.low=x+W,h.high=S+j+(x>>>0<W>>>0?1:0),A=d.low=A+K,d.high=E+z+(A>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(n+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process();var r=this._hash.toX32();return r},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(h),t.HmacSHA512=n._createHmacHelper(h)}(),e.SHA512}))},2898:function(e,t,i){(function(t,n,r){e.exports=n(i(7424),i(1586),i(2691),i(9904),i(2811))})(0,(function(e){return function(){var t=e,i=t.lib,n=i.WordArray,r=i.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=r.extend({_doReset:function(){for(var e=this._key,t=e.words,i=[],n=0;n<56;n++){var r=s[n]-1;i[n]=t[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],l=0;l<16;l++){var u=o[l]=[],h=c[l];for(n=0;n<24;n++)u[n/6|0]|=i[(a[n]-1+h)%28]<<31-n%6,u[4+(n/6|0)]|=i[28+(a[n+24]-1+h)%28]<<31-n%6;u[0]=u[0]<<1|u[0]>>>31;for(n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,i){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var r=i[n],o=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=l[c][((s^r[c])&u[c])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function f(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}t.DES=r._createHelper(h);var p=o.TripleDES=r.extend({_doReset:function(){var e=this._key,t=e.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var i=t.slice(0,2),r=t.length<4?t.slice(0,2):t.slice(2,4),o=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=h.createEncryptor(n.create(i)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(p)}(),e.TripleDES}))},2609:function(e,t,i){i(7658),function(t,n){e.exports=n(i(7424))}(0,(function(e){return function(t){var i=e,n=i.lib,r=n.Base,o=n.WordArray,s=i.x64={};s.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=r.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],n=0;n<t;n++){var r=e[n];i.push(r.high),i.push(r.low)}return o.create(i,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),i=t.length,n=0;n<i;n++)t[n]=t[n].clone();return e}})}(),e}))},7793:function(e){var t=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function n(e,i){while(e&&e.nodeType!==t){if("function"===typeof e.matches&&e.matches(i))return e;e=e.parentNode}}e.exports=n},7414:function(e,t,i){var n=i(7793);function r(e,t,i,n,r){var o=s.apply(this,arguments);return e.addEventListener(i,o,r),{destroy:function(){e.removeEventListener(i,o,r)}}}function o(e,t,i,n,o){return"function"===typeof e.addEventListener?r.apply(null,arguments):"function"===typeof i?r.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,i,n,o)})))}function s(e,t,i,r){return function(i){i.delegateTarget=n(i.target,t),i.delegateTarget&&r.call(e,i)}}e.exports=o},7008:function(e,t,i){var n,r,o;i(1439),i(7585),i(5315),i(2801),i(2062),function(i,s){r=[],n=s,o="function"===typeof n?n.apply(t,r):n,void 0===o||(e.exports=o)}(0,(function(){return function e(t,i,n){var r,o,s=window,a="application/octet-stream",c=n||a,l=t,u=!i&&!n&&l,h=document.createElement("a"),d=function(e){return String(e)},f=s.Blob||s.MozBlob||s.WebKitBlob||d,p=i||"download";if(f=f.call?f.bind(s):Blob,"true"===String(this)&&(l=[l,c],c=l[0],l=l[1]),u&&u.length<2048&&(p=u.split("/").pop().split("?")[0],h.href=u,-1!==h.href.indexOf(u))){var g=new XMLHttpRequest;return g.open("GET",u,!0),g.responseType="blob",g.onload=function(t){e(t.target.response,p,a)},setTimeout((function(){g.send()}),0),g}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&f!==d))return navigator.msSaveBlob?navigator.msSaveBlob(k(l),p):C(l);l=k(l),c=l.type||a}else if(/([\x80-\xff])/.test(l)){var v=0,y=new Uint8Array(l.length),m=y.length;for(v;v<m;++v)y[v]=l.charCodeAt(v);l=new f([y],{type:c})}function k(e){var t=e.split(/[:;,]/),i=t[1],n="base64"==t[2]?atob:decodeURIComponent,r=n(t.pop()),o=r.length,s=0,a=new Uint8Array(o);for(s;s<o;++s)a[s]=r.charCodeAt(s);return new f([a],{type:i})}function C(e,t){if("download"in h)return h.href=e,h.setAttribute("download",p),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout((function(){h.click(),document.body.removeChild(h),!0===t&&setTimeout((function(){s.URL.revokeObjectURL(h.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var i=document.createElement("iframe");document.body.appendChild(i),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),i.src=e,setTimeout((function(){document.body.removeChild(i)}),333)}if(r=l instanceof f?l:new f([l],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(r,p);if(s.URL)C(s.URL.createObjectURL(r),!0);else{if("string"===typeof r||r.constructor===d)try{return C("data:"+c+";base64,"+s.btoa(r))}catch(_){return C("data:"+c+","+encodeURIComponent(r))}o=new FileReader,o.onload=function(e){C(this.result)},o.readAsDataURL(r)}return!0}}))},7058:function(e,t,i){"use strict";i(7658);var n=Object.prototype.hasOwnProperty,r="~";function o(){}function s(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function a(e,t,i,n,o){if("function"!==typeof i)throw new TypeError("The listener must be a function");var a=new s(i,n||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function c(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),l.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},l.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},l.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},l.prototype.emit=function(e,t,i,n,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,o),!0;case 6:return u.fn.call(u.context,t,i,n,o,s),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,i);break;case 4:u[l].fn.call(u[l].context,t,i,n);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},l.prototype.on=function(e,t,i){return a(this,e,t,i,!1)},l.prototype.once=function(e,t,i){return a(this,e,t,i,!0)},l.prototype.removeListener=function(e,t,i,n){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return c(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||n&&!s.once||i&&s.context!==i||c(this,o);else{for(var a=0,l=[],u=s.length;a<u;a++)(s[a].fn!==t||n&&!s[a].once||i&&s[a].context!==i)&&l.push(s[a]);l.length?this._events[o]=1===l.length?l[0]:l:c(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&c(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l},25:function(e,t,i){"use strict";e.exports=i.p+"img/chazhao.1b3c5f8c.png"},3001:function(e,t,i){"use strict";e.exports=i.p+"img/daili.f3db39de.png"},1935:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACupJREFUeF7tnQtOHDsQRcv57IOsJGElBCkTKasgrCISRIKshMlKYB+PpJ+6mRCSAONPue1ynZGeUPTan7p1z9junraD8EEBFHhSgYA2KIACTysAILgDBZ5RAECwBwoACB5AgTwFGEHydKOUEwUAxEmiCTNPAQDJ041SThQAECeJJsw8BQAkTzdKOVEAQJwkmjDzFACQPN0o5UQBAHGSaMLMUwBA8nSjlBMFAMRJogkzTwEAydONUk4UABAniSbMPAUAJE83SjlRAECcJJow8xQAkDzdKOVEAQBxkmjCzFMAQPJ0o5QTBQDESaIJM08BAMnTjVJOFAAQJ4kmzDwFhgNk+iIH8lLeyQt5Kz/l3b0sQQ7yJKLUagpMcrO0FXZ/J/kmP2QbPu3+vVpHfjc0DCDTV7lYgACEBjaq3uRWGsFiGpBltHgtJzLJ++opooE+FJjkeM1RxSwg07l8FpGTPrJGL1ZXYJLj8FEua7drEpDpXK5EHqwvaqtE/b0qcCq3cllzjWIKkGVK9UougKNXvzbp11Zu5bgWJGYAAY4m5rPRaJBL+U9Oa0BiBxCmVTbM2q6Xp2GzrEtVPyYAWW7hcqdKNfGDVqYOSfeATOfLYnxelOd/fj2Ayq+BkmspUPoc61beaE61+gfkTK6zHv7N89JJvoWNbNfKLe3oKLB8KQY5ynzwqzqKdA1I5rMOVYF0Uk4tOQpkPwhWHEV6B2RKFPaQESNRMQOXZ3xRbsNGDjVC6xaQ3W3d6+ggV3qyGt0fLlRVIBkSpVGkX0DSfkrCtErVjn1WNqWsR5W+MPsFJEGMsJFu4+jTajZ7lXRHM8hl+CDHpZF2aazE6RWjR6kLDJVPGUU0vjhHAISFuSGDl3Y1aS2isA7pE5AzeS9h+VHi3o/Gt8TeRrigGwWSplnDAhK7QJ/kJnyUN91kj45UVyBx+l08u+hzBAGQ6kaz2kASIAp3sgDEqlOc9htARCR6IcYUyx0mAAIg7kyfEjCAAEiKX9xdCyAA4s70KQEDCICk+MXdtQACIO5MnxIwgABIil/cXQsgAOLO9CkBAwiApPjF3bUAAiDuTJ8SMIAASIpf3F0LIADizvQpAQMIgKT4xd21AAIgKqa/31Nqrm1ajp/7XvuoAJWO76kEQACk2GfT829kVj9ToziAZyoAEAAp8lekgcxCEhnfnYa8MMUrt3/TFH36VsUzNYoIZ4q1X77lhalJjvZeGeRGa4vJvW0ZuWA6l5TtWquezlRDMkaQGqo6qjNl36idLKYgARBHZq4RagYgczfMQAIgNVzjqM7o9/n/WbzIjfyQQ83DZ2rIDiA1VHVWZ+YoMt/16R4SAHFm5lrhjgoJgNRyjMN6o2/5GppuAYhDI9cMOfuE4E6nWwBS0y1O6x4JEgBxauLaYWdDMndMYZd0rfgAREtJ6vlHgexbwB1BAiAYu6oC1iEBkKr2oPJZgSJIFH4hW5IFAClRj7LRCliFBECiU8yFpQpYhARASrNO+SQF7l8tCMtruamf1U8YBpDUFHF9sQKWIAGQ4nRTQY4CViABkJzsUkZFAQuQAIhKqqkkV4HlHPJJLqTTNQmA5GaWcmoK9AwJgKilmYpKFCiFpNYmdQBSklXKqiqwmPGlXOVOt2pAAiCqKaayUgV6gwRASjNKeXUFCiFR3TEFQNTTS4UaCvQCCYBoZJM6qijQAyQAUiW1VKqlQGtIAEQrk9RTVYFW2woBSNW0UrmmAi0gARDNDFJXdQXWhsQ0IMvT1yBH8nP5m/N+QfWE0kBHCmTsvWUWkKK30zrKGV1ZWYFESEwCsowcIlcrS0tz4ygQ/WaiVUBmOGZI+KBAugJT/FF6VgFJOfYrXUBKjK9A5O6NNgE5k2sW5eN7uGaEYSMhpn4AiVGJa8ZSwMEU67OInIyVNaJZUYGxF+mzkNzmXdFOIzWVMHosPptf4nol11ESKGyTGjXvi+rMHSTznawTmeSANUmsao6vm5+BBDkOG9nGqmAakNgguW4cBbLPHcmAw/wIMk7aiSRGgSI4Mo+cZgSJyQzXNFegBI7wUd7kBgAgucpRbjUFSk7PLYGDKdZqKaahXAVawgEguVmj3CoKZMMhsg0bOdToJFMsDRWpQ12BHuBgBFFPKxVqKNALHACikU3qUFWgJzgARDW1VFaqQG9wAEhpRimvosBuIXyR+RKc2oL8sWBYpKukmEpyFegZDkaQ3KxSTkWBIjiCXIYPcqzSkWcqYQSprTD1P6pA0ZaiK8HBCIJ5myiQ9K38dw9XhANAmtjDd6OW4AAQ315dPfqi/cwU3tbLCTgJaIU+qr5RmBMwZdooYBEORpA2XnHXqlU4AMSdVdcP2DIcALK+X1y1WASHyGHK5gq1hGUNUktZ5/WOAAcjiHMT1wp/FDgApJZDHNc7ncl7CTL/8DDn08W06mHHmWLlpJEyjyowGhyMIBhdTYER4QAQNXv4rmhUOADEt69Vok+ao/8xuU/fJ1elw4mVJMXHT00S1XVwedYu+5n75LaQE0BaqD5Qm8nvkRuCgynWzqjLt+AkR3t9G+RGa0OyvW0ZuSAJEGNwAMhDQGJOrEo8fMWIx4u6GT3FMqodU6yU06qMJrmIgD2Fo16dNawbgABIMT/LT0smuXjilK+q2/IUdz7mC8DqEWxa4ow+TdDSaV89Ox3fLtcFuZFJvvXwi9x9/X7u/zOCMIKU+Gf4sgACIMObvCRAAAGQEv8MXxZAAGR4k5cECCAAUuKf4csCCIAMb/KSAAEEQEr8M3xZAAGQ4U1eEiCAAEiJf4YvCyAAMrzJSwIEEAAp8c/wZQEEQIY3eUmAAAIgJf4ZviyAAMjwJi8JEEAApMQ/w5cFkBmQhO0yw0Y4BGh4LH4HmASIwo70XZorBRC5lTfhk9w48ojrUBM34i7eW7hPQOZXRkWuIp1QLEJkO1zWgQLRb5vOL1EqzC76BOSLHEjse8crH0PcgUdcdyF6WyOljSm6BGR2wHQm109sOvCvQZhmuYAmcf2hsjlFv4DMm8fF7I11Z43TsFmu5zOwAtGjh6InegYkZR0CJAODscwo0r4wVdYfc7vdApI8zVoKyHH4KJeDe8VdeKlwiNL6o39AEr81ds45lVu55NbvGBwlTqt+Ba12Z7PrESRrFPnti1MR2cqt3ACLLViW52Av5K1M8j6j5yqL81/t9g9I2jORx/WcdzHnY0OBIAdFHVW+o9k9IDkLtCKBKWxZAfW7mSYAKZxqWU44fY9VoNIDYzOAAEmsU1xep7rueKigLUDmn6C8lKvoJ+wuveIu6GpwdH+b96lUT1/lIvMOhzv3DB6w+prjb71MjSAPO39/jmHpXY/BHTRweGrPOp7TyCwgu7tb7yTIkfyU+W/Z7cGBnTRYaNVHDbNrkCenXPPa5LWcAMpgKPwZzqpg/Gra9AjymB12b5zNP3S8O3ps2o0sjDA26Lk7mvruv5/yXX7ItuUvIYYDxIYL6KUVBQDESqboZxMFAKSJ7DRqRQEAsZIp+tlEAQBpIjuNWlEAQKxkin42UQBAmshOo1YUABArmaKfTRQAkCay06gVBQDESqboZxMFAKSJ7DRqRQEAsZIp+tlEAQBpIjuNWlEAQKxkin42UQBAmshOo1YUABArmaKfTRQAkCay06gVBQDESqboZxMFAKSJ7DRqRQEAsZIp+tlEAQBpIjuNWlEAQKxkin42UQBAmshOo1YUABArmaKfTRQAkCay06gVBf4HR8jKFNX3IoEAAAAASUVORK5CYII="},83:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAD5VJREFUeF7tnW2sZVddh5//7YwRCZPwYVDU1BkLphCMgEgEIZ1BIlDBqIVKtdLeztlnSoOJLRIrJsyMbwR5sSqlzj2HuUNqbIkFtSbQYoA7UiLWt/oWooK9pF+UFBRo1dA7d5mz53aYO733zv7tc/beZ53z21/mw/zWWns9//2ctd/uOYE3EzCBbQmE2ZiACWxPwIL46DCBHQhYEB8eJmBBfAyYQD0CXkHqcXOrOSFgQeak0J5mPQIWpB43t5oTAhZkTgrtadYjYEHqcXOrOSFgQeak0J5mPQIWpB43t5oTAhZkTgrtadYjYEHqcXOrOSFgQeak0J5mPQIWpB43t5oTAhZkTgrtadYjYEHqcXOrOSGQjSDpNvaVNdm18e+cFGgmp7nGaryR1RzmNpWClDLs4lqC72KdA4SlyOFgkvcxscoCK6xzKvqclNu30GCqBCnF2M0REte2MHcPMU0ERrJEuaoci4KVadm1qRDEYkzL4TAl+xGc5DGOTcNpWOeCpKXyVGp5Skrj3ZgWAmdWlA9EwdEud6lTQdKgnPyRLgF47KknMDrl6kySzgRJAz4JHJj68ngHuycQnIwei13sSCeCeOXootTZj9nJStK6IGlQrhqj1cObCWgEEott3w7uQpCkUXHaBDYIJFajz/42ebQqSBqy7GccbZZ3Bsdq+XqkNUE2no4/OIMl85TaJHDm9u9iWw8T2xPEq0ebh9Fsj9XiKtKeIEs8WPudqo2HRjA9ryDM9hHY4OwS+zaOg8tq3+Zv8VqkFUFqPy1veTlt8LBw11sQKO9oJpZrfnAebOM0qx1B6p5erbF/Gt7H8dHdHIExrk1beS4yzYK08gnRXOndc1UCNc8wVqLgYNUx6ubaEaTG9UcUtLJvdcG53WQJpAHq87E5FqTFuxSTLbN7q0tAfjevpQv1Vj6la3w6tHJ+WbeYbjd5AvL7eRaku1ecJ19+93ghArIgQBun4V5BLlQ5/38rBCyIhtmnWBqv7NMWRCuhBdF4ZZ+2IFoJLYjGK/u0BdFKaEE0XtmnLYhWQgui8co+bUG0EloQjVf2aQuildCCaLyyT1sQrYQWROOVfdqCaCW0IBqv7NMWRCuhBdF4ZZ+2IFoJJyZIOsFe1rkceBHrXEzw9wSnosc92i41l04DXgq8DHgewX+RuB+4Jwqm4ksu0nG+heDVwEuAZwH/SHAf6/xpHOaxSZCxIBrFsQVJQ15I4ueBq7YcOvgPYIk9vDOu5BFt9yaTTkNuJHE98D3b9PgREr8Tfe6dzIhaL2mZZ7LGTVDu41bbowRDFnh3XMdDWu+b0xZEozeWIGnIu0llYats68A1UfD7VcKTyKQlXrHxjfZPr9Rf4nYSPxeH+Uql/ARCacBbgV8XuroxCm4R8puiFkQjV1uQNOB24GptuNG70/xM9PgDuZ3YIB3nJSzwKbHZKH4qina+7DsN+TUSvyzvY+Lm6PMOuR1gQTRqtQRJA14L/KE21Nn0Gl9jT9zE/9ZsX6lZGvBp4MWVwueHgrdEj3fValux0cap6V9WjD8xtsClcYh/UdtbEI1YXUH+CniBNtSm9Nui4FfHaL9j0zQoV7bRCldvC77EHr49ruTr9Tq4cKu0xF0EV1w4uU0icSL6HFLbWxCNmCxIOsHLOc2facM8If1QFFw8Zh/bNpf/7nqrnoLro8fxJvYxDXkGiX8bu+919sZhHlb6sSAKrTM/5Cj9qlBa4laCG7Rhtkz/cBR8YgL9bOoiHediFvjCBPq9NwpeOYF+ntBFGvBmmMgpXC8K3q/sowVRaNUT5AvERD79ZTmrTG3s06tzBmnqb7HTkLtJvKbKfHbMBLdHjzco/VgQhZYoSFrmm1mb2MX1H0XBT2q7e+F0GvCbwFsunKyQCL43evxThaQUSYNyhZvEKeY/RMH3KYNbEIWWKMio6zTgi8BebZgt0onfin7lZyiVh0tL3EBwa+UGOwUX2BOH+NpE+jqnkzTgL4AfnEC/fxIFP670Y0EUWnUEGXIHiddrw2yZfl0U3DWBfjZ1kZZ4LsHfjd1v8NfR4wfG7merz4Yhv0Hil8bue51fjMPlill5syCVUZVB+TpgYuf46zw5DvM/2u5WS6cBnwUurZbeNnU0Co6N2ceWzdOQHyJx39h9J54Tff5Z6ceCKLRqCDLqPg3K96u+VRvqnHQwiB792u0v0DANuBl4+1j9P8YlcQP/PlYfOzROA0YPCV9Yu//gY9HjFWp7C6IRk1eQDUFGF8HS0n7ebj07ivJTvpEtvYcn8ZSxVqfbopjIrext55cG/BRwZ20AwavqvCltQTTitQTZkORvgOdrw42WH34l+hyR24kN0pDrSNozgo0hHuabuDSu4UvikHJ8jKfpy1FwnTyg38WSv9q+viBnLoaHwPcLhbo1Ct4k5MeKpkEpYvUHocFDBL04xMfGGrhi43QbT2M3J0m8qmKT0cueH+Iiro5F/q9ym3OCXkE0arUFeXyYtFTeqr2J4Dt2GHqF07wjrm//j6fSUnkn6q3EjrdDHyG4hUs4FgdZ0xCOn04DFgl+gcSzd+htdGfunVFwxzgjWhCN3tiCnCPKlQQ/SnCQxLeR+DwL3M0afxzXl/f9O93SkOeQuILgZaTyRcvR841PEXyUr3JH028XV5l8GnA5iR8j+BFgP/A5gntI3B3F2O+/lbtgQapU4huZiQmiDev0hQikoyzEUUZ/ZDbRzYJoOC2Ixiv7tAXRSmhBNF7Zpy2IVkILovHKPm1BtBJaEI1X9mkLopXQgmi8sk9bEK2EFkTjlX3agmgltCAar+zTFkQroQXReGWftiBaCS2Ixiv7tAXRSmhBNF7Zpy2IVkILovHKPm1BtBJaEI1X9mkLopXQgmi8sk9bEK2EFkTjlX3agmgltCAar+zTFkQroQXReGWftiBaCS2Ixiv7tAXRSmhBNF7Zpy2IVkILovHKPm1BtBJaEI1X9mkLopXQgmi8sk9bEK2EFkTjlX3agmgltCAar+zTFkQr4cQEScd5ujb0HKSfzKNxNV+dpplaEK0aYwmSjvM6FvhZ4NWMvjXW21YE/pPEe9nNe2OR/+4akQXRKlBLkHSC7+Y0J4DLtOHmOr1O4lD0OdklBQui0a8nyJBPkDioDeV0SSDxvOjzQFc0LIhGXhYkDXnN6MuUtWGcPksguDN6XNUVEQuikdcFWeKDBFdqwzi9icA6e+MwD3dBxYJo1HVBBuVdmadowzh9HoErouDDXVCxIBr1OoKMfmDmIm0YpzcRSCx2dbFuQbRjsY4gK757pUHeIt3oj5jutHcWRKudLsiQN5H4XW0Yp88h8JkoeFFXRCyIRl4WpLxTucSXCZ6qDeX0BoHXR8EHu6JhQTTydQX5ifLXVv30XKMdnIwei1qjyaYtiMazliDlKnKcS1jgZqCnDTmH6cR9BL8dBXd1PXsLolWgtiCPD5Pew5PYw2UkLtaGnoP0Oo9wEfdHj89Ny2wtiFaJsQXRhnO6awIWRKuABdF4ZZ+2IFoJLYjGK/u0BdFKaEE0XtmnLYhWQgui8co+bUG0EloQjVf2aQuildCCaLyyT1sQrYQWROOVfdqCaCW0IBqv7NMWRCuhBdF4ZZ+2IFoJLYjGK/u0BdFKaEE0XtmnLYhWQgui8co+bUG0EloQjVf2aQuildCCaLyyT1sQrYQWROOVfdqCaCW0IBqv7NMWRCuhBdF4ZZ+2IFoJLYjGK/u0BdFKaEE0XtmnLYhWQgui8co+bUG0EloQjVf2aQuildCCaLyyT1sQrYQWROOVfdqCaCUcS5A04DsJfpp1XklwCZz98rjParvh9DYEngV8Hfg88ACJj0af28ehZUE0erUFSQPeDuVXj3prm0DiDXVFsSBasWoJkob8HonD2lBOT5RA4qroc6fapwXRiMmCpCVeTPBpbRinGyBwOgp2qf1aEI2YLsiAIXBIG8bpRggkXhv98mcoKm8WpDKqMqgLssRXCPZowzjdCIHEIPr0lb4tiEJLFCS9j6eymy9rQzjdGIHgz6PHZUr/FkShJQoy6joN+CKwVxvG6YYI3BIFNyp9WxCFVj1B3gW8WRvG6UYIBC+PHh9X+rYgCq06gizzTNb4V20YpydOILgverxU7deCaMTki/TyNGvI20gc04ZyeqIEEgeizym1TwuiEaslSCnJEtcSLGvDOT0BAvcQHIke99fpy4Jo1GoL8vgwacDlwAFg9N7Qo9rwTlcg8IzyXazgAU5zbxzmbyu02TZiQTR6YwuiDed01wQsiFYBC6Lxyj5tQbQSWhCNV/ZpC6KV0IJovLJPWxCthBZE45V92oJoJbQgGq/s0xZEK6EF0Xhln7YgWgktiMYr+7QF0UpoQTRe2actiFZCC6Lxyj5tQbQSWhCNV/ZpC6KV0IJovLJPWxCthBZE45V92oJoJbQgGq/s0xZEK6EF0Xhln7YgWgktiMYr+7QF0UpoQTRe2actiFZCC6Lxyj5tQbQSWhCNV/bpNGSZxLXKRKIglHydbOMDjHYqLfEgwT5hB1ei4KCQdzRzArIgidXos7/pabcjyIBPbnyBQrX5tDT5ajvjVBsEpvVDdDoFKZcdFqPPyTaK4zG6JVDrq5qCk9Fjsek9b0uQo8ARaTKJVU5zMN7IqtTO4awIpNvYxy4elHd6xgQZfT/V6DRL20aSBB+IgpFg3maMQBqU31umHxdnOByMgpWmkbSzgtT9lPjG7FcIVlnnVPmvt3wJJPaVN2wS14g3bjbNuY07WKMBWxGkvKRQL9TzPQS8500TaOn0ql1Bxl9Fmsbu/nMhsMb+tq5NW1tBylWkxsOgXGrm/WyJQIurR6srSCmIV5GWjqIZHqbF1aN1QUpJ/PMEM3z0Nj61Vu5cnTuLVk+xHh+4zotpjaP3ANNOoJP387oRZHSqtZsj6stp015B719jBDp7N68TQc65Hhm9vak9YW+sBu54Kgm0fFF+PoPOBPHp1lQejtO1U1PwPl7ngpxdTXzKNV0HZ7d7s8Iai20969hpqlMhyNnV5Mxt4NEPcI7e0fE2bwTOvHu32MY7VlXRTpUgm0S5iAME11iWqqXMMDcSYrRN8QupUynI+aUuHzCOtl3SXyVmeMTMyS6vsToNp09VaGchSJWJOGMCTRCwIE1QdZ8zQ8CCzEwpPZEmCFiQJqi6z5khYEFmppSeSBMELEgTVN3nzBCwIDNTSk+kCQIWpAmq7nNmCFiQmSmlJ9IEAQvSBFX3OTMELMjMlNITaYKABWmCqvucGQIWZGZK6Yk0QcCCNEHVfc4MAQsyM6X0RJogYEGaoOo+Z4aABZmZUnoiTRCwIE1QdZ8zQ+D/Afg7LyOmOzQBAAAAAElFTkSuQmCC"},3120:function(e,t,i){"use strict";e.exports=i.p+"img/xunzhang.f9097ca6.png"},8870:function(e,t,i){"use strict";e.exports=i.p+"img/zhuanti.4926fc05.png"},5629:function(){}}]);
//# sourceMappingURL=about.f661578f.js.map